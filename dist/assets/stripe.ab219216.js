import{P as m,R as u}from"./moreBigLibs.00d880fd.js";function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(e){return typeof e}:R=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(t)}function K(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ie(t,e){return ue(t)||se(t,e)||ce(t,e)||le()}function ue(t){if(Array.isArray(t))return t}function se(t,e){var r=t&&(typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],a=!0,o=!1,f,p;try{for(r=r.call(t);!(a=(f=r.next()).done)&&(n.push(f.value),!(e&&n.length===e));a=!0);}catch(i){o=!0,p=i}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw p}}return n}}function ce(t,e){if(!!t){if(typeof t=="string")return L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(t,e)}}function L(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=function(e){var r=u.useRef(e);return u.useEffect(function(){r.current=e},[e]),r.current},C=function(e){return e!==null&&R(e)==="object"},fe=function(e){return C(e)&&typeof e.then=="function"},pe=function(e){return C(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},q="[object Object]",de=function t(e,r){if(!C(e)||!C(r))return e===r;var n=Array.isArray(e),a=Array.isArray(r);if(n!==a)return!1;var o=Object.prototype.toString.call(e)===q,f=Object.prototype.toString.call(r)===q;if(o!==f)return!1;if(!o&&!n)return e===r;var p=Object.keys(e),i=Object.keys(r);if(p.length!==i.length)return!1;for(var y={},v=0;v<p.length;v+=1)y[p[v]]=!0;for(var S=0;S<i.length;S+=1)y[i[S]]=!0;var s=Object.keys(y);if(s.length!==p.length)return!1;var E=e,h=r,g=function(P){return t(E[P],h[P])};return s.every(g)},G=function(e,r,n){return C(e)?Object.keys(e).reduce(function(a,o){var f=!C(r)||!de(e[o],r[o]);return n.includes(o)?(f&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):f?W(W({},a||{}),{},K({},o,e[o])):a},null):null},ve="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",F=function(e){if(e===null||pe(e))return e;throw new Error(ve)},me=function(e){if(fe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(F)};var r=F(e);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},T=u.createContext(null);T.displayName="ElementsContext";var ye=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},Se=function(e){var r=e.stripe,n=e.options,a=e.children,o=u.useMemo(function(){return me(r)},[r]),f=u.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(n):null}}),p=ie(f,2),i=p[0],y=p[1];u.useEffect(function(){var s=!0,E=function(g){y(function(j){return j.stripe?j:{stripe:g,elements:g.elements(n)}})};return o.tag==="async"&&!i.stripe?o.stripePromise.then(function(h){h&&s&&E(h)}):o.tag==="sync"&&!i.stripe&&E(o.stripe),function(){s=!1}},[o,i,n]);var v=x(r);u.useEffect(function(){v!==null&&v!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[v,r]);var S=x(n);return u.useEffect(function(){if(!!i.elements){var s=G(n,S,["clientSecret","fonts"]);s&&i.elements.update(s)}},[n,S,i.elements]),u.useEffect(function(){var s=i.stripe;!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"1.8.1"}),s.registerAppInfo({name:"react-stripe-js",version:"1.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},[i.stripe]),u.createElement(T.Provider,{value:i},a)};Se.propTypes={stripe:m.any,options:m.object};var M=function(e){var r=u.useContext(T);return ye(r,e)};m.func.isRequired;var O=function(e){var r=u.useRef(e);return u.useEffect(function(){r.current=e},[e]),function(){r.current&&r.current.apply(r,arguments)}},w=function(){},Ee=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=function(e,r){var n="".concat(Ee(e),"Element"),a=function(i){var y=i.id,v=i.className,S=i.options,s=S===void 0?{}:S,E=i.onBlur,h=E===void 0?w:E,g=i.onFocus,j=g===void 0?w:g,P=i.onReady,Y=P===void 0?w:P,I=i.onChange,H=I===void 0?w:I,N=i.onEscape,J=N===void 0?w:N,k=i.onClick,Q=k===void 0?w:k,Z=M("mounts <".concat(n,">")),B=Z.elements,b=u.useRef(null),_=u.useRef(null),ee=O(Y),re=O(h),te=O(j),ne=O(Q),ae=O(H),oe=O(J);u.useLayoutEffect(function(){if(b.current==null&&B&&_.current!=null){var d=B.create(e,s);b.current=d,d.mount(_.current),d.on("ready",function(){return ee(d)}),d.on("change",ae),d.on("blur",re),d.on("focus",te),d.on("escape",oe),d.on("click",ne)}});var U=x(s);return u.useEffect(function(){if(!!b.current){var d=G(s,U,["paymentRequest"]);d&&b.current.update(d)}},[s,U]),u.useLayoutEffect(function(){return function(){b.current&&(b.current.destroy(),b.current=null)}},[]),u.createElement("div",{id:y,className:v,ref:_})},o=function(i){M("mounts <".concat(n,">"));var y=i.id,v=i.className;return u.createElement("div",{id:y,className:v})},f=r?o:a;return f.propTypes={id:m.string,className:m.string,onChange:m.func,onBlur:m.func,onFocus:m.func,onReady:m.func,onClick:m.func,options:m.object},f.displayName=n,f.__elementType=e,f},l=typeof window=="undefined";c("auBankAccount",l);c("card",l);c("cardNumber",l);c("cardExpiry",l);c("cardCvc",l);c("fpxBank",l);c("iban",l);c("idealBank",l);c("p24Bank",l);c("epsBank",l);c("payment",l);c("paymentRequestButton",l);c("linkAuthentication",l);c("shippingAddress",l);c("affirmMessage",l);c("afterpayClearpayMessage",l);var V="https://js.stripe.com/v3",he=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,D="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ge=function(){for(var e=document.querySelectorAll('script[src^="'.concat(V,'"]')),r=0;r<e.length;r++){var n=e[r];if(!!he.test(n.src))return n}return null},be=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(V).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},Oe=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.31.0",startTime:r})},A=null,we=function(e){return A!==null||(A=new Promise(function(r,n){if(typeof window=="undefined"){r(null);return}if(window.Stripe&&e&&console.warn(D),window.Stripe){r(window.Stripe);return}try{var a=ge();a&&e?console.warn(D):a||(a=be(e)),a.addEventListener("load",function(){window.Stripe?r(window.Stripe):n(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){n(new Error("Failed to load Stripe.js"))})}catch(o){n(o);return}})),A},Ce=function(e,r,n){if(e===null)return null;var a=e.apply(void 0,r);return Oe(a,n),a},z=Promise.resolve().then(function(){return we(null)}),X=!1;z.catch(function(t){X||console.warn(t)});var Pe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];X=!0;var a=Date.now();return z.then(function(o){return Ce(o,r,a)})};export{Se as E,Pe as l};
