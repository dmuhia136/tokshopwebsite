var Hm=Object.defineProperty,Ym=Object.defineProperties;var Wm=Object.getOwnPropertyDescriptors;var Jl=Object.getOwnPropertySymbols;var qm=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable;var ec=(t,e,n)=>e in t?Hm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tc=(t,e)=>{for(var n in e||(e={}))qm.call(e,n)&&ec(t,n,e[n]);if(Jl)for(var n of Jl(e))Gm.call(e,n)&&ec(t,n,e[n]);return t},nc=(t,e)=>Ym(t,Wm(e));import{j as u,r as p,P as Y,R as Ot,d as yn,e as Ct,f as Km,h as se,a as m,i as Xm,b as at,v as Qm,k as Pu,l as Zm,m as xo,o as Jm,p as ep}from"./moreBigLibs.00d880fd.js";import{p as ba,i as tp,S as we,q as Ou,Q as Lu}from"./bigLibs.c150cb44.js";import{A as np}from"./agora.0fcbc9c9.js";import{l as rp,E as sp}from"./stripe.ab219216.js";const ip=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};ip();const ap="modulepreload",rc={},op="/",Ur=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${op}${r}`,r in rc)return;rc[r]=!0;const s=r.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":ap,s||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),s)return new Promise((o,l)=>{a.addEventListener("load",o),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},lp=()=>u("div",{className:"flex justify-center items-center",children:u("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})});function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}var Jt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jt||(Jt={}));var sc=function(t){return t},ic="beforeunload",cp="popstate";function up(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,s=r.history;function i(){var w=r.location,A=w.pathname,K=w.search,Le=w.hash,Fe=s.state||{};return[Fe.idx,sc({pathname:A,search:K,hash:Le,state:Fe.usr||null,key:Fe.key||"default"})]}var a=null;function o(){if(a)y.call(a),a=null;else{var w=Jt.Pop,A=i(),K=A[0],Le=A[1];if(y.length){if(K!=null){var Fe=d-K;Fe&&(a={action:w,location:Le,retry:function(){E(Fe*-1)}},E(Fe))}}else _(w)}}r.addEventListener(cp,o);var l=Jt.Pop,c=i(),d=c[0],h=c[1],f=oc(),y=oc();d==null&&(d=0,s.replaceState(Ms({},s.state,{idx:d}),""));function g(w){return typeof w=="string"?w:_a(w)}function v(w,A){return A===void 0&&(A=null),sc(Ms({pathname:h.pathname,hash:"",search:""},typeof w=="string"?vn(w):w,{state:A,key:hp()}))}function b(w,A){return[{usr:w.state,key:w.key,idx:A},g(w)]}function R(w,A,K){return!y.length||(y.call({action:w,location:A,retry:K}),!1)}function _(w){l=w;var A=i();d=A[0],h=A[1],f.call({action:l,location:h})}function k(w,A){var K=Jt.Push,Le=v(w,A);function Fe(){k(w,A)}if(R(K,Le,Fe)){var ht=b(Le,d+1),Mt=ht[0],G=ht[1];try{s.pushState(Mt,"",G)}catch{r.location.assign(G)}_(K)}}function M(w,A){var K=Jt.Replace,Le=v(w,A);function Fe(){M(w,A)}if(R(K,Le,Fe)){var ht=b(Le,d),Mt=ht[0],G=ht[1];s.replaceState(Mt,"",G),_(K)}}function E(w){s.go(w)}var I={get action(){return l},get location(){return h},createHref:g,push:k,replace:M,go:E,back:function(){E(-1)},forward:function(){E(1)},listen:function(A){return f.push(A)},block:function(A){var K=y.push(A);return y.length===1&&r.addEventListener(ic,ac),function(){K(),y.length||r.removeEventListener(ic,ac)}}};return I}function ac(t){t.preventDefault(),t.returnValue=""}function oc(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function hp(){return Math.random().toString(36).substr(2,8)}function _a(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,s=r===void 0?"":r,i=t.hash,a=i===void 0?"":i;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function vn(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bo=p.exports.createContext(null),_o=p.exports.createContext(null),Gn=p.exports.createContext({outlet:null,matches:[]});function ot(t,e){if(!t)throw new Error(e)}function dp(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vn(e):e,s=Vu(r.pathname||"/",n);if(s==null)return null;let i=Fu(t);fp(i);let a=null;for(let o=0;a==null&&o<i.length;++o)a=_p(i[o],s);return a}function Fu(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((s,i)=>{let a={relativePath:s.path||"",caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||ot(!1),a.relativePath=a.relativePath.slice(r.length));let o=$t([r,a.relativePath]),l=n.concat(a);s.children&&s.children.length>0&&(s.index===!0&&ot(!1),Fu(s.children,e,l,o)),!(s.path==null&&!s.index)&&e.push({path:o,score:xp(o,s.index),routesMeta:l})}),e}function fp(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bp(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mp=/^:\w+$/,pp=3,gp=2,yp=1,vp=10,wp=-2,lc=t=>t==="*";function xp(t,e){let n=t.split("/"),r=n.length;return n.some(lc)&&(r+=wp),e&&(r+=gp),n.filter(s=>!lc(s)).reduce((s,i)=>s+(mp.test(i)?pp:i===""?yp:vp),r)}function bp(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _p(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let o=n[a],l=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Sp({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=o.route;i.push({params:r,pathname:$t([s,d.pathname]),pathnameBase:$u($t([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=$t([s,d.pathnameBase]))}return i}function Sp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Cp(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let f=o[h]||"";a=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[d]=Np(o[h]||""),c},{}),pathname:i,pathnameBase:a,pattern:t}}function Cp(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,o)=>(r.push(o),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(s,e?void 0:"i"),r]}function Np(t,e){try{return decodeURIComponent(t)}catch{return t}}function Ep(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vn(t):t;return{pathname:n?n.startsWith("/")?n:kp(n,e):e,search:Ip(r),hash:Dp(s)}}function kp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Uu(t,e,n){let r=typeof t=="string"?vn(t):t,s=t===""||r.pathname===""?"/":r.pathname,i;if(s==null)i=n;else{let o=e.length-1;if(s.startsWith("..")){let l=s.split("/");for(;l[0]==="..";)l.shift(),o-=1;r.pathname=l.join("/")}i=o>=0?e[o]:"/"}let a=Ep(r,i);return s&&s!=="/"&&s.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function Tp(t){return t===""||t.pathname===""?"/":typeof t=="string"?vn(t).pathname:t.pathname}function Vu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const $t=t=>t.join("/").replace(/\/\/+/g,"/"),$u=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ip=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dp=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ap(t){Kn()||ot(!1);let{basename:e,navigator:n}=p.exports.useContext(bo),{hash:r,pathname:s,search:i}=So(t),a=s;if(e!=="/"){let o=Tp(t),l=o!=null&&o.endsWith("/");a=s==="/"?e+(l?"/":""):$t([e,s])}return n.createHref({pathname:a,search:i,hash:r})}function Kn(){return p.exports.useContext(_o)!=null}function wn(){return Kn()||ot(!1),p.exports.useContext(_o).location}function ee(){Kn()||ot(!1);let{basename:t,navigator:e}=p.exports.useContext(bo),{matches:n}=p.exports.useContext(Gn),{pathname:r}=wn(),s=JSON.stringify(n.map(o=>o.pathnameBase)),i=p.exports.useRef(!1);return p.exports.useEffect(()=>{i.current=!0}),p.exports.useCallback(function(o,l){if(l===void 0&&(l={}),!i.current)return;if(typeof o=="number"){e.go(o);return}let c=Uu(o,JSON.parse(s),r);t!=="/"&&(c.pathname=$t([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state)},[t,e,s,r])}const Rp=p.exports.createContext(null);function Mp(t){let e=p.exports.useContext(Gn).outlet;return e&&p.exports.createElement(Rp.Provider,{value:t},e)}function tt(){let{matches:t}=p.exports.useContext(Gn),e=t[t.length-1];return e?e.params:{}}function So(t){let{matches:e}=p.exports.useContext(Gn),{pathname:n}=wn(),r=JSON.stringify(e.map(s=>s.pathnameBase));return p.exports.useMemo(()=>Uu(t,JSON.parse(r),n),[t,r,n])}function Pp(t,e){Kn()||ot(!1);let{matches:n}=p.exports.useContext(Gn),r=n[n.length-1],s=r?r.params:{};r&&r.pathname;let i=r?r.pathnameBase:"/";r&&r.route;let a=wn(),o;if(e){var l;let f=typeof e=="string"?vn(e):e;i==="/"||((l=f.pathname)==null?void 0:l.startsWith(i))||ot(!1),o=f}else o=a;let c=o.pathname||"/",d=i==="/"?c:c.slice(i.length)||"/",h=dp(t,{pathname:d});return Op(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},s,f.params),pathname:$t([i,f.pathname]),pathnameBase:f.pathnameBase==="/"?i:$t([i,f.pathnameBase])})),n)}function Op(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,s)=>p.exports.createElement(Gn.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,s+1))}}),null)}function Bu(t){let{to:e,replace:n,state:r}=t;Kn()||ot(!1);let s=ee();return p.exports.useEffect(()=>{s(e,{replace:n,state:r})}),null}function Lp(t){return Mp(t.context)}function oe(t){ot(!1)}function Fp(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Jt.Pop,navigator:i,static:a=!1}=t;Kn()&&ot(!1);let o=$u(e),l=p.exports.useMemo(()=>({basename:o,navigator:i,static:a}),[o,i,a]);typeof r=="string"&&(r=vn(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:y="default"}=r,g=p.exports.useMemo(()=>{let v=Vu(c,o);return v==null?null:{pathname:v,search:d,hash:h,state:f,key:y}},[o,c,d,h,f,y]);return g==null?null:p.exports.createElement(bo.Provider,{value:l},p.exports.createElement(_o.Provider,{children:n,value:{location:g,navigationType:s}}))}function zu(t){let{children:e,location:n}=t;return Pp(Sa(e),n)}function Sa(t){let e=[];return p.exports.Children.forEach(t,n=>{if(!p.exports.isValidElement(n))return;if(n.type===p.exports.Fragment){e.push.apply(e,Sa(n.props.children));return}n.type!==oe&&ot(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=Sa(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}function ju(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const Up=["onClick","reloadDocument","replace","state","target","to"],Vp=["aria-current","caseSensitive","className","end","style","to","children"];function $p(t){let{basename:e,children:n,window:r}=t,s=p.exports.useRef();s.current==null&&(s.current=up({window:r}));let i=s.current,[a,o]=p.exports.useState({action:i.action,location:i.location});return p.exports.useLayoutEffect(()=>i.listen(o),[i]),p.exports.createElement(Fp,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i})}function Bp(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Co=p.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:s,replace:i=!1,state:a,target:o,to:l}=e,c=ju(e,Up),d=Ap(l),h=zp(l,{replace:i,state:a,target:o});function f(y){r&&r(y),!y.defaultPrevented&&!s&&h(y)}return p.exports.createElement("a",Ps({},c,{href:d,onClick:f,ref:n,target:o}))}),b3=p.exports.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,children:c}=e,d=ju(e,Vp),h=wn(),f=So(l),y=h.pathname,g=f.pathname;s||(y=y.toLowerCase(),g=g.toLowerCase());let v=y===g||!a&&y.startsWith(g)&&y.charAt(g.length)==="/",b=v?r:void 0,R;typeof i=="function"?R=i({isActive:v}):R=[i,v?"active":null].filter(Boolean).join(" ");let _=typeof o=="function"?o({isActive:v}):o;return p.exports.createElement(Co,Ps({},d,{"aria-current":b,className:R,ref:n,style:_,to:l}),typeof c=="function"?c({isActive:v}):c)});function zp(t,e){let{target:n,replace:r,state:s}=e===void 0?{}:e,i=ee(),a=wn(),o=So(t);return p.exports.useCallback(l=>{if(l.button===0&&(!n||n==="_self")&&!Bp(l)){l.preventDefault();let c=!!r||_a(a)===_a(o);i(t,{replace:c,state:s})}},[a,i,o,r,s,n,t])}/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Vr={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"]},$r={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6l-160 160C272.4 444.9 264.2 448 256 448s-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L338.8 288H32C14.33 288 .0016 273.7 .0016 256S14.33 224 32 224h306.8l-105.4-105.4c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160C451.1 245.9 451.1 266.1 438.6 278.6z"]},jp={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M160 416H96c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h64c17.67 0 32-14.33 32-32S177.7 32 160 32H96C42.98 32 0 74.98 0 128v256c0 53.02 42.98 96 96 96h64c17.67 0 32-14.33 32-32S177.7 416 160 416zM502.6 233.4l-128-128c-12.51-12.51-32.76-12.49-45.25 0c-12.5 12.5-12.5 32.75 0 45.25L402.8 224H192C174.3 224 160 238.3 160 256s14.31 32 32 32h210.8l-73.38 73.38c-12.5 12.5-12.5 32.75 0 45.25s32.75 12.5 45.25 0l128-128C515.1 266.1 515.1 245.9 502.6 233.4z"]},Hp={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"]},Yp={prefix:"fas",iconName:"basket-shopping",icon:[576,512,["shopping-basket"],"f291","M171.7 191.1H404.3L322.7 35.07C316.6 23.31 321.2 8.821 332.9 2.706C344.7-3.409 359.2 1.167 365.3 12.93L458.4 191.1H544C561.7 191.1 576 206.3 576 223.1C576 241.7 561.7 255.1 544 255.1L492.1 463.5C484.1 492 459.4 512 430 512H145.1C116.6 512 91 492 83.88 463.5L32 255.1C14.33 255.1 0 241.7 0 223.1C0 206.3 14.33 191.1 32 191.1H117.6L210.7 12.93C216.8 1.167 231.3-3.409 243.1 2.706C254.8 8.821 259.4 23.31 253.3 35.07L171.7 191.1zM191.1 303.1C191.1 295.1 184.8 287.1 175.1 287.1C167.2 287.1 159.1 295.1 159.1 303.1V399.1C159.1 408.8 167.2 415.1 175.1 415.1C184.8 415.1 191.1 408.8 191.1 399.1V303.1zM271.1 303.1V399.1C271.1 408.8 279.2 415.1 287.1 415.1C296.8 415.1 304 408.8 304 399.1V303.1C304 295.1 296.8 287.1 287.1 287.1C279.2 287.1 271.1 295.1 271.1 303.1zM416 303.1C416 295.1 408.8 287.1 400 287.1C391.2 287.1 384 295.1 384 303.1V399.1C384 408.8 391.2 415.1 400 415.1C408.8 415.1 416 408.8 416 399.1V303.1z"]},_3=Yp,Wp={prefix:"fas",iconName:"camera",icon:[512,512,[62258,"camera-alt"],"f030","M194.6 32H317.4C338.1 32 356.4 45.22 362.9 64.82L373.3 96H448C483.3 96 512 124.7 512 160V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V160C0 124.7 28.65 96 64 96H138.7L149.1 64.82C155.6 45.22 173.9 32 194.6 32H194.6zM256 384C309 384 352 341 352 288C352 234.1 309 192 256 192C202.1 192 160 234.1 160 288C160 341 202.1 384 256 384z"]},qp={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M137.4 406.6l-128-127.1C3.125 272.4 0 264.2 0 255.1s3.125-16.38 9.375-22.63l128-127.1c9.156-9.156 22.91-11.9 34.88-6.943S192 115.1 192 128v255.1c0 12.94-7.781 24.62-19.75 29.58S146.5 415.8 137.4 406.6z"]},Gp={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M96 0C107.5 0 117.4 8.19 119.6 19.51L121.1 32H541.8C562.1 32 578.3 52.25 572.6 72.66L518.6 264.7C514.7 278.5 502.1 288 487.8 288H170.7L179.9 336H488C501.3 336 512 346.7 512 360C512 373.3 501.3 384 488 384H159.1C148.5 384 138.6 375.8 136.4 364.5L76.14 48H24C10.75 48 0 37.25 0 24C0 10.75 10.75 0 24 0H96zM128 464C128 437.5 149.5 416 176 416C202.5 416 224 437.5 224 464C224 490.5 202.5 512 176 512C149.5 512 128 490.5 128 464zM512 464C512 490.5 490.5 512 464 512C437.5 512 416 490.5 416 464C416 437.5 437.5 416 464 416C490.5 416 512 437.5 512 464z"]},Hu={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M224 480c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l169.4 169.4c12.5 12.5 12.5 32.75 0 45.25C240.4 476.9 232.2 480 224 480z"]},Yu={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"]},Wu={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM384 288H205.3l49.38 49.38c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0L105.4 278.6C97.4 270.7 96 260.9 96 256c0-4.883 1.391-14.66 9.398-22.65l103.1-103.1c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L205.3 224H384c17.69 0 32 14.33 32 32S401.7 288 384 288z"]},qu={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"]},S3=qu,Kp={prefix:"fas",iconName:"circle-chevron-left",icon:[512,512,["chevron-circle-left"],"f137","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM310.6 345.4c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0l-112-112C147.1 272.4 144 264.2 144 256s3.125-16.38 9.375-22.62l112-112c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L221.3 256L310.6 345.4z"]},Xp=Kp,Qp={prefix:"fas",iconName:"circle-chevron-right",icon:[512,512,["chevron-circle-right"],"f138","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM358.6 278.6l-112 112c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25L290.8 256L201.4 166.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l112 112C364.9 239.6 368 247.8 368 256S364.9 272.4 358.6 278.6z"]},Zp=Qp,Jp={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM232 152C232 138.8 242.8 128 256 128s24 10.75 24 24v128c0 13.25-10.75 24-24 24S232 293.3 232 280V152zM256 400c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 385.9 273.4 400 256 400z"]},C3={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"]},eg={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},Gu=eg,N3={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0C177.7 0 192 14.33 192 32V67.68C193.6 67.89 195.1 68.12 196.7 68.35C207.3 69.93 238.9 75.02 251.9 78.31C268.1 82.65 279.4 100.1 275 117.2C270.7 134.3 253.3 144.7 236.1 140.4C226.8 137.1 198.5 133.3 187.3 131.7C155.2 126.9 127.7 129.3 108.8 136.5C90.52 143.5 82.93 153.4 80.92 164.5C78.98 175.2 80.45 181.3 82.21 185.1C84.1 189.1 87.79 193.6 95.14 198.5C111.4 209.2 136.2 216.4 168.4 225.1L171.2 225.9C199.6 233.6 234.4 243.1 260.2 260.2C274.3 269.6 287.6 282.3 295.8 299.9C304.1 317.7 305.9 337.7 302.1 358.1C295.1 397 268.1 422.4 236.4 435.6C222.8 441.2 207.8 444.8 192 446.6V480C192 497.7 177.7 512 160 512C142.3 512 128 497.7 128 480V445.1C127.6 445.1 127.1 444.1 126.7 444.9L126.5 444.9C102.2 441.1 62.07 430.6 35 418.6C18.85 411.4 11.58 392.5 18.76 376.3C25.94 360.2 44.85 352.9 60.1 360.1C81.9 369.4 116.3 378.5 136.2 381.6C168.2 386.4 194.5 383.6 212.3 376.4C229.2 369.5 236.9 359.5 239.1 347.5C241 336.8 239.6 330.7 237.8 326.9C235.9 322.9 232.2 318.4 224.9 313.5C208.6 302.8 183.8 295.6 151.6 286.9L148.8 286.1C120.4 278.4 85.58 268.9 59.76 251.8C45.65 242.4 32.43 229.7 24.22 212.1C15.89 194.3 14.08 174.3 17.95 153C25.03 114.1 53.05 89.29 85.96 76.73C98.98 71.76 113.1 68.49 128 66.73V32C128 14.33 142.3 0 160 0V0z"]},tg={prefix:"fas",iconName:"house",icon:[576,512,[63498,63500,127968,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"]},E3=tg,k3={prefix:"fas",iconName:"house-user",icon:[576,512,["home-user"],"e1b0","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.6 483.2 483.9 512 448.5 512H128.1C92.75 512 64.09 483.3 64.09 448V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5H575.8zM288 160C252.7 160 224 188.7 224 224C224 259.3 252.7 288 288 288C323.3 288 352 259.3 352 224C352 188.7 323.3 160 288 160zM256 320C211.8 320 176 355.8 176 400C176 408.8 183.2 416 192 416H384C392.8 416 400 408.8 400 400C400 355.8 364.2 320 320 320H256z"]},ng={prefix:"fas",iconName:"location-arrow",icon:[448,512,[],"f124","M285.6 444.1C279.8 458.3 264.8 466.3 249.8 463.4C234.8 460.4 223.1 447.3 223.1 432V256H47.1C32.71 256 19.55 245.2 16.6 230.2C13.65 215.2 21.73 200.2 35.88 194.4L387.9 50.38C399.8 45.5 413.5 48.26 422.6 57.37C431.7 66.49 434.5 80.19 429.6 92.12L285.6 444.1z"]},rg={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"]},Ku={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"]},sg=Ku,ig={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},ag={prefix:"fas",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM224 368C237.3 368 248 357.3 248 344V280H312C325.3 280 336 269.3 336 256C336 242.7 325.3 232 312 232H248V168C248 154.7 237.3 144 224 144C210.7 144 200 154.7 200 168V232H136C122.7 232 112 242.7 112 256C112 269.3 122.7 280 136 280H200V344C200 357.3 210.7 368 224 368z"]},Xu={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]},T3={prefix:"fas",iconName:"truck",icon:[640,512,[128666,9951],"f0d1","M368 0C394.5 0 416 21.49 416 48V96H466.7C483.7 96 499.1 102.7 512 114.7L589.3 192C601.3 204 608 220.3 608 237.3V352C625.7 352 640 366.3 640 384C640 401.7 625.7 416 608 416H576C576 469 533 512 480 512C426.1 512 384 469 384 416H256C256 469 213 512 160 512C106.1 512 64 469 64 416H48C21.49 416 0 394.5 0 368V48C0 21.49 21.49 0 48 0H368zM416 160V256H544V237.3L466.7 160H416zM160 368C133.5 368 112 389.5 112 416C112 442.5 133.5 464 160 464C186.5 464 208 442.5 208 416C208 389.5 186.5 368 160 368zM480 464C506.5 464 528 442.5 528 416C528 389.5 506.5 368 480 368C453.5 368 432 389.5 432 416C432 442.5 453.5 464 480 464z"]},og={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},I3={prefix:"fas",iconName:"user-lock",icon:[640,512,[],"f502","M592 288H576V212.7c0-41.84-30.03-80.04-71.66-84.27C456.5 123.6 416 161.1 416 208V288h-16C373.6 288 352 309.6 352 336v128c0 26.4 21.6 48 48 48h192c26.4 0 48-21.6 48-48v-128C640 309.6 618.4 288 592 288zM496 432c-17.62 0-32-14.38-32-32s14.38-32 32-32s32 14.38 32 32S513.6 432 496 432zM528 288h-64V208c0-17.62 14.38-32 32-32s32 14.38 32 32V288zM224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM320 336c0-8.672 1.738-16.87 4.303-24.7C308.6 306.6 291.9 304 274.7 304H173.3C77.61 304 0 381.7 0 477.4C0 496.5 15.52 512 34.66 512h301.7C326.3 498.6 320 482.1 320 464V336z"]},lg={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z"]},cg={prefix:"fas",iconName:"wallet",icon:[512,512,[],"f555","M448 32C465.7 32 480 46.33 480 64C480 81.67 465.7 96 448 96H80C71.16 96 64 103.2 64 112C64 120.8 71.16 128 80 128H448C483.3 128 512 156.7 512 192V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM416 336C433.7 336 448 321.7 448 304C448 286.3 433.7 272 416 272C398.3 272 384 286.3 384 304C384 321.7 398.3 336 416 336z"]},ci={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]},ug=ci;function cc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cc(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Os(t){return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hg(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Qu(t,e){if(t==null)return{};var n=hg(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Ca(t){return dg(t)||fg(t)||mg(t)||pg()}function dg(t){if(Array.isArray(t))return Na(t)}function fg(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mg(t,e){if(!!t){if(typeof t=="string")return Na(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Na(t,e)}}function Na(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gg(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,a=t.shake,o=t.flash,l=t.spin,c=t.spinPulse,d=t.spinReverse,h=t.pulse,f=t.fixedWidth,y=t.inverse,g=t.border,v=t.listItem,b=t.flip,R=t.size,_=t.rotation,k=t.pull,M=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":h,"fa-fw":f,"fa-inverse":y,"fa-border":g,"fa-li":v,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},Tn(e,"fa-".concat(R),typeof R!="undefined"&&R!==null),Tn(e,"fa-rotate-".concat(_),typeof _!="undefined"&&_!==null&&_!==0),Tn(e,"fa-pull-".concat(k),typeof k!="undefined"&&k!==null),Tn(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(M).map(function(E){return M[E]?E:null}).filter(function(E){return E})}function yg(t){return t=t-0,t===t}function Zu(t){return yg(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var vg=["style"];function wg(t){return t.charAt(0).toUpperCase()+t.slice(1)}function xg(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=Zu(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[wg(s)]=i:e[s]=i,e},{})}function Ju(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return Ju(t,l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var d=e.attributes[c];switch(c){case"class":l.attrs.className=d,delete e.attributes.class;break;case"style":l.attrs.style=xg(d);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=d:l.attrs[Zu(c)]=d}return l},{attrs:{}}),i=n.style,a=i===void 0?{}:i,o=Qu(n,vg);return s.attrs.style=Ft(Ft({},s.attrs.style),a),t.apply(void 0,[e.tag,Ft(Ft({},s.attrs),o)].concat(Ca(r)))}var eh=!1;try{eh=!0}catch{}function bg(){if(!eh&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function uc(t){if(t&&Os(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(ba.icon)return ba.icon(t);if(t===null)return null;if(t&&Os(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Qi(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Tn({},t,e):{}}var _g=["forwardedRef"];function V(t){var e=t.forwardedRef,n=Qu(t,_g),r=n.icon,s=n.mask,i=n.symbol,a=n.className,o=n.title,l=n.titleId,c=n.maskId,d=uc(r),h=Qi("classes",[].concat(Ca(gg(n)),Ca(a.split(" ")))),f=Qi("transform",typeof n.transform=="string"?ba.transform(n.transform):n.transform),y=Qi("mask",uc(s)),g=tp(d,Ft(Ft(Ft(Ft({},h),f),y),{},{symbol:i,title:o,titleId:l,maskId:c}));if(!g)return bg("Could not find icon",d),null;var v=g.abstract,b={ref:e};return Object.keys(n).forEach(function(R){V.defaultProps.hasOwnProperty(R)||(b[R]=n[R])}),Sg(v[0],b)}V.displayName="FontAwesomeIcon";V.propTypes={beat:Y.bool,border:Y.bool,bounce:Y.bool,className:Y.string,fade:Y.bool,flash:Y.bool,mask:Y.oneOfType([Y.object,Y.array,Y.string]),maskId:Y.string,fixedWidth:Y.bool,inverse:Y.bool,flip:Y.oneOf(["horizontal","vertical","both"]),icon:Y.oneOfType([Y.object,Y.array,Y.string]),listItem:Y.bool,pull:Y.oneOf(["right","left"]),pulse:Y.bool,rotation:Y.oneOf([0,90,180,270]),shake:Y.bool,size:Y.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Y.bool,spinPulse:Y.bool,spinReverse:Y.bool,symbol:Y.oneOfType([Y.bool,Y.string]),title:Y.string,titleId:Y.string,transform:Y.oneOfType([Y.string,Y.object]),swapOpacity:Y.bool};V.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Sg=Ju.bind(null,Ot.createElement);const No=yn({key:"search",default:""}),Cg=()=>{const[t,e]=p.exports.useState(""),n=Ct(No);let r=ee();return{handleChange:i=>{e(i.target.value),n(i.target.value),i.target.value.length>0&&r("/searching")},input:t,setInput:e}},Ng=t=>({setSelf:e,onSet:n})=>{const r=localStorage.getItem(t);r!==null&&e(JSON.parse(r)),n((s,i,a)=>{a?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(s))})},br=yn({key:"cartAtom",default:[],effects_UNSTABLE:[Ng("gist-cart")]}),Ls=yn({key:"cartOpen",default:!1}),Eg=Km({key:"cartSelector",get:({get:t})=>{const e=t(br);let n=0;return e.length>0&&e.forEach(r=>n+=r.price*r.quantity),n}}),Ea=yn({key:"menuOpen",default:!1}),kg=t=>({setSelf:e,onSet:n})=>{const r=localStorage.getItem(t);(r==null?void 0:r.length)>0&&e(JSON.parse(r)),n((s,i,a)=>{a?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(s))})},ge=yn({key:"userObj",default:{token:"",_id:"",userName:"",profilePhoto:"",phoneNumber:"",email:"",firstName:"",lastName:"",wallet:"",roomuid:""},effects_UNSTABLE:[kg("tokshop-user")]}),Tg=()=>{const[t,e]=p.exports.useState(!1);let n=ee();const r=Ct(No),s=Ct(Ls),i=Ct(Ea),a=se(br);let{userName:o,token:l,wallet:c}=se(ge);const{handleChange:d,input:h,setInput:f}=Cg();let y=a.length;return m("div",{className:"flex  px-[0.8rem] md:px-[2rem] lg:px-[4rem] py-3 items-center\r justify-center gap-6 md:gap-10 lg:gap-10",children:[m("p",{onClick:()=>{n("/")},className:`${t?"hidden md:inline":"inline"} text-blue-40 text-[1.6rem] font-semibold cursor-pointer md:text-2xl md:font-medium`,children:[u("span",{className:"text-black-40",children:"tok"}),"shop"]}),m("div",{onFocus:()=>{e(!0),n("/searching")},onBlur:()=>{r(""),f(""),e(!1)},className:`${t?"w-screen md:w-[40%] lg:w-[55%] xl:w-[55%]":"w-2/4 md:w-[40%] lg:w-[55%] xl:w-[55%]"} flex h-[35px] border-[1px] border-gray-400 p-0 rounded-md relative pr-2
          items-center focus:outline-none justify-between group overflow-x-clip`,children:[u("input",{type:"text",placeholder:"Search TokShop",onChange:d,value:h,className:"w-full outline-none ring-0 p-2 placeholder:text-gray-30 placeholder:font-light"}),u(V,{icon:Gu,onClick:()=>{r(""),f(""),e(!1),n("/")},className:`${t?"inline":"hidden"}  text-gray-500 text-[1.2rem] justify-self-end ml-auto`})]}),u("button",{onClick:()=>n("/live"),className:`hidden md:inline bg-red-20 text-white md:text-sm
        rounded-md text-base px-6 md:px-4 py-[1px] md:py-[4px] font-semibold hover:shadow-lg 
        hover:bg-red-600`,children:"Go live"}),u("button",{onClick:()=>n("/login"),className:`${l===void 0?"hidden md:inline":"hidden"}  text-blue-40 border-[1px] border-blue-40 px-6 py-[1px] rounded-md text-base font-semibold items-center  hover:bg-blue-40 hover:text-white
        transition-all duration-150 ease-in-out delay-100`,children:"Sign in"}),m("p",{className:`${l!==void 0?"hidden lg:inline":"hidden"}  text-blue-40 text-sm font-semibold`,children:["Hello\u{1F590} $. ",c]}),m("div",{onClick:()=>{s(g=>!g),i(g=>g&&!g)},className:`${t?"hidden md:inline":"inline"} relative flex items-center p-0`,children:[u(V,{icon:Gp,className:"text-blue-40 text-xl font-light self-center"}),u("div",{className:"absolute bg-blue-40 text-[0.7rem] font-[500] left-2/3 top-[-20%] \r w-[1.2rem] h-[1.2rem] rounded-full text-white flex justify-center items-center",children:y})]}),u(V,{onClick:()=>{i(g=>!g),s(g=>g&&!g)},icon:Hp,className:`${t?"hidden md:inline":"inline"} text-blue-40 text-2xl `})]})},ui=()=>{const t=Ct(br),e=se(Eg),n=se(br);return{addToCart:(i,a,o,l,c,d,h,f,y)=>{const g=n.findIndex(v=>v.productId===d);if(g!==-1){let v=n.filter(b=>b.productId!==d);t(b=>[{name:l,quantity:b[g].quantity+i,price:a,image:o,shopId:c,productId:d,sellerId:h,variation:f,id:y},...v])}else t(v=>[{name:l,quantity:i,price:a,image:o,shopId:c,productId:d,sellerId:h,variation:f,id:y},...v]);we.fire({icon:"success",text:"successfully added to cart",timer:1e3})},removeItem:i=>{t(a=>a.filter(o=>o.id!==i))},totalValue:e}},Ig=({image:t,name:e,amount:n,price:r,id:s,productId:i})=>{const{removeItem:a}=ui(),o=ee();return m("div",{onClick:()=>{window.location.reload(),o(`/product/${i}`)},className:"flex flex-row flex-nowrap rounded-3xl py-[2rem] items-center\r space-x-[0.7rem] lg:justify-between w-full cursor-pointer",children:[(t==null?void 0:t.length)>0?u("img",{src:t,alt:"",className:"flex w-[3rem] lg:w-[3rem] max-h-[5rem]",onError:({currentTarget:l})=>{l.onerror=null,l.src="/img/picture.png"}}):u("img",{src:"/img/picture.png",alt:"",className:"flex w-[3rem] lg:w-[3rem] max-h-[5rem]"}),m("div",{className:"flex flex-col w-full flex-wrap",children:[u("p",{className:"text-blue-20 md:text-[0.7rem] font-[800] capitalize truncate",children:e}),m("p",{className:"text-black-80 md:text-[0.7rem] font-[600] tracking-wider",children:[n," x $. ",r]})]}),u(V,{onClick:()=>a(s),icon:Xu,color:"red",className:"md:text-[1rem] font-bold self-center"})]})};const Dg=()=>{const{totalValue:t}=ui(),e=se(br),n=Ct(Ls);let r=ee();return m("div",{className:"w-[70vw] md:w-[30vw] lg:w-[20vw] flex flex-col px-[0.5rem] py-[2rem] gap-y-[0.5rem] bg-[#eff7f6]  min-h-screen",children:[u("div",{className:"flex flex-col gap-y-4 md:gap-y-[2rem] max-h-[60vh] lg:max-h-[50vh] \r overflow-y-scroll  px-[0.8rem] md:px-[0.8rem] py-[2rem] border-t-2 ",children:e.length>0?e==null?void 0:e.map((s,i)=>u(Ig,{image:s==null?void 0:s.image,name:s.name,price:s.price,amount:s.quantity,id:s.id,productId:s==null?void 0:s.productId},i)):u("div",{className:"flex flex-row self-center items-center py-[3rem] gap-x-[2rem]\r px-[2rem]",children:u("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1rem]",children:"Your cart is empty."})})}),e.length>0?m("div",{className:" mt-auto mb-4",children:[m("div",{className:"flex flex-row md:text-[1rem] justify-between self-start",children:[u("p",{className:"font-[500]",children:"Estimated shipping \xA0\xA0"}),u("p",{className:"font-[600] text-blue-20",children:"$. 0.00"})]}),m("div",{className:"flex flex-row md:text-[1rem] justify-between self-start ",children:[u("p",{className:"font-[500]",children:"Estimated tax \xA0\xA0"}),u("p",{className:"font-[600] text-blue-20",children:"$. 0.00"})]}),m("div",{className:"flex flex-row md:text-[1rem] tracking-wider justify-between\r self-start ",children:[u("p",{className:"font-[500]",children:"Estimated total \xA0\xA0"}),m("p",{className:"font-[600] text-blue-20 text-left",children:["$. ",isNaN(t)?0:t]})]}),u("button",{disabled:e.length===0,onClick:()=>{n(s=>!s),r("/orders")},type:"button",className:"bg-blue-20 md:w-[40%] py-[0.4rem] px-[1rem] rounded-md self-start\r hover:bg-blue-400 text-white text-[1.1rem] font-[500] \r disabled:bg-gray-300  my-[1.5rem]",children:"Checkout"})]}):null]})},Ag=({setMenuOpen:t})=>{let e=ee(),{token:n}=se(ge);const r=Xm(ge);return u("div",{className:"flex flex-col bg-[#eff7f6] min-h-screen gap-y-8 px-8 pt-6 pb-16 w-[68vw]\r lg:w-[20vw] items-center",children:m("div",{className:"flex flex-col  border-gray-400 w-full gap-6",children:[(n==null?void 0:n.length)>0?null:m("div",{className:"flex flex-col w-full items-center pb-4 gap-2 border-b-[1px]",children:[u("button",{onClick:()=>e("/login"),className:"bg-black-40 text-white px-6 py-[1px] rounded-md w-1/2",children:"Sign in"}),m("p",{onClick:()=>e("/register"),className:"text-black-40 font-semibold cursor-pointer",children:["New user? ",u("span",{className:"text-blue-40",children:"Sign up"})]})]}),m("div",{className:"flex flex-col w-full items-start pb-4 gap-4",children:[m("div",{className:"flex flex-row cursor-pointer items-start gap-x-[1rem]",onClick:()=>{e("/myAccount/profile"),t(!1)},children:[u(V,{icon:og,color:"#33546D",className:"text-[1rem] self-center"}),u("p",{className:"text-[1.4rem] font-[500] text-gray-20",children:"My Account"})]}),m("div",{className:"flex flex-row cursor-pointer items-start gap-x-[1rem]",onClick:()=>{e("/live"),t(!1)},children:[u(V,{icon:lg,color:"#33546D",className:"text-[1rem] self-center"}),u("p",{className:"text-[1.4rem] font-[500] text-gray-20",children:"Go live"})]}),m("div",{onClick:()=>{t(!1),e("/wallet")},className:"flex flex-row cursor-pointer items-start gap-x-[1rem]",children:[u(V,{icon:cg,color:"#33546D",className:"text-[1rem] self-center"}),u("p",{className:"text-[1.4rem] font-[500] text-gray-20",children:"Wallet"})]}),(n==null?void 0:n.length)>1&&m("div",{onClick:()=>{t(!1),r(),e("/")},className:"flex flex-row cursor-pointer items-start gap-x-[1rem] ",children:[u(V,{icon:jp,className:"text-[1rem] self-center",color:"#F40009"}),u("p",{className:"text-[1.4rem] font-[600] text-red-20",children:"Logout"})]})]})]})})},Rg=()=>{const t=se(Ls),e=Ct(Ls),n=se(Ea),r=Ct(Ea),s=p.exports.useRef();return(a=>{p.exports.useEffect(()=>{const o=l=>{t&&a.current&&a.current.contains(l.target)?e(c=>c&&!c):n&&a.current&&a.current.contains(l.target)&&r(c=>c&&!c)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t,n])})(s),m("div",{className:"flex flex-col flex-nowrap overflow-x-clip",children:[u("div",{className:"fixed top-0 inset-x-0 z-50 bg-white",children:u(Tg,{})}),m("div",{className:"relative",children:[u("div",{className:`${t?"fixed right-0 top-14 bg-white min-h-max  z-[44] shadow-2xl rounded-xl":"hidden"}`,children:u(Dg,{})}),u("div",{onBlur:()=>r(a=>!a),className:`${n?"fixed right-0 top-14 bg-white z-[44] shadow-2xl":"hidden"}`,children:u(Ag,{setMenuOpen:r})}),u("div",{ref:s,className:"bg-teal-50 pt-24 min-h-screen",children:u(Lp,{})})]})]})},fe=()=>({renderSpinner:e=>u("div",{className:`${e?"flex justify-center items-center":"hidden"}`,children:u("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})})});const Br=()=>({scrollLeft:r=>{r.current.scrollLeft-=550},scrollRight:r=>{r.current.scrollLeft+=550},scrollDown:r=>{r.current.scrollDown-=550}}),Mg=({images:t,setIndex:e})=>{const{scrollRight:n,scrollLeft:r}=Br(),s=p.exports.useRef(null);return u("div",{className:"flex relative justify-center",children:m("div",{ref:s,className:"flex flex-row gap-[2rem] overflow-x-scroll scroller",children:[t==null?void 0:t.map((i,a)=>u("img",{src:i,className:"w-[6rem] md:w-[6rem] md:h-[4rem] rounded-lg bg-cover bg-center \r bg-no-repeat  cursor-pointer  object-center object-cover\r flex-shrink-0",onClick:()=>e(a)},a)),(t==null?void 0:t.length)>4?m(at,{children:[u("div",{className:" \r w-[3.125rem]\r h-[3.125rem] rounded-full translate-y-[-50%]\r z-10 hidden lg:flex lg:absolute  left-0 top-[50%] \r ",children:u(V,{onClick:()=>r(s),icon:Vr,className:"flex text-[1.25rem] self-center mx-auto \r text-[#00bcd7]"})}),u("div",{className:"\r z-10 hidden\r lg:flex lg:absolute text-[2rem] translate-y-[-50%]\r w-[3.125rem] h-[3.125rem] rounded-full right-0 top-[50%]\r ",children:u(V,{onClick:()=>n(s),icon:$r,className:"flex text-[1.25rem] self-center mx-auto\r text-[#00bcd7]"})})]}):null]})})},Pg=({images:t,index:e,setIndex:n})=>m("div",{className:"flex flex-col space-y-10 w-full relative",children:[t&&t.length>0?u("img",{src:t&&t[e],alt:"productImg",className:"max-w-full object-cover flex max-h-[80vh] md:max-h-[60vh] xl:max-h-[60vh]\r object-center  rounded-md",onError:({currentTarget:r})=>{r.onerror=null,r.src="/img/picture.png"}}):u("img",{src:"/img/picture.png",alt:"productImg",className:"w-full",onError:({currentTarget:r})=>{r.onerror=null,r.src="/img/picture.png"}}),(t==null?void 0:t.length)>1?m(at,{children:[u(V,{onClick:()=>n(r=>r===0?(t==null?void 0:t.length)-1:r-1),icon:Hu,size:"3x",className:"hidden md:flex absolute  left-0 top-[40%] md:left-8\r text-gray-300"}),u(V,{onClick:()=>n(r=>r===(t==null?void 0:t.length)-1?0:r+1),icon:Yu,size:"3x",className:"hidden md:flex absolute right-0 top-[40%] md:right-8 text-gray-300"})]}):null]}),Og=({product:t})=>{var e;return m("div",{className:"w-full flex flex-col gap-y-2",children:[u("p",{className:"text-left font-[500] text-base lg:text-[1.6rem]",children:t==null?void 0:t.name}),m("p",{className:"text-left  font-[400] text-lg",children:["by ",u("span",{className:"text-blue-30",children:(e=t==null?void 0:t.ownerId)==null?void 0:e.userName})]}),u("p",{className:"text-left text-red-20 font-[400] text-xl",children:(t==null?void 0:t.quantity)===0?"$. "+t.price:t.price===void 0?"":"$ "+(t==null?void 0:t.price)}),u("p",{className:"text-left  font-[500] text-base mt-8 mb-6 w-[90%]",children:t==null?void 0:t.description})]})},Lg=({product:t})=>{var o,l;const[e,n]=p.exports.useState(1),[r,s]=p.exports.useState(null),{addToCart:i}=ui(),{_id:a}=se(ge);return m("div",{className:"flex flex-col gap-x-[1rem] my-[2rem] gap-[1.5rem] mt-auto\r items-center self-start",children:[m("div",{className:"inline-flex rounded-md shadow-sm border-[0.1rem]\r border-blue-20 self-start",children:[u("button",{onClick:()=>n(c=>c===0?0:c-1),disabled:t.quantity===0,type:"button",className:"px-[1.3rem] py-[0.5rem] font-[600] rounded-l-lg text-black-40",children:u(V,{icon:Xp,size:"2x",color:"#33546D"})}),u("button",{disabled:t.quantity===0,type:"button",className:"px-[2rem] py-[0.5rem] font-[600] text-black-40 border-blue-20\r border-x-[0.1rem]",children:e}),u("button",{onClick:()=>n(c=>c===(t==null?void 0:t.quantity)?c:c+1),disabled:t.quantity===0,type:"button",className:"px-[1.3rem] py-[0.5rem] font-[600] text-black-40 rounded-r-lg",children:u(V,{icon:Zp,size:"2x",color:"#33546D"})})]}),m("div",{className:"flex flex-col md:flex-row self-start gap-x-4",children:[u("p",{className:"font-[600] self-start text-[1.2rem]",children:"Variations:"}),u("div",{className:"flex flex-row flex-wrap w-full md:w-4/5 gap-4 mr-4",children:t&&((o=t==null?void 0:t.variations)==null?void 0:o.map((c,d)=>u("button",{onClick:()=>s(d),type:"button",className:"text-blue-30 border-blue-30 border-2 px-4 py-1 rounded-3xl \r hover:bg-blue-30 hover:text-white font-[700]",children:d===r?u(V,{icon:qu,size:"1x"}):c},d)))})]}),((l=t==null?void 0:t.ownerId)==null?void 0:l._id)!==a?u("button",{disabled:e===0||(t==null?void 0:t.quantity)===0||r===null,onClick:()=>{var c;n(1),i(e,t==null?void 0:t.price,t==null?void 0:t.images[0],t==null?void 0:t.name,t==null?void 0:t.shopId,t==null?void 0:t._id,t==null?void 0:t.ownerId,(c=t==null?void 0:t.variations)==null?void 0:c[r],Qm())},className:"blue-btn self-start px-[3rem]",children:(t==null?void 0:t.quantity)===0?"Out of stock":"Add To Cart"}):null]})},th="http://34.209.43.223:3000",Fs=Pu.create({baseURL:th}),Dt=()=>{const t=se(ge),e=t==null?void 0:t.token,n=Pu.create({baseURL:th});return n.interceptors.request.use(r=>(r.headers.Authorization=`Bearer ${e}`,r)),{Axios:n}},Ze=()=>{const[t,e]=p.exports.useState([{}]),[n,r]=p.exports.useState(),{Axios:s}=Dt(),[i,a]=p.exports.useState(!1);return{data:t,mongoErr:n,setMongoErr:r,getObject:async(l,c,d)=>{switch(a(!0),c){case"GET":try{let{data:h}=await s.get(l);return e(h),a(!1),h}catch(h){r(h.response.data),a(!1)}break;case"POST":try{let{data:h}=await s.post(l,d);return e(h),a(!1),h}catch(h){r(h.response.data),a(!1)}break;case"PUT":try{let{data:h}=await s.put(l,d);return e(h),a(!1),h}catch(h){r(h.response.data),a(!1)}break;case"DELETE":try{let{data:h}=await s.delete(l);return e(h),a(!1),h}catch(h){r(h.response.data),a(!1)}break}},load:i}},nh=({name:t,price:e,userName:n,id:r,shopId:s,image:i})=>{let a=ee();return m("div",{className:"flex flex-col px-[1rem] pb-[1rem] pt-[1rem] bg-white hover:border-[0.1rem] \r hover:card-border  border-[0.1rem] rounded-md border-white hover:shadow-2xl relative",onClick:()=>a(`/product/${r}`),children:[u("div",{className:"flex flex-row gap-x-[1rem]",children:u("div",{className:"flex flex-col",children:u("p",{className:"text-black-40 font-[700] text-[1rem] mb-[1rem]",children:t})})}),m("div",{className:"flex relative w-full bg-no-repeat bg-center bg-contain rounded-md\r card-border gradient justify-evenly flex-wrap",children:[i!==void 0?u("img",{src:i,alt:"",className:"object-cover rounded-md object-center w-[90vw]\r h-[40vh] md:h-[30vh] md:w-[16rem] lg:h-[35vh] 3xl:w-[30rem] 3xl:h-[20vh] ",onError:({currentTarget:o})=>{o.onerror=null,o.src="/img/picture.png"}}):u("img",{src:"/img/picture.png",alt:"",className:"object-cover rounded-md\r h-[40vh] md:h-[30vh] md:w-[16rem] lg:h-[35vh] 3xl:w-[30rem] 3xl:h-[20vh] ",onError:({currentTarget:o})=>{o.onerror=null,o.src="/img/picture.png"}}),m("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",e]})]})]})},Fg=({shopId:t,getProduct:e,userName:n})=>{const{data:r,getObject:s,load:i}=Ze(),[a,o]=p.exports.useState([]),{productId:l}=tt();let c=ee();const{renderSpinner:d}=fe();return p.exports.useEffect(()=>{s(`/products/${t}`,"GET",{})},[t,l]),p.exports.useEffect(()=>{o((r==null?void 0:r.length)&&(r==null?void 0:r.filter(h=>h._id!==l)))},[r]),m("div",{className:"flex flex-col w-full mt-16",children:[(a==null?void 0:a.length)>0?m("p",{className:"text-lg md:text-2xl text-black-40 font-semibold\r border-b-4",children:["More products from ",n]}):null,d(i),u("div",{className:"flex flex-row flex-wrap w-full justify-items-start gap-y-4 gap-x-6\r mt-8",children:a==null?void 0:a.map((h,f)=>{var y,g,v;return u("div",{onClick:()=>{e(h==null?void 0:h._id),c(`/product/${h==null?void 0:h._id}`)},className:"",children:u(nh,{image:((y=h==null?void 0:h.images)==null?void 0:y.length)>0&&(h==null?void 0:h.images[0])?h==null?void 0:h.images[0]:void 0,name:h==null?void 0:h.name,price:h==null?void 0:h.price,id:h==null?void 0:h._id,userName:(g=h==null?void 0:h.ownerId)==null?void 0:g.userName,shopId:(v=h==null?void 0:h.shopId)==null?void 0:v._id},f)},f)})})]})},Ug=()=>{var l;const[t,e]=p.exports.useState(0),{data:n,getObject:r,load:s}=Ze(),{renderSpinner:i}=fe(),{productId:a}=tt(),o=c=>{r(`/products/products/${c}`,"GET",{}),window.scrollTo(0,0)};return p.exports.useEffect(()=>{o(a)},[]),m("div",{className:"flex flex-col w-screen px-10 py-10 md:px-[6.5rem]",children:[m("div",{className:"flex flex-col md:flex-row w-full  mx-auto gap-x-10 gap-y-16",children:[m("div",{className:"flex flex-col w-full  space-y-10",children:[u(Pg,{setIndex:e,images:n==null?void 0:n.images,index:t}),i(s),u(Mg,{setIndex:e,images:n==null?void 0:n.images})]}),m("div",{className:"flex flex-col w-full  space-y-10 self-center",children:[u(Og,{product:n}),u(Lg,{product:n})]})]}),u(Fg,{shopId:(n==null?void 0:n.shopId)&&(n==null?void 0:n.shopId._id),getProduct:o,userName:(l=n==null?void 0:n.ownerId)==null?void 0:l.userName})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Vg=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},$g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|o>>4;let f=(o&15)<<2|c>>6,y=c&63;l||(y=64,a||(f=64)),r.push(n[d],n[h],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vg(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||c==null||h==null)throw Error();const f=i<<2|o>>4;if(r.push(f),c!==64){const y=o<<4&240|c>>2;if(r.push(y),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Bg=function(t){const e=rh(t);return $g.encodeByteArray(e,!0)},sh=function(t){return Bg(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jg(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hi())}function Hg(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wg(){return hi().indexOf("Electron/")>=0}function qg(){const t=hi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gg(){return hi().indexOf("MSAppHost/")>=0}function Kg(){return typeof indexedDB=="object"}function Xg(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qg,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?Zg(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new zr(s,o,r)}}function Zg(t,e){return t.replace(Jg,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Jg=/\{\$([^}]+)}/g;function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(hc(i)&&hc(a)){if(!ka(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n0(e))try{this.getOrInitializeService({instanceIdentifier:Qt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qt){return this.instances.has(e)}getOptions(e=Qt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qt){return this.component?this.component.multipleInstances?e:Qt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t0(t){return t===Qt?void 0:t}function n0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Z||(Z={}));const s0={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},i0=Z.INFO,a0={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},o0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=a0[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ah{constructor(e){this.name=e,this._logLevel=i0,this._logHandler=o0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}const l0=(t,e)=>e.some(n=>t instanceof n);let dc,fc;function c0(){return dc||(dc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u0(){return fc||(fc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oh=new WeakMap,Ta=new WeakMap,lh=new WeakMap,Zi=new WeakMap,Eo=new WeakMap;function h0(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Bt(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&oh.set(n,t)}).catch(()=>{}),Eo.set(e,t),e}function d0(t){if(Ta.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Ta.set(t,e)}let Ia={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ta.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lh.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f0(t){Ia=t(Ia)}function m0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ji(this),e,...n);return lh.set(r,e.sort?e.sort():[e]),Bt(r)}:u0().includes(t)?function(...e){return t.apply(Ji(this),e),Bt(oh.get(this))}:function(...e){return Bt(t.apply(Ji(this),e))}}function p0(t){return typeof t=="function"?m0(t):(t instanceof IDBTransaction&&d0(t),l0(t,c0())?new Proxy(t,Ia):t)}function Bt(t){if(t instanceof IDBRequest)return h0(t);if(Zi.has(t))return Zi.get(t);const e=p0(t);return e!==t&&(Zi.set(t,e),Eo.set(e,t)),e}const Ji=t=>Eo.get(t);function g0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Bt(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Bt(a.result),l.oldVersion,l.newVersion,Bt(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),o}const y0=["get","getKey","getAll","getAllKeys","count"],v0=["put","add","delete","clear"],ea=new Map;function mc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ea.get(e))return ea.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=v0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||y0.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return ea.set(e,i),i}f0(t=>nc(tc({},t),{get:(e,n,r)=>mc(e,n)||t.get(e,n,r),has:(e,n)=>!!mc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Da="@firebase/app",pc="0.7.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new ah("@firebase/app"),b0="@firebase/app-compat",_0="@firebase/analytics-compat",S0="@firebase/analytics",C0="@firebase/app-check-compat",N0="@firebase/app-check",E0="@firebase/auth",k0="@firebase/auth-compat",T0="@firebase/database",I0="@firebase/database-compat",D0="@firebase/functions",A0="@firebase/functions-compat",R0="@firebase/installations",M0="@firebase/installations-compat",P0="@firebase/messaging",O0="@firebase/messaging-compat",L0="@firebase/performance",F0="@firebase/performance-compat",U0="@firebase/remote-config",V0="@firebase/remote-config-compat",$0="@firebase/storage",B0="@firebase/storage-compat",z0="@firebase/firestore",j0="@firebase/firestore-compat",H0="firebase",Y0="9.8.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]",W0={[Da]:"fire-core",[b0]:"fire-core-compat",[S0]:"fire-analytics",[_0]:"fire-analytics-compat",[N0]:"fire-app-check",[C0]:"fire-app-check-compat",[E0]:"fire-auth",[k0]:"fire-auth-compat",[T0]:"fire-rtdb",[I0]:"fire-rtdb-compat",[D0]:"fire-fn",[A0]:"fire-fn-compat",[R0]:"fire-iid",[M0]:"fire-iid-compat",[P0]:"fire-fcm",[O0]:"fire-fcm-compat",[L0]:"fire-perf",[F0]:"fire-perf-compat",[U0]:"fire-rc",[V0]:"fire-rc-compat",[$0]:"fire-gcs",[B0]:"fire-gcs-compat",[z0]:"fire-fst",[j0]:"fire-fst-compat","fire-js":"fire-js",[H0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Map,Aa=new Map;function q0(t,e){try{t.container.addComponent(e)}catch(n){ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _r(t){const e=t.name;if(Aa.has(e))return ko.debug(`There were multiple attempts to register component ${e}.`),!1;Aa.set(e,t);for(const n of Us.values())q0(n,t);return!0}function uh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ln=new ih("app","Firebase",G0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=Y0;function X0(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:ch,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw ln.create("bad-app-name",{appName:String(r)});const s=Us.get(r);if(s){if(ka(t,s.options)&&ka(n,s.config))return s;throw ln.create("duplicate-app",{appName:r})}const i=new r0(r);for(const o of Aa.values())i.addComponent(o);const a=new K0(t,n,i);return Us.set(r,a),a}function dh(t=ch){const e=Us.get(t);if(!e)throw ln.create("no-app",{appName:t});return e}function zt(t,e,n){var r;let s=(r=W0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ko.warn(o.join(" "));return}_r(new Un(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebase-heartbeat-database",Z0=1,Sr="firebase-heartbeat-store";let ta=null;function fh(){return ta||(ta=g0(Q0,Z0,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sr)}}}).catch(t=>{throw ln.create("storage-open",{originalErrorMessage:t.message})})),ta}async function J0(t){try{return(await fh()).transaction(Sr).objectStore(Sr).get(mh(t))}catch(e){throw ln.create("storage-get",{originalErrorMessage:e.message})}}async function gc(t,e){try{const r=(await fh()).transaction(Sr,"readwrite");return await r.objectStore(Sr).put(e,mh(t)),r.done}catch(n){throw ln.create("storage-set",{originalErrorMessage:n.message})}}function mh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=1024,ty=30*24*60*60*1e3;class ny{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yc();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=ty}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yc(),{heartbeatsToSend:n,unsentEntries:r}=ry(this._heartbeatsCache.heartbeats),s=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function yc(){return new Date().toISOString().substring(0,10)}function ry(t,e=ey){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),vc(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sy{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kg()?Xg().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await J0(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return gc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return gc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vc(t){return sh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){_r(new Un("platform-logger",e=>new w0(e),"PRIVATE")),_r(new Un("heartbeat",e=>new ny(e),"PRIVATE")),zt(Da,pc,t),zt(Da,pc,"esm2017"),zt("fire-js","")}iy("");var ay="firebase",oy="9.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt(ay,oy,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="firebasestorage.googleapis.com",gh="storageBucket",ly=2*60*1e3,cy=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he extends zr{constructor(e,n){super(na(e),`Firebase Storage: ${n} (${na(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}_codeEquals(e){return na(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function na(t){return"storage/"+t}function To(){const t="An unknown error occurred, please check the error payload for server response.";return new he("unknown",t)}function uy(t){return new he("object-not-found","Object '"+t+"' does not exist.")}function hy(t){return new he("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dy(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new he("unauthenticated",t)}function fy(){return new he("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function my(t){return new he("unauthorized","User does not have permission to access '"+t+"'.")}function py(){return new he("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function yh(){return new he("canceled","User canceled the upload/download.")}function gy(t){return new he("invalid-url","Invalid URL '"+t+"'.")}function yy(t){return new he("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function vy(){return new he("no-default-bucket","No default bucket found. Did you set the '"+gh+"' property when initializing the app?")}function vh(){return new he("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wy(){return new he("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function xy(){return new he("no-download-url","The given file does not have any download URLs.")}function Ra(t){return new he("invalid-argument",t)}function wh(){return new he("app-deleted","The Firebase app was deleted.")}function by(t){return new he("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fr(t,e){return new he("invalid-format","String does not match format '"+t+"': "+e)}function ar(t){throw new he("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ke.makeFromUrl(e,n)}catch{return new Ke(e,"")}if(r.path==="")return r;throw yy(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function c(M){M.path_=decodeURIComponent(M.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},v=n===ph?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",R=new RegExp(`^https?://${v}/${s}/${b}`,"i"),k=[{regex:o,indices:l,postModify:i},{regex:y,indices:g,postModify:c},{regex:R,indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<k.length;M++){const E=k[M],I=E.regex.exec(e);if(I){const w=I[E.indices.bucket];let A=I[E.indices.path];A||(A=""),r=new Ke(w,A),E.postModify(r);break}}if(r==null)throw gy(e);return r}}class _y{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return o===2}let c=!1;function d(...b){c||(c=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(y,l())},b)}function f(){i&&clearTimeout(i)}function y(b,...R){if(c){f();return}if(b){f(),d.call(null,b,...R);return}if(l()||a){f(),d.call(null,b,...R);return}r<64&&(r*=2);let k;o===1?(o=2,k=0):k=(r+Math.random())*1e3,h(k)}let g=!1;function v(b){g||(g=!0,f(),!c&&(s!==null?(b||(o=2),clearTimeout(s),h(0)):b||(o=1)))}return h(0),i=setTimeout(()=>{a=!0,v(!0)},n),v}function Cy(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t){return t!==void 0}function Ey(t){return typeof t=="function"}function ky(t){return typeof t=="object"&&!Array.isArray(t)}function di(t){return typeof t=="string"||t instanceof String}function wc(t){return Io()&&t instanceof Blob}function Io(){return typeof Blob!="undefined"}function xc(t,e,n,r){if(r<e)throw Ra(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ra(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function xh(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rn||(rn={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,s,i,a,o,l,c,d,h){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,y)=>{this.resolve_=f,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new us(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const o=i.getErrorCode()===rn.NO_ERROR,l=i.getStatus();if(!o||this.isRetryStatusCode_(l)){const d=i.getErrorCode()===rn.ABORT;r(!1,new us(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new us(c,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Ny(l)?i(l):i()}catch(l){a(l)}else if(o!==null){const l=To();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(s.canceled){const l=this.appDelete_?wh():yh();a(l)}else{const l=py();a(l)}};this.canceled_?n(!1,new us(!1,null,!0)):this.backoffId_=Sy(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cy(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=this.additionalRetryCodes_.indexOf(e)!==-1;return n||s||i}}class us{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Iy(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Dy(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Ay(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ry(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function My(t,e,n,r,s,i){const a=xh(t.urlParams),o=t.url+a,l=Object.assign({},t.headers);return Ay(l,e),Iy(l,n),Dy(l,i),Ry(l,r),new Ty(o,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function Oy(...t){const e=Py();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Io())return new Blob(t);throw new he("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Ly(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ra{constructor(e,n){this.data=e,this.contentType=n||null}}function Uy(t,e){switch(t){case ft.RAW:return new ra(bh(e));case ft.BASE64:case ft.BASE64URL:return new ra(_h(t,e));case ft.DATA_URL:return new ra($y(e),By(e))}throw To()}function bh(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Vy(t){let e;try{e=decodeURIComponent(t)}catch{throw fr(ft.DATA_URL,"Malformed data URL.")}return bh(e)}function _h(t,e){switch(t){case ft.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw fr(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ft.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw fr(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Fy(e)}catch{throw fr(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Sh{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fr(ft.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zy(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $y(t){const e=new Sh(t);return e.base64?_h(ft.BASE64,e.rest):Vy(e.rest)}function By(t){return new Sh(t).contentType}function zy(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){let r=0,s="";wc(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(wc(this.data_)){const r=this.data_,s=Ly(r,e,n);return s===null?null:new Lt(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Lt(r,!0)}}static getBlob(...e){if(Io()){const n=e.map(r=>r instanceof Lt?r.data_:r);return new Lt(Oy.apply(null,n))}else{const n=e.map(a=>di(a)?Uy(ft.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)s[i++]=a[o]}),new Lt(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){let e;try{e=JSON.parse(t)}catch{return null}return ky(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Hy(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Nh(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,e){return e}class Ue{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Yy}}let hs=null;function Wy(t){return!di(t)||t.length<2?t:Nh(t)}function Eh(){if(hs)return hs;const t=[];t.push(new Ue("bucket")),t.push(new Ue("generation")),t.push(new Ue("metageneration")),t.push(new Ue("name","fullPath",!0));function e(i,a){return Wy(a)}const n=new Ue("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Ue("size");return s.xform=r,t.push(s),t.push(new Ue("timeCreated")),t.push(new Ue("updated")),t.push(new Ue("md5Hash",null,!0)),t.push(new Ue("cacheControl",null,!0)),t.push(new Ue("contentDisposition",null,!0)),t.push(new Ue("contentEncoding",null,!0)),t.push(new Ue("contentLanguage",null,!0)),t.push(new Ue("contentType",null,!0)),t.push(new Ue("metadata","customMetadata",!0)),hs=t,hs}function qy(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Ke(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Gy(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return qy(r,t),r}function kh(t,e,n){const r=Ch(e);return r===null?null:Gy(t,r,n)}function Ky(t,e,n,r){const s=Ch(e);if(s===null||!di(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+a(d)+"/o/"+a(h),y=jr(f,n,r),g=xh({alt:"media",token:c});return y+g})[0]}function Th(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Xn{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){if(!t)throw To()}function Do(t,e){function n(r,s){const i=kh(t,s,e);return Nt(i!==null),i}return n}function Xy(t,e){function n(r,s){const i=kh(t,s,e);return Nt(i!==null),Ky(i,s,t.host,t._protocol)}return n}function Hr(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=fy():s=dy():n.getStatus()===402?s=hy(t.bucket):n.getStatus()===403?s=my(t.path):s=r,s.serverResponse=r.serverResponse,s}return e}function Ih(t){const e=Hr(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=uy(t.path)),i.serverResponse=s.serverResponse,i}return n}function Qy(t,e,n){const r=e.fullServerUrl(),s=jr(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,o=new Xn(s,i,Do(t,n),a);return o.errorHandler=Ih(e),o}function Zy(t,e,n){const r=e.fullServerUrl(),s=jr(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,o=new Xn(s,i,Xy(t,n),a);return o.errorHandler=Ih(e),o}function Jy(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Dh(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Jy(null,e)),r}function e1(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let k="";for(let M=0;M<2;M++)k=k+Math.random().toString().slice(2);return k}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=Dh(e,r,s),d=Th(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",y=Lt.getBlob(h,r,f);if(y===null)throw vh();const g={name:c.fullPath},v=jr(i,t.host,t._protocol),b="POST",R=t.maxUploadRetryTime,_=new Xn(v,b,Do(t,n),R);return _.urlParams=g,_.headers=a,_.body=y.uploadData(),_.errorHandler=Hr(e),_}class Vs{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Ao(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Nt(!1)}return Nt(!!n&&(e||["active"]).indexOf(n)!==-1),n}function t1(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a=Dh(e,r,s),o={name:a.fullPath},l=jr(i,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=Th(a,n),f=t.maxUploadRetryTime;function y(v){Ao(v);let b;try{b=v.getResponseHeader("X-Goog-Upload-URL")}catch{Nt(!1)}return Nt(di(b)),b}const g=new Xn(l,c,y,f);return g.urlParams=o,g.headers=d,g.body=h,g.errorHandler=Hr(e),g}function n1(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(c){const d=Ao(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Nt(!1)}h||Nt(!1);const f=Number(h);return Nt(!isNaN(f)),new Vs(f,r.size(),d==="final")}const a="POST",o=t.maxUploadRetryTime,l=new Xn(n,a,i,o);return l.headers=s,l.errorHandler=Hr(e),l}const bc=256*1024;function r1(t,e,n,r,s,i,a,o){const l=new Vs(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw wy();const c=l.total-l.current;let d=c;s>0&&(d=Math.min(d,s));const h=l.current,f=h+d,g={"X-Goog-Upload-Command":d===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},v=r.slice(h,f);if(v===null)throw vh();function b(M,E){const I=Ao(M,["active","final"]),w=l.current+d,A=r.size();let K;return I==="final"?K=Do(e,i)(M,E):K=null,new Vs(w,A,I==="final",K)}const R="POST",_=e.maxUploadRetryTime,k=new Xn(n,R,b,_);return k.headers=g,k.body=v.uploadData(),k.progressCallback=o||null,k.errorHandler=Hr(t),k}const He={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sa(t){switch(t){case"running":case"pausing":case"canceling":return He.RUNNING;case"paused":return He.PAUSED;case"success":return He.SUCCESS;case"canceled":return He.CANCELED;case"error":return He.ERROR;default:return He.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r){if(Ey(e)||n!=null||r!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=r!=null?r:void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class i1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rn.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rn.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rn.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw ar("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ar("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ar("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ar("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ar("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class a1 extends i1{initXhr(){this.xhr_.responseType="text"}}function En(){return new a1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Eh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=t1(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,En,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=n1(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,En,n,r);this._request=i,i.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=bc*this._chunkMultiplier,n=new Vs(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let a;try{a=r1(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const o=this._ref.storage._makeRequest(a,En,s,i);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){bc*this._chunkMultiplier<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Qy(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,En,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=e1(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,En,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=yh(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=sa(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new s1(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sa(this._state)){case He.SUCCESS:Sn(this._resolve.bind(null,this.snapshot))();break;case He.CANCELED:case He.ERROR:const n=this._reject;Sn(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sa(this._state)){case He.RUNNING:case He.PAUSED:e.next&&Sn(e.next.bind(e,this.snapshot))();break;case He.SUCCESS:e.complete&&Sn(e.complete.bind(e))();break;case He.CANCELED:case He.ERROR:e.error&&Sn(e.error.bind(e,this._error))();break;default:e.error&&Sn(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this._service=e,n instanceof Ke?this._location=n:this._location=Ke.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cn(e,n)}get root(){const e=new Ke(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nh(this._location.path)}get storage(){return this._service}get parent(){const e=jy(this._location.path);if(e===null)return null;const n=new Ke(this._location.bucket,e);return new cn(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw by(e)}}function l1(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new o1(t,new Lt(e),n)}function c1(t){t._throwIfRoot("getDownloadURL");const e=Zy(t.storage,t._location,Eh());return t.storage.makeRequestWithTokens(e,En).then(n=>{if(n===null)throw xy();return n})}function u1(t,e){const n=Hy(t._location.path,e),r=new Ke(t._location.bucket,n);return new cn(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){return/^[A-Za-z]+:\/\//.test(t)}function d1(t,e){return new cn(t,e)}function Ah(t,e){if(t instanceof Ro){const n=t;if(n._bucket==null)throw vy();const r=new cn(n,n._bucket);return e!=null?Ah(r,e):r}else return e!==void 0?u1(t,e):t}function f1(t,e){if(e&&h1(e)){if(t instanceof Ro)return d1(t,e);throw Ra("To use ref(service, url), the first argument must be a Storage instance.")}else return Ah(t,e)}function _c(t,e){const n=e==null?void 0:e[gh];return n==null?null:Ke.makeFromBucketSpec(n,t)}class Ro{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=ph,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ly,this._maxUploadRetryTime=cy,this._requests=new Set,s!=null?this._bucket=Ke.makeFromBucketSpec(s,this._host):this._bucket=_c(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ke.makeFromBucketSpec(this._url,e):this._bucket=_c(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cn(this,e)}_makeRequest(e,n,r,s){if(this._deleted)return new _y(wh());{const i=My(e,this._appId,r,s,n,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Sc="@firebase/storage",Cc="0.9.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="storage";function Mh(t,e,n){return t=mt(t),l1(t,e,n)}function Ph(t){return t=mt(t),c1(t)}function Oh(t,e){return t=mt(t),f1(t,e)}function m1(t=dh(),e){return t=mt(t),uh(t,Rh).getImmediate({identifier:e})}function p1(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ro(n,r,s,e,hh)}function g1(){_r(new Un(Rh,p1,"PUBLIC").setMultipleInstances(!0)),zt(Sc,Cc,""),zt(Sc,Cc,"esm2017")}g1();var y1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},D,Mo=Mo||{},U=y1||self;function $s(){}function Ma(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Yr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function v1(t){return Object.prototype.hasOwnProperty.call(t,ia)&&t[ia]||(t[ia]=++w1)}var ia="closure_uid_"+(1e9*Math.random()>>>0),w1=0;function x1(t,e,n){return t.call.apply(t.bind,arguments)}function b1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ce(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ce=x1:Ce=b1,Ce.apply(null,arguments)}function ds(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Te(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,s,i){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return e.prototype[s].apply(r,a)}}function Gt(){this.s=this.s,this.o=this.o}var _1=0;Gt.prototype.s=!1;Gt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),_1!=0)&&v1(this)};Gt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,s=typeof t=="string"?t.split(""):t;for(let i=0;i<r;i++)i in s&&e.call(n,s[i],i,t)};function S1(t){e:{var e=mv;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let s=0;s<n;s++)if(s in r&&e.call(void 0,r[s],s,t)){e=s;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Nc(t){return Array.prototype.concat.apply([],arguments)}function Po(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bs(t){return/^[\s\xa0]*$/.test(t)}var Ec=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ve(t,e){return t.indexOf(e)!=-1}function aa(t,e){return t<e?-1:t>e?1:0}var $e;e:{var kc=U.navigator;if(kc){var Tc=kc.userAgent;if(Tc){$e=Tc;break e}}$e=""}function Oo(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Uh(t){const e={};for(const n in t)e[n]=t[n];return e}var Ic="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vh(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Ic.length;i++)n=Ic[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lo(t){return Lo[" "](t),t}Lo[" "]=$s;function C1(t){var e=k1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var N1=Ve($e,"Opera"),Vn=Ve($e,"Trident")||Ve($e,"MSIE"),$h=Ve($e,"Edge"),Pa=$h||Vn,Bh=Ve($e,"Gecko")&&!(Ve($e.toLowerCase(),"webkit")&&!Ve($e,"Edge"))&&!(Ve($e,"Trident")||Ve($e,"MSIE"))&&!Ve($e,"Edge"),E1=Ve($e.toLowerCase(),"webkit")&&!Ve($e,"Edge");function zh(){var t=U.document;return t?t.documentMode:void 0}var zs;e:{var oa="",la=function(){var t=$e;if(Bh)return/rv:([^\);]+)(\)|;)/.exec(t);if($h)return/Edge\/([\d\.]+)/.exec(t);if(Vn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(E1)return/WebKit\/(\S+)/.exec(t);if(N1)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(la&&(oa=la?la[1]:""),Vn){var ca=zh();if(ca!=null&&ca>parseFloat(oa)){zs=String(ca);break e}}zs=oa}var k1={};function T1(){return C1(function(){let t=0;const e=Ec(String(zs)).split("."),n=Ec("9").split("."),r=Math.max(e.length,n.length);for(let a=0;t==0&&a<r;a++){var s=e[a]||"",i=n[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;t=aa(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||aa(s[2].length==0,i[2].length==0)||aa(s[2],i[2]),s=s[3],i=i[3]}while(t==0)}return 0<=t})}var Oa;if(U.document&&Vn){var Dc=zh();Oa=Dc||parseInt(zs,10)||void 0}else Oa=void 0;var I1=Oa,D1=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{U.addEventListener("test",$s,e),U.removeEventListener("test",$s,e)}catch{}return t}();function Ae(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};function Cr(t,e){if(Ae.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bh){e:{try{Lo(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:A1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cr.Z.h.call(this)}}Te(Cr,Ae);var A1={2:"touch",3:"pen",4:"mouse"};Cr.prototype.h=function(){Cr.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wr="closure_listenable_"+(1e6*Math.random()|0),R1=0;function M1(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=s,this.key=++R1,this.ca=this.fa=!1}function fi(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function mi(t){this.src=t,this.g={},this.h=0}mi.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var a=Fa(t,e,r,s);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new M1(e,this.src,i,!!r,s),e.fa=n,t.push(e)),e};function La(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Lh(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(fi(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fa(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==r)return s}return-1}var Fo="closure_lm_"+(1e6*Math.random()|0),ua={};function jh(t,e,n,r,s){if(r&&r.once)return Yh(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)jh(t,e[i],n,r,s);return null}return n=$o(n),t&&t[Wr]?t.N(e,n,Yr(r)?!!r.capture:!!r,s):Hh(t,e,n,!1,r,s)}function Hh(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var a=Yr(s)?!!s.capture:!!s,o=Vo(t);if(o||(t[Fo]=o=new mi(t)),n=o.add(e,n,r,a,i),n.proxy)return n;if(r=P1(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)D1||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(qh(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function P1(){function t(n){return e.call(t.src,t.listener,n)}var e=O1;return t}function Yh(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Yh(t,e[i],n,r,s);return null}return n=$o(n),t&&t[Wr]?t.O(e,n,Yr(r)?!!r.capture:!!r,s):Hh(t,e,n,!0,r,s)}function Wh(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Wh(t,e[i],n,r,s);else r=Yr(r)?!!r.capture:!!r,n=$o(n),t&&t[Wr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Fa(i,n,r,s),-1<n&&(fi(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Vo(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fa(e,n,r,s)),(n=-1<t?e[t]:null)&&Uo(n))}function Uo(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Wr])La(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qh(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vo(e))?(La(n,t),n.h==0&&(n.src=null,e[Fo]=null)):fi(t)}}}function qh(t){return t in ua?ua[t]:ua[t]="on"+t}function O1(t,e){if(t.ca)t=!0;else{e=new Cr(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Uo(t),t=n.call(r,e)}return t}function Vo(t){return t=t[Fo],t instanceof mi?t:null}var ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(t){return typeof t=="function"?t:(t[ha]||(t[ha]=function(e){return t.handleEvent(e)}),t[ha])}function be(){Gt.call(this),this.i=new mi(this),this.P=this,this.I=null}Te(be,Gt);be.prototype[Wr]=!0;be.prototype.removeEventListener=function(t,e,n,r){Wh(this,t,e,n,r)};function Ne(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Ae(e,t);else if(e instanceof Ae)e.target=e.target||t;else{var s=e;e=new Ae(r,t),Vh(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=e.g=n[i];s=fs(a,r,!0,e)&&s}if(a=e.g=t,s=fs(a,r,!0,e)&&s,s=fs(a,r,!1,e)&&s,n)for(i=0;i<n.length;i++)a=e.g=n[i],s=fs(a,r,!1,e)&&s}be.prototype.M=function(){if(be.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fi(n[r]);delete t.g[e],t.h--}}this.I=null};be.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fs(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.ca&&a.capture==n){var o=a.listener,l=a.ia||a.src;a.fa&&La(t.i,a),s=o.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Bo=U.JSON.stringify;function L1(){var t=Kh;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class F1{constructor(){this.h=this.g=null}add(e,n){const r=Gh.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Gh=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new U1,t=>t.reset());class U1{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function V1(t){U.setTimeout(()=>{throw t},0)}function zo(t,e){Ua||$1(),Va||(Ua(),Va=!0),Kh.add(t,e)}var Ua;function $1(){var t=U.Promise.resolve(void 0);Ua=function(){t.then(B1)}}var Va=!1,Kh=new F1;function B1(){for(var t;t=L1();){try{t.h.call(t.g)}catch(n){V1(n)}var e=Gh;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Va=!1}function pi(t,e){be.call(this),this.h=t||1,this.g=e||U,this.j=Ce(this.kb,this),this.l=Date.now()}Te(pi,be);D=pi.prototype;D.da=!1;D.S=null;D.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ne(this,"tick"),this.da&&(jo(this),this.start()))}};D.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jo(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}D.M=function(){pi.Z.M.call(this),jo(this),delete this.g};function Ho(t,e,n){if(typeof t=="function")n&&(t=Ce(t,n));else if(t&&typeof t.handleEvent=="function")t=Ce(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function Xh(t){t.g=Ho(()=>{t.g=null,t.i&&(t.i=!1,Xh(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z1 extends Gt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xh(this)}M(){super.M(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(t){Gt.call(this),this.h=t,this.g={}}Te(Nr,Gt);var Ac=[];function Qh(t,e,n,r){Array.isArray(n)||(n&&(Ac[0]=n.toString()),n=Ac);for(var s=0;s<n.length;s++){var i=jh(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Zh(t){Oo(t.g,function(e,n){this.g.hasOwnProperty(n)&&Uo(e)},t),t.g={}}Nr.prototype.M=function(){Nr.Z.M.call(this),Zh(this)};Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gi(){this.g=!0}gi.prototype.Aa=function(){this.g=!1};function j1(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+c+"&"):a+(d+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+a})}function H1(t,e,n,r,s,i,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+a})}function In(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+W1(t,n)+(r?" "+r:"")})}function Y1(t,e){t.info(function(){return"TIMEOUT: "+e})}gi.prototype.info=function(){};function W1(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Bo(n)}catch{return e}}var xn={},Rc=null;function yi(){return Rc=Rc||new be}xn.Ma="serverreachability";function Jh(t){Ae.call(this,xn.Ma,t)}Te(Jh,Ae);function Er(t){const e=yi();Ne(e,new Jh(e))}xn.STAT_EVENT="statevent";function ed(t,e){Ae.call(this,xn.STAT_EVENT,t),this.stat=e}Te(ed,Ae);function Be(t){const e=yi();Ne(e,new ed(e,t))}xn.Na="timingevent";function td(t,e){Ae.call(this,xn.Na,t),this.size=e}Te(td,Ae);function qr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var vi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yo(){}Yo.prototype.h=null;function Mc(t){return t.h||(t.h=t.i())}function rd(){}var Gr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wo(){Ae.call(this,"d")}Te(Wo,Ae);function qo(){Ae.call(this,"c")}Te(qo,Ae);var $a;function wi(){}Te(wi,Yo);wi.prototype.g=function(){return new XMLHttpRequest};wi.prototype.i=function(){return{}};$a=new wi;function Kr(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Nr(this),this.P=q1,t=Pa?125:void 0,this.W=new pi(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sd}function sd(){this.i=null,this.g="",this.h=!1}var q1=45e3,Ba={},js={};D=Kr.prototype;D.setTimeout=function(t){this.P=t};function za(t,e,n){t.K=1,t.v=bi(Tt(e)),t.s=n,t.U=!0,id(t,null)}function id(t,e){t.F=Date.now(),Xr(t),t.A=Tt(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),dd(n.h,"t",r),t.C=0,n=t.l.H,t.h=new sd,t.g=Rd(t.l,n?e:null,!t.s),0<t.O&&(t.L=new z1(Ce(t.Ia,t,t.g),t.O)),Qh(t.V,t.g,"readystatechange",t.gb),e=t.H?Uh(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Er(),j1(t.j,t.u,t.A,t.m,t.X,t.s)}D.gb=function(t){t=t.target;const e=this.L;e&&bt(t)==3?e.l():this.Ia(t)};D.Ia=function(t){try{if(t==this.g)e:{const d=bt(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>d)&&(d!=3||Pa||this.g&&(this.h.h||this.g.ga()||Fc(this.g)))){this.I||d!=4||e==7||(e==8||0>=h?Er(3):Er(2)),xi(this);var n=this.g.ba();this.N=n;t:if(ad(this)){var r=Fc(this.g);t="";var s=r.length,i=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){en(this),mr(this);var a="";break t}this.h.i=new U.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=n==200,H1(this.j,this.u,this.A,this.m,this.X,d,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bs(o)){var c=o;break t}}c=null}if(n=c)In(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ja(this,n);else{this.i=!1,this.o=3,Be(12),en(this),mr(this);break e}}this.U?(od(this,d,a),Pa&&this.i&&d==3&&(Qh(this.V,this.W,"tick",this.fb),this.W.start())):(In(this.j,this.m,a,null),ja(this,a)),d==4&&en(this),this.i&&!this.I&&(d==4?Td(this.l,this):(this.i=!1,Xr(this)))}else n==400&&0<a.indexOf("Unknown SID")?(this.o=3,Be(12)):(this.o=0,Be(13)),en(this),mr(this)}}}catch{}finally{}};function ad(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function od(t,e,n){let r=!0,s;for(;!t.I&&t.C<n.length;)if(s=G1(t,n),s==js){e==4&&(t.o=4,Be(14),r=!1),In(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Ba){t.o=4,Be(15),In(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else In(t.j,t.m,s,null),ja(t,s);ad(t)&&s!=js&&s!=Ba&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Be(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nl(e),e.L=!0,Be(11))):(In(t.j,t.m,n,"[Invalid Chunked Response]"),en(t),mr(t))}D.fb=function(){if(this.g){var t=bt(this.g),e=this.g.ga();this.C<e.length&&(xi(this),od(this,t,e),this.i&&t!=4&&Xr(this))}};function G1(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?js:(n=Number(e.substring(n,r)),isNaN(n)?Ba:(r+=1,r+n>e.length?js:(e=e.substr(r,n),t.C=r+n,e)))}D.cancel=function(){this.I=!0,en(this)};function Xr(t){t.Y=Date.now()+t.P,ld(t,t.P)}function ld(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=qr(Ce(t.eb,t),e)}function xi(t){t.B&&(U.clearTimeout(t.B),t.B=null)}D.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Y1(this.j,this.A),this.K!=2&&(Er(),Be(17)),en(this),this.o=2,mr(this)):ld(this,this.Y-t)};function mr(t){t.l.G==0||t.I||Td(t.l,t)}function en(t){xi(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,jo(t.W),Zh(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ja(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ha(n.i,t))){if(n.I=t.N,!t.J&&Ha(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)qs(n),Ci(n);else break e;tl(n),Be(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=qr(Ce(n.ab,n),6e3));if(1>=pd(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else tn(n,11)}else if((t.J||n.g==t)&&qs(n),!Bs(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const d=c[3];d!=null&&(n.ma=d,n.h.info("VER="+n.ma));const h=c[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const g=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;!i.g&&(Ve(g,"spdy")||Ve(g,"quic")||Ve(g,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Xo(i,i.h),i.h=null))}if(r.D){const v=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.sa=v,ce(r.F,r.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var a=t;if(r.oa=Ad(r,r.H?r.la:null,r.W),a.J){gd(r.i,a);var o=a,l=r.K;l&&o.setTimeout(l),o.B&&(xi(o),Xr(o)),r.g=a}else Ed(r);0<n.l.length&&Ni(n)}else c[0]!="stop"&&c[0]!="close"||tn(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?tn(n,7):el(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}Er(4)}catch{}}function K1(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Ma(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Go(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ma(t)||typeof t=="string")Fh(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Ma(t)||typeof t=="string"){n=[];for(var r=t.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,t)n[r++]=s;r=K1(t),s=r.length;for(var i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}}function Qn(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qn)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}D=Qn.prototype;D.R=function(){Ko(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};D.T=function(){return Ko(this),this.g.concat()};function Ko(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];un(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)r=t.g[e],un(s,r)||(t.g[n++]=r,s[r]=1),e++;t.g.length=n}}D.get=function(t,e){return un(this.h,t)?this.h[t]:e};D.set=function(t,e){un(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};D.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);t.call(e,i,s,this)}};function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var cd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function X1(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function hn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof hn){this.g=e!==void 0?e:t.g,Hs(this,t.j),this.s=t.s,Ys(this,t.i),Ws(this,t.m),this.l=t.l,e=t.h;var n=new kr;n.i=e.i,e.g&&(n.g=new Qn(e.g),n.h=e.h),Pc(this,n),this.o=t.o}else t&&(n=String(t).match(cd))?(this.g=!!e,Hs(this,n[1]||"",!0),this.s=pr(n[2]||""),Ys(this,n[3]||"",!0),Ws(this,n[4]),this.l=pr(n[5]||"",!0),Pc(this,n[6]||"",!0),this.o=pr(n[7]||"")):(this.g=!!e,this.h=new kr(null,this.g))}hn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hr(e,Oc,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hr(e,Oc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(hr(n,n.charAt(0)=="/"?tv:ev,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hr(n,rv)),t.join("")};function Tt(t){return new hn(t)}function Hs(t,e,n){t.j=n?pr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ys(t,e,n){t.i=n?pr(e,!0):e}function Ws(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pc(t,e,n){e instanceof kr?(t.h=e,sv(t.h,t.g)):(n||(e=hr(e,nv)),t.h=new kr(e,t.g))}function ce(t,e,n){t.h.set(e,n)}function bi(t){return ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Q1(t){return t instanceof hn?Tt(t):new hn(t,void 0)}function Z1(t,e,n,r){var s=new hn(null,void 0);return t&&Hs(s,t),e&&Ys(s,e),n&&Ws(s,n),r&&(s.l=r),s}function pr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,J1),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function J1(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Oc=/[#\/\?@]/g,ev=/[#\?:]/g,tv=/[#\?]/g,nv=/[#\?@]/g,rv=/#/g;function kr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Kt(t){t.g||(t.g=new Qn,t.h=0,t.i&&X1(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=kr.prototype;D.add=function(t,e){Kt(this),this.i=null,t=Zn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ud(t,e){Kt(t),e=Zn(t,e),un(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,un(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ko(t)))}function hd(t,e){return Kt(t),e=Zn(t,e),un(t.g.h,e)}D.forEach=function(t,e){Kt(this),this.g.forEach(function(n,r){Fh(n,function(s){t.call(e,s,r,this)},this)},this)};D.T=function(){Kt(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var s=t[r],i=0;i<s.length;i++)n.push(e[r]);return n};D.R=function(t){Kt(this);var e=[];if(typeof t=="string")hd(this,t)&&(e=Nc(e,this.g.get(Zn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Nc(e,t[n])}return e};D.set=function(t,e){return Kt(this),this.i=null,t=Zn(this,t),hd(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function dd(t,e,n){ud(t,e),0<n.length&&(t.i=null,t.g.set(Zn(t,e),Po(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var a=s;r[i]!==""&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.i=t.join("&")};function Zn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sv(t,e){e&&!t.j&&(Kt(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(ud(this,r),dd(this,s,n))},t)),t.j=e}var iv=class{constructor(t,e){this.h=t,this.g=e}};function fd(t){this.l=t||av,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ea&&U.g.Ea()&&U.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var av=10;function md(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function pd(t){return t.h?1:t.g?t.g.size:0}function Ha(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xo(t,e){t.g?t.g.add(e):t.h=e}function gd(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fd.prototype.cancel=function(){if(this.i=yd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yd(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Po(t.i)}function Qo(){}Qo.prototype.stringify=function(t){return U.JSON.stringify(t,void 0)};Qo.prototype.parse=function(t){return U.JSON.parse(t,void 0)};function ov(){this.g=new Qo}function lv(t,e,n){const r=n||"";try{Go(t,function(s,i){let a=s;Yr(s)&&(a=Bo(s)),e.push(r+i+"="+encodeURIComponent(a))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function cv(t,e){const n=new gi;if(U.Image){const r=new Image;r.onload=ds(ms,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ds(ms,n,r,"TestLoadImage: error",!1,e),r.onabort=ds(ms,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ds(ms,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ms(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Qr(t){this.l=t.$b||null,this.j=t.ib||!1}Te(Qr,Yo);Qr.prototype.g=function(){return new _i(this.l,this.j)};Qr.prototype.i=function(t){return function(){return t}}({});function _i(t,e){be.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Te(_i,be);var Zo=0;D=_i.prototype;D.open=function(t,e){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tr(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||U).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=Zo};D.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof U.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vd(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function vd(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}D.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zr(this):Tr(this),this.readyState==3&&vd(this)}};D.Ua=function(t){this.g&&(this.response=this.responseText=t,Zr(this))};D.Ta=function(t){this.g&&(this.response=t,Zr(this))};D.ha=function(){this.g&&Zr(this)};function Zr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tr(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var uv=U.JSON.parse;function ye(t){be.call(this),this.headers=new Qn,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wd,this.K=this.L=!1}Te(ye,be);var wd="",hv=/^https?$/i,dv=["POST","PUT"];D=ye.prototype;D.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$a.g(),this.C=this.u?Mc(this.u):Mc($a),this.g.onreadystatechange=Ce(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Lc(this,i);return}t=n||"";const s=new Qn(this.headers);r&&Go(r,function(i,a){s.set(a,i)}),r=S1(s.T()),n=U.FormData&&t instanceof U.FormData,!(0<=Lh(dv,e))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(i,a){this.g.setRequestHeader(a,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_d(this),0<this.B&&((this.K=fv(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.pa,this)):this.A=Ho(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Lc(this,i)}};function fv(t){return Vn&&T1()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function mv(t){return t.toLowerCase()=="content-type"}D.pa=function(){typeof Mo!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ne(this,"timeout"),this.abort(8))};function Lc(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xd(t),Si(t)}function xd(t){t.D||(t.D=!0,Ne(t,"complete"),Ne(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ne(this,"complete"),Ne(this,"abort"),Si(this))};D.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Si(this,!0)),ye.Z.M.call(this)};D.Fa=function(){this.s||(this.F||this.v||this.l?bd(this):this.cb())};D.cb=function(){bd(this)};function bd(t){if(t.h&&typeof Mo!="undefined"&&(!t.C[1]||bt(t)!=4||t.ba()!=2)){if(t.v&&bt(t)==4)Ho(t.Fa,0,t);else if(Ne(t,"readystatechange"),bt(t)==4){t.h=!1;try{const o=t.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.H).match(cd)[1]||null;if(!s&&U.self&&U.self.location){var i=U.self.location.protocol;s=i.substr(0,i.length-1)}r=!hv.test(s?s.toLowerCase():"")}n=r}if(n)Ne(t,"complete"),Ne(t,"success");else{t.m=6;try{var a=2<bt(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.ba()+"]",xd(t)}}finally{Si(t)}}}}function Si(t,e){if(t.g){_d(t);const n=t.g,r=t.C[0]?$s:null;t.g=null,t.C=null,e||Ne(t,"ready");try{n.onreadystatechange=r}catch{}}}function _d(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}function bt(t){return t.g?t.g.readyState:0}D.ba=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}};D.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),uv(e)}};function Fc(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case wd:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}D.Da=function(){return this.m};D.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function pv(t){let e="";return Oo(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jo(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ce(t,e,n))}function or(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sd(t){this.za=0,this.l=[],this.h=new gi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=or("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=or("baseRetryDelayMs",5e3,t),this.$a=or("retryDelaySeedMs",1e4,t),this.Ya=or("forwardChannelMaxRetries",2,t),this.ra=or("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new fd(t&&t.concurrentRequestLimit),this.Ca=new ov,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}D=Sd.prototype;D.ma=8;D.G=1;function el(t){if(Cd(t),t.G==3){var e=t.V++,n=Tt(t.F);ce(n,"SID",t.J),ce(n,"RID",e),ce(n,"TYPE","terminate"),Jr(t,n),e=new Kr(t,t.h,e,void 0),e.K=2,e.v=bi(Tt(n)),n=!1,U.navigator&&U.navigator.sendBeacon&&(n=U.navigator.sendBeacon(e.v.toString(),"")),!n&&U.Image&&(new Image().src=e.v,n=!0),n||(e.g=Rd(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xr(e)}Dd(t)}D.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Ci(t){t.g&&(nl(t),t.g.cancel(),t.g=null)}function Cd(t){Ci(t),t.u&&(U.clearTimeout(t.u),t.u=null),qs(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function da(t,e){t.l.push(new iv(t.Za++,e)),t.G==3&&Ni(t)}function Ni(t){md(t.i)||t.m||(t.m=!0,zo(t.Ha,t),t.C=0)}function gv(t,e){return pd(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=qr(Ce(t.Ha,t,e),Id(t,t.C)),t.C++,!0)}D.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new Kr(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=Uh(i),Vh(i,this.P)):i=this.P),this.o===null&&(s.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nd(this,s,e),n=Tt(this.F),ce(n,"RID",t),ce(n,"CVER",22),this.D&&ce(n,"X-HTTP-Session-Id",this.D),Jr(this,n),this.o&&i&&Jo(n,this.o,i),Xo(this.i,s),this.Ra&&ce(n,"TYPE","init"),this.ja?(ce(n,"$req",e),ce(n,"SID","null"),s.$=!0,za(s,n,null)):za(s,n,e),this.G=2}}else this.G==3&&(t?Uc(this,t):this.l.length==0||md(this.i)||Uc(this))};function Uc(t,e){var n;e?n=e.m:n=t.V++;const r=Tt(t.F);ce(r,"SID",t.J),ce(r,"RID",n),ce(r,"AID",t.U),Jr(t,r),t.o&&t.s&&Jo(r,t.o,t.s),n=new Kr(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Nd(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Xo(t.i,n),za(n,r,e)}function Jr(t,e){t.j&&Go({},function(n,r){ce(e,r,n)})}function Nd(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ce(t.j.Oa,t.j,t):null;e:{var s=t.l;let i=-1;for(;;){const a=["count="+n];i==-1?0<n?(i=s[0].h,a.push("ofs="+i)):i=0:a.push("ofs="+i);let o=!0;for(let l=0;l<n;l++){let c=s[l].h;const d=s[l].g;if(c-=i,0>c)i=Math.max(0,s[l].h-100),o=!1;else try{lv(d,a,"req"+c+"_")}catch{r&&r(d)}}if(o){r=a.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function Ed(t){t.g||t.u||(t.Y=1,zo(t.Ga,t),t.A=0)}function tl(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=qr(Ce(t.Ga,t),Id(t,t.A)),t.A++,!0)}D.Ga=function(){if(this.u=null,kd(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=qr(Ce(this.bb,this),t)}};D.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Be(10),Ci(this),kd(this))};function nl(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function kd(t){t.g=new Kr(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Tt(t.oa);ce(e,"RID","rpc"),ce(e,"SID",t.J),ce(e,"CI",t.N?"0":"1"),ce(e,"AID",t.U),Jr(t,e),ce(e,"TYPE","xmlhttp"),t.o&&t.s&&Jo(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=bi(Tt(e)),n.s=null,n.U=!0,id(n,t)}D.ab=function(){this.v!=null&&(this.v=null,Ci(this),tl(this),Be(19))};function qs(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function Td(t,e){var n=null;if(t.g==e){qs(t),nl(t),t.g=null;var r=2}else if(Ha(t.i,e))n=e.D,gd(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;r=yi(),Ne(r,new td(r,n)),Ni(t)}else Ed(t);else if(s=e.o,s==3||s==0&&0<t.I||!(r==1&&gv(t,e)||r==2&&tl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:tn(t,5);break;case 4:tn(t,10);break;case 3:tn(t,6);break;default:tn(t,2)}}}function Id(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function tn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Ce(t.jb,t);n||(n=new hn("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||Hs(n,"https"),bi(n)),cv(n.toString(),r)}else Be(2);t.G=0,t.j&&t.j.va(e),Dd(t),Cd(t)}D.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Be(2)):(this.h.info("Failed to ping google.com"),Be(1))};function Dd(t){t.G=0,t.I=-1,t.j&&((yd(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Po(t.l),t.l.length=0),t.j.ua())}function Ad(t,e,n){let r=Q1(n);if(r.i!="")e&&Ys(r,e+"."+r.i),Ws(r,r.m);else{const s=U.location;r=Z1(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,n)}return t.aa&&Oo(t.aa,function(s,i){ce(r,i,s)}),e=t.D,n=t.sa,e&&n&&ce(r,e,n),ce(r,"VER",t.ma),Jr(t,r),r}function Rd(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new ye(new Qr({ib:!0})):new ye(t.qa),e.L=t.H,e}function Md(){}D=Md.prototype;D.xa=function(){};D.wa=function(){};D.va=function(){};D.ua=function(){};D.Oa=function(){};function Gs(){if(Vn&&!(10<=Number(I1)))throw Error("Environmental error: no available transport.")}Gs.prototype.g=function(t,e){return new Qe(t,e)};function Qe(t,e){be.call(this),this.g=new Sd(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bs(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Jn(this)}Te(Qe,be);Qe.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),zo(Ce(t.hb,t,e))),Be(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ad(t,null,t.W),Ni(t)};Qe.prototype.close=function(){el(this.g)};Qe.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,da(this.g,e)}else this.v?(e={},e.__data__=Bo(t),da(this.g,e)):da(this.g,t)};Qe.prototype.M=function(){this.g.j=null,delete this.j,el(this.g),delete this.g,Qe.Z.M.call(this)};function Pd(t){Wo.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Te(Pd,Wo);function Od(){qo.call(this),this.status=1}Te(Od,qo);function Jn(t){this.g=t}Te(Jn,Md);Jn.prototype.xa=function(){Ne(this.g,"a")};Jn.prototype.wa=function(t){Ne(this.g,new Pd(t))};Jn.prototype.va=function(t){Ne(this.g,new Od)};Jn.prototype.ua=function(){Ne(this.g,"b")};Gs.prototype.createWebChannel=Gs.prototype.g;Qe.prototype.send=Qe.prototype.u;Qe.prototype.open=Qe.prototype.m;Qe.prototype.close=Qe.prototype.close;vi.NO_ERROR=0;vi.TIMEOUT=8;vi.HTTP_ERROR=6;nd.COMPLETE="complete";rd.EventType=Gr;Gr.OPEN="a";Gr.CLOSE="b";Gr.ERROR="c";Gr.MESSAGE="d";be.prototype.listen=be.prototype.N;ye.prototype.listenOnce=ye.prototype.O;ye.prototype.getLastError=ye.prototype.La;ye.prototype.getLastErrorCode=ye.prototype.Da;ye.prototype.getStatus=ye.prototype.ba;ye.prototype.getResponseJson=ye.prototype.Qa;ye.prototype.getResponseText=ye.prototype.ga;ye.prototype.send=ye.prototype.ea;var yv=function(){return new Gs},vv=function(){return yi()},fa=vi,wv=nd,xv=xn,Vc={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bv=Qr,ps=rd,_v=ye;const $c="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er="9.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new ah("@firebase/firestore");function Bc(){return dn.logLevel}function P(t,...e){if(dn.logLevel<=Z.DEBUG){const n=e.map(rl);dn.debug(`Firestore (${er}): ${t}`,...n)}}function Yt(t,...e){if(dn.logLevel<=Z.ERROR){const n=e.map(rl);dn.error(`Firestore (${er}): ${t}`,...n)}}function zc(t,...e){if(dn.logLevel<=Z.WARN){const n=e.map(rl);dn.warn(`Firestore (${er}): ${t}`,...n)}}function rl(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t="Unexpected state"){const e=`FIRESTORE (${er}) INTERNAL ASSERTION FAILED: `+t;throw Yt(e),new Error(e)}function ne(t,e){t||$()}function B(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class Nv{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new sn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new sn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne(typeof r.accessToken=="string"),new Sv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ne(e===null||typeof e=="string"),new Ye(e)}}class Ev{constructor(e,n,r){this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class kv{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ev(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iv{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=i=>{i.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.p;return this.p=i.token,P("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?s(i):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ne(typeof n.token=="string"),this.p=n.token,new Tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl.A=-1;class Ld{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Dv(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function $n(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Re(0,0))}static max(){return new j(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(),r===void 0?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends Ir{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const Av=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ir{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return Av.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new We(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new F(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new F(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new F(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.fields=e,e.sort(We.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $n(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ke(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new ke(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const Rv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wt(t){if(ne(!!t),typeof t=="string"){let e=0;const n=Rv.exec(t);if(ne(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pe(t.seconds),nanos:pe(t.nanos)}}function pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bn(t){return typeof t=="string"?ke.fromBase64String(t):ke.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vd(t){const e=t.mapValue.fields.__previous_value__;return Ud(e)?Vd(e):e}function Dr(t){const e=Wt(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,s,i,a,o,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.useFetchStreams=l}}class zn{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zn("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zn&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t){return t==null}function Ks(t){return t===0&&1/t==-1/0}function Pv(t){return typeof t=="number"&&Number.isInteger(t)&&!Ks(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(ue.fromString(e))}static fromName(e){return new L(ue.fromString(e).popFirst(5))}static empty(){return new L(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new ue(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ud(t)?4:Ov(t)?9007199254740991:10:$()}function pt(t,e){if(t===e)return!0;const n=fn(t);if(n!==fn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dr(t).isEqual(Dr(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Wt(r.timestampValue),a=Wt(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Bn(r.bytesValue).isEqual(Bn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return pe(r.geoPointValue.latitude)===pe(s.geoPointValue.latitude)&&pe(r.geoPointValue.longitude)===pe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pe(r.integerValue)===pe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=pe(r.doubleValue),a=pe(s.doubleValue);return i===a?Ks(i)===Ks(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return $n(t.arrayValue.values||[],e.arrayValue.values||[],pt);case 10:return function(r,s){const i=r.mapValue.fields||{},a=s.mapValue.fields||{};if(jc(i)!==jc(a))return!1;for(const o in i)if(i.hasOwnProperty(o)&&(a[o]===void 0||!pt(i[o],a[o])))return!1;return!0}(t,e);default:return $()}}function Ar(t,e){return(t.values||[]).find(n=>pt(n,e))!==void 0}function jn(t,e){if(t===e)return 0;const n=fn(t),r=fn(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(s,i){const a=pe(s.integerValue||s.doubleValue),o=pe(i.integerValue||i.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return Hc(t.timestampValue,e.timestampValue);case 4:return Hc(Dr(t),Dr(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(s,i){const a=Bn(s),o=Bn(i);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const a=s.split("/"),o=i.split("/");for(let l=0;l<a.length&&l<o.length;l++){const c=J(a[l],o[l]);if(c!==0)return c}return J(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const a=J(pe(s.latitude),pe(i.latitude));return a!==0?a:J(pe(s.longitude),pe(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const a=s.values||[],o=i.values||[];for(let l=0;l<a.length&&l<o.length;++l){const c=jn(a[l],o[l]);if(c)return c}return J(a.length,o.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===gs.mapValue&&i===gs.mapValue)return 0;if(s===gs.mapValue)return 1;if(i===gs.mapValue)return-1;const a=s.fields||{},o=Object.keys(a),l=i.fields||{},c=Object.keys(l);o.sort(),c.sort();for(let d=0;d<o.length&&d<c.length;++d){const h=J(o[d],c[d]);if(h!==0)return h;const f=jn(a[o[d]],l[c[d]]);if(f!==0)return f}return J(o.length,c.length)}(t.mapValue,e.mapValue);default:throw $()}}function Hc(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return J(t,e);const n=Wt(t),r=Wt(e),s=J(n.seconds,r.seconds);return s!==0?s:J(n.nanos,r.nanos)}function Rn(t){return Wa(t)}function Wa(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Wt(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bn(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,L.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const a of r.values||[])i?i=!1:s+=",",s+=Wa(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of s)a?a=!1:i+=",",i+=`${o}:${Wa(r.fields[o])}`;return i+"}"}(t.mapValue):$();var e,n}function qa(t){return!!t&&"integerValue"in t}function il(t){return!!t&&"arrayValue"in t}function Yc(t){return!!t&&"nullValue"in t}function Wc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ss(t){return!!t&&"mapValue"in t}function gr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return tr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gr(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ov(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.value=e}static empty(){return new st({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ss(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gr(n)}setAll(e){let n=We.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=gr(a):s.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ss(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ss(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){tr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new st(gr(this.value))}}function $d(t){const e=[];return tr(t.fields,(n,r)=>{const s=new We([n]);if(Ss(r)){const i=$d(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Ya(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n,r,s,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new De(e,0,j.min(),j.min(),st.empty(),0)}static newFoundDocument(e,n,r){return new De(e,1,n,j.min(),r,0)}static newNoDocument(e,n){return new De(e,2,n,j.min(),st.empty(),0)}static newUnknownDocument(e,n){return new De(e,3,n,j.min(),st.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=st.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=st.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof De&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new De(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function Lv(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=j.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new mn(s,L.empty(),e)}function Fv(t){return new mn(t.readTime,t.key,-1)}class mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mn(j.min(),L.empty(),-1)}static max(){return new mn(j.max(),L.empty(),-1)}}function Uv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:J(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.comparator=e,this.root=n||Se.EMPTY}insert(e,n){return new _e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Se.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Se.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}}class ys{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Se{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r!=null?r:Se.RED,this.left=s!=null?s:Se.EMPTY,this.right=i!=null?i:Se.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Se(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Se.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Se.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Se.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Se.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Se.EMPTY=null,Se.RED=!0,Se.BLACK=!1;Se.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Se(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qc(this.data.getIterator())}getIteratorFrom(e){return new qc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ee)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ee(this.comparator);return n.data=e,n}}class qc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.P=null}}function Gc(t,e=null,n=[],r=[],s=null,i=null,a=null){return new Vv(t,e,n,r,s,i,a)}function al(t){const e=B(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+Rn(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ei(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rn(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rn(r)).join(",")),e.P=n}return e.P}function $v(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Rn(r.value)}`;var r}).join(", ")}]`),Ei(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Rn(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Rn(n)).join(",")),`Target(${e})`}function ol(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!Gv(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],r=e.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!pt(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xc(t.startAt,e.startAt)&&Xc(t.endAt,e.endAt)}function Ga(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class qe extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.V(e,n,r):new Bv(e,n,r):n==="array-contains"?new Hv(e,r):n==="in"?new Yv(e,r):n==="not-in"?new Wv(e,r):n==="array-contains-any"?new qv(e,r):new qe(e,n,r)}static V(e,n,r){return n==="in"?new zv(e,r):new jv(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(jn(n,this.value)):n!==null&&fn(this.value)===fn(n)&&this.v(jn(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bv extends qe{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.v(n)}}class zv extends qe{constructor(e,n){super(e,"in",n),this.keys=Bd("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jv extends qe{constructor(e,n){super(e,"not-in",n),this.keys=Bd("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bd(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class Hv extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return il(n)&&Ar(n.arrayValue,this.value)}}class Yv extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ar(this.value.arrayValue,n)}}class Wv extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ar(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ar(this.value.arrayValue,n)}}class qv extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!il(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ar(this.value.arrayValue,r))}}class Xs{constructor(e,n){this.position=e,this.inclusive=n}}class yr{constructor(e,n="asc"){this.field=e,this.dir=n}}function Gv(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Kc(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=L.comparator(L.fromName(a.referenceValue),n.key):r=jn(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xc(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function Kv(t,e,n,r,s,i,a,o){return new ki(t,e,n,r,s,i,a,o)}function ll(t){return new ki(t)}function Xv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zv(t){for(const e of t.filters)if(e.S())return e.field;return null}function Jv(t){return t.collectionGroup!==null}function Rr(t){const e=B(t);if(e.D===null){e.D=[];const n=Zv(e),r=Qv(e);if(n!==null&&r===null)n.isKeyField()||e.D.push(new yr(n)),e.D.push(new yr(We.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.D.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yr(We.keyField(),i))}}}return e.D}function pn(t){const e=B(t);if(!e.C)if(e.limitType==="F")e.C=Gc(e.path,e.collectionGroup,Rr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Rr(e)){const a=i.dir==="desc"?"asc":"desc";n.push(new yr(i.field,a))}const r=e.endAt?new Xs(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Xs(e.startAt.position,e.startAt.inclusive):null;e.C=Gc(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e.C}function ew(t,e,n){return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ti(t,e){return ol(pn(t),pn(e))&&t.limitType===e.limitType}function zd(t){return`${al(pn(t))}|lt:${t.limitType}`}function Ka(t){return`Query(target=${$v(pn(t))}; limitType=${t.limitType})`}function cl(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):L.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,a){const o=Kc(s,i,a);return s.inclusive?o<=0:o<0}(n.startAt,Rr(n),r)||n.endAt&&!function(s,i,a){const o=Kc(s,i,a);return s.inclusive?o>=0:o>0}(n.endAt,Rr(n),r))}(t,e)}function tw(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jd(t){return(e,n)=>{let r=!1;for(const s of Rr(t)){const i=nw(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nw(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(s,i,a){const o=i.data.field(s),l=a.data.field(s);return o!==null&&l!==null?jn(o,l):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ks(e)?"-0":e}}function Yd(t){return{integerValue:""+t}}function rw(t,e){return Pv(e)?Yd(e):Hd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this._=void 0}}function sw(t,e,n){return t instanceof Qs?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Mr?qd(t,e):t instanceof Pr?Gd(t,e):function(r,s){const i=Wd(r,s),a=Qc(i)+Qc(r.k);return qa(i)&&qa(r.k)?Yd(a):Hd(r.M,a)}(t,e)}function iw(t,e,n){return t instanceof Mr?qd(t,e):t instanceof Pr?Gd(t,e):n}function Wd(t,e){return t instanceof Zs?qa(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Qs extends Ii{}class Mr extends Ii{constructor(e){super(),this.elements=e}}function qd(t,e){const n=Kd(e);for(const r of t.elements)n.some(s=>pt(s,r))||n.push(r);return{arrayValue:{values:n}}}class Pr extends Ii{constructor(e){super(),this.elements=e}}function Gd(t,e){let n=Kd(e);for(const r of t.elements)n=n.filter(s=>!pt(s,r));return{arrayValue:{values:n}}}class Zs extends Ii{constructor(e,n){super(),this.M=e,this.k=n}}function Qc(t){return pe(t.integerValue||t.doubleValue)}function Kd(t){return il(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aw(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Mr&&r instanceof Mr||n instanceof Pr&&r instanceof Pr?$n(n.elements,r.elements,pt):n instanceof Zs&&r instanceof Zs?pt(n.k,r.k):n instanceof Qs&&r instanceof Qs}(t.transform,e.transform)}class ow{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Di{}function lw(t,e,n){t instanceof Ai?function(r,s,i){const a=r.value.clone(),o=eu(r.fieldTransforms,s,i.transformResults);a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof es?function(r,s,i){if(!Cs(r.precondition,s))return void s.convertToUnknownDocument(i.version);const a=eu(r.fieldTransforms,s,i.transformResults),o=s.data;o.setAll(Xd(r)),o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n){t instanceof Ai?function(r,s,i){if(!Cs(r.precondition,s))return;const a=r.value.clone(),o=tu(r.fieldTransforms,i,s);a.setAll(o),s.convertToFoundDocument(Jc(s),a).setHasLocalMutations()}(t,e,n):t instanceof es?function(r,s,i){if(!Cs(r.precondition,s))return;const a=tu(r.fieldTransforms,i,s),o=s.data;o.setAll(Xd(r)),o.setAll(a),s.convertToFoundDocument(Jc(s),o).setHasLocalMutations()}(t,e,n):function(r,s){Cs(r.precondition,s)&&s.convertToNoDocument(j.min())}(t,e)}function cw(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Wd(r.transform,s||null);i!=null&&(n==null&&(n=st.empty()),n.set(r.field,i))}return n||null}function Zc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&$n(n,r,(s,i)=>aw(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Jc(t){return t.isFoundDocument()?t.version:j.min()}class Ai extends Di{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}}class es extends Di{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}}function Xd(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eu(t,e,n){const r=new Map;ne(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,iw(a,o,n[s]))}return r}function tu(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,sw(i,a,e))}return r}class uw extends Di{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class hw extends Di{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,W;function fw(t){switch(t){default:return $();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function Qd(t){if(t===void 0)return Yt("GRPC error has no .code"),S.UNKNOWN;switch(t){case me.OK:return S.OK;case me.CANCELLED:return S.CANCELLED;case me.UNKNOWN:return S.UNKNOWN;case me.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case me.INTERNAL:return S.INTERNAL;case me.UNAVAILABLE:return S.UNAVAILABLE;case me.UNAUTHENTICATED:return S.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case me.NOT_FOUND:return S.NOT_FOUND;case me.ALREADY_EXISTS:return S.ALREADY_EXISTS;case me.PERMISSION_DENIED:return S.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case me.ABORTED:return S.ABORTED;case me.OUT_OF_RANGE:return S.OUT_OF_RANGE;case me.UNIMPLEMENTED:return S.UNIMPLEMENTED;case me.DATA_LOSS:return S.DATA_LOSS;default:return $()}}(W=me||(me={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){tr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Fd(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new _e(L.comparator);function gn(){return mw}const pw=new _e(L.comparator);function Qa(...t){let e=pw;for(const n of t)e=e.insert(n.key,n);return e}function ma(){return new nr(t=>t.toString(),(t,e)=>t.isEqual(e))}const gw=new _e(L.comparator),yw=new Ee(L.comparator);function re(...t){let e=yw;for(const n of t)e=e.add(n);return e}const vw=new Ee(J);function Zd(){return vw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ts.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ri(j.min(),r,Zd(),gn(),re())}}class ts{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ts(ke.EMPTY_BYTE_STRING,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,s){this.O=e,this.removedTargetIds=n,this.key=r,this.F=s}}class Jd{constructor(e,n){this.targetId=e,this.$=n}}class ef{constructor(e,n,r=ke.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nu{constructor(){this.B=0,this.L=su(),this.U=ke.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=re(),n=re(),r=re();return this.L.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:$()}}),new ts(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=su()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ww{constructor(e){this.nt=e,this.st=new Map,this.it=gn(),this.rt=ru(),this.ot=new Ee(J)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,s)=>{this.ft(s)&&n(s)})}_t(e){const n=e.targetId,r=e.$.count,s=this.wt(n);if(s){const i=s.target;if(Ga(i))if(r===0){const a=new L(i.path);this.ct(n,a,De.newNoDocument(a,j.min()))}else ne(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((i,a)=>{const o=this.wt(a);if(o){if(i.current&&Ga(o.target)){const l=new L(o.target.path);this.it.get(l)!==null||this.It(a,l)||this.ct(a,l,De.newNoDocument(l,e))}i.j&&(n.set(a,i.H()),i.J())}});let r=re();this.rt.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.wt(l);return!c||c.purpose===2||(o=!1,!1)}),o&&(r=r.add(i))}),this.it.forEach((i,a)=>a.setReadTime(e));const s=new Ri(e,n,this.ot,this.it,r);return this.it=gn(),this.rt=ru(),this.ot=new Ee(J),s}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const s=this.lt(e);this.It(e,n)?s.Y(n,1):s.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new nu,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ee(J),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new nu),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function ru(){return new _e(L.comparator)}function su(){return new _e(L.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),bw=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class _w{constructor(e,n){this.databaseId=e,this.N=n}}function Js(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tf(t,e){return t.N?e.toBase64():e.toUint8Array()}function Sw(t,e){return Js(t,e.toTimestamp())}function Et(t){return ne(!!t),j.fromTimestamp(function(e){const n=Wt(e);return new Re(n.seconds,n.nanos)}(t))}function ul(t,e){return function(n){return new ue(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function nf(t){const e=ue.fromString(t);return ne(af(e)),e}function Za(t,e){return ul(t.databaseId,e.path)}function pa(t,e){const n=nf(e);if(n.get(1)!==t.databaseId.projectId)throw new F(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(rf(n))}function Ja(t,e){return ul(t.databaseId,e)}function Cw(t){const e=nf(t);return e.length===4?ue.emptyPath():rf(e)}function eo(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rf(t){return ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iu(t,e,n){return{name:Za(t,e),fields:n.value.mapValue.fields}}function Nw(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,c){return l.N?(ne(c===void 0||typeof c=="string"),ke.fromBase64String(c||"")):(ne(c===void 0||c instanceof Uint8Array),ke.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const c=l.code===void 0?S.UNKNOWN:Qd(l.code);return new F(c,l.message||"")}(a);n=new ef(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pa(t,r.document.name),i=Et(r.document.updateTime),a=new st({mapValue:{fields:r.document.fields}}),o=De.newFoundDocument(s,i,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Ns(l,c,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pa(t,r.document),i=r.readTime?Et(r.readTime):j.min(),a=De.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Ns([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pa(t,r.document),i=r.removedTargetIds||[];n=new Ns([],i,s,null)}else{if(!("filter"in e))return $();{e.filter;const r=e.filter;r.targetId;const s=r.count||0,i=new dw(s),a=r.targetId;n=new Jd(a,i)}}return n}function Ew(t,e){let n;if(e instanceof Ai)n={update:iu(t,e.key,e.value)};else if(e instanceof uw)n={delete:Za(t,e.key)};else if(e instanceof es)n={update:iu(t,e.key,e.data),updateMask:Lw(e.fieldMask)};else{if(!(e instanceof hw))return $();n={verify:Za(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof Qs)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zs)return{fieldPath:i.field.canonicalString(),increment:a.k};throw $()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Sw(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$()}(t,e.precondition)),n}function kw(t,e){return t&&t.length>0?(ne(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?Et(r.updateTime):Et(s);return i.isEqual(j.min())&&(i=Et(s)),new ow(i,r.transformResults||[])}(n,e))):[]}function Tw(t,e){return{documents:[Ja(t,e.path)]}}function Iw(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ja(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ja(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length===0)return;const c=l.map(d=>function(h){if(h.op==="=="){if(Wc(h.value))return{unaryFilter:{field:Cn(h.field),op:"IS_NAN"}};if(Yc(h.value))return{unaryFilter:{field:Cn(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Wc(h.value))return{unaryFilter:{field:Cn(h.field),op:"IS_NOT_NAN"}};if(Yc(h.value))return{unaryFilter:{field:Cn(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cn(h.field),op:Mw(h.op),value:h.value}}}(d));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Cn(d.field),direction:Rw(d.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=function(l,c){return l.N||Ei(c)?c:{value:c}}(t,e.limit);var o;return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(o=e.startAt).inclusive,values:o.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Dw(t){let e=Cw(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ne(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=sf(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(d=>function(h){return new yr(Dn(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,Ei(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Xs(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new Xs(f,h)}(n.endAt)),Kv(e,s,a,i,o,"F",l,c)}function Aw(t,e){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function sf(t){return t?t.unaryFilter!==void 0?[Ow(t)]:t.fieldFilter!==void 0?[Pw(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>sf(e)).reduce((e,n)=>e.concat(n)):$():[]}function Rw(t){return xw[t]}function Mw(t){return bw[t]}function Cn(t){return{fieldPath:t.canonicalString()}}function Dn(t){return We.fromServerFormat(t.fieldPath)}function Pw(t){return qe.create(Dn(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ow(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Dn(t.unaryFilter.field);return qe.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Dn(t.unaryFilter.field);return qe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dn(t.unaryFilter.field);return qe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Dn(t.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}function Lw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function af(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&n()},l=>r(l))}),a=!0,i===s&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(s=>s?C.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}}function ns(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lw(i,e,r[s])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Xa(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Xa(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(j.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&$n(this.mutations,e.mutations,(n,r)=>Zc(n,r))&&$n(this.baseMutations,e.baseMutations,(n,r)=>Zc(n,r))}}class hl{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ne(e.mutations.length===r.length);let s=gw;const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new hl(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,i=j.min(),a=j.min(),o=ke.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o}withSequenceNumber(e){return new an(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new an(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new an(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.Jt=e}}function zw(t){const e=Dw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ew(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.qe=new Hw}addToCollectionParentIndex(e,n){return this.qe.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(mn.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class Hw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ee(ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ee(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Hn(0)}static yn(){return new Hn(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(t){if(t.code!==S.FAILED_PRECONDITION||t.message!==Fw)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.changes=new nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,De.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(s=>{for(const i of r)i.applyToLocalView(s);return s})}qs(e,n){e.forEach((r,s)=>{for(const i of n)i.applyToLocalView(s)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return function(s){return L.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.js(e,n.path):Jv(n)?this.Ws(e,n,r):this.zs(e,n,r)}js(e,n){return this.Ls(e,new L(n)).next(r=>{let s=Qa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Ws(e,n,r){const s=n.collectionGroup;let i=Qa();return this.indexManager.getCollectionParents(e,s).next(a=>C.forEach(a,o=>{const l=function(c,d){return new ki(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,o.child(s));return this.zs(e,l,r).next(c=>{c.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}zs(e,n,r){let s;return this.ds.getAllFromCollection(e,n.path,r).next(i=>(s=i,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(i=>{for(const a of i)for(const o of a.mutations){const l=o.key;let c=s.get(l);c==null&&(c=De.newInvalidDocument(l),s=s.insert(l,c)),Xa(o,c,a.localWriteTime),c.isFoundDocument()||(s=s.remove(l))}}).next(()=>(s.forEach((i,a)=>{cl(n,a)||(s=s.remove(i))}),s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=s}static Ys(e,n){let r=re(),s=re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new dl(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,s){return this.ti(e,n).next(i=>i||this.ei(e,n,s,r)).next(i=>i||this.ni(e,n))}ti(e,n){return C.resolve(null)}ei(e,n,r,s){return Xv(n)||s.isEqual(j.min())?this.ni(e,n):this.Zs.Ks(e,r).next(i=>{const a=this.si(n,i);return this.ii(n,a,r,s)?this.ni(e,n):(Bc()<=Z.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ka(n)),this.ri(e,a,n,Lv(s,-1)))})}si(e,n){let r=new Ee(jd(e));return n.forEach((s,i)=>{cl(e,i)&&(r=r.add(i))}),r}ii(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ni(e,n){return Bc()<=Z.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.Zs.Qs(e,n,mn.min())}ri(e,n,r,s){return this.Zs.Qs(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,r,s){this.persistence=e,this.oi=n,this.M=s,this.ui=new _e(J),this.ai=new nr(i=>al(i),ol),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Ww(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function Kw(t,e,n,r){return new Gw(t,e,n,r)}async function of(t,e){const n=B(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.Bs.getAllMutationBatches(r).next(i=>(s=i,n.li(e),n.Bs.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=re();for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.fi.Ks(r,l).next(c=>({di:c,removedBatchIds:a,addedBatchIds:o}))})})}function Xw(t,e){const n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(a,o,l,c){const d=l.batch,h=d.keys();let f=C.resolve();return h.forEach(y=>{f=f.next(()=>c.getEntry(o,y)).next(g=>{const v=l.docVersions.get(y);ne(v!==null),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>a.Bs.removeMutationBatch(o,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,s))})}function lf(t){const e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Qw(t,e){const n=B(t),r=e.snapshotVersion;let s=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.hi.newChangeBuffer({trackRemovals:!0});s=n.ui;const o=[];e.targetChanges.forEach((c,d)=>{const h=s.get(d);if(!h)return;o.push(n.fs.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.fs.addMatchingKeys(i,c.addedDocuments,d)));let f=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(d)?f=f.withResumeToken(ke.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),s=s.insert(d,f),function(y,g,v){return y.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,f,c)&&o.push(n.fs.updateTargetData(i,f))});let l=gn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),o.push(Zw(i,a,e.documentUpdates).next(c=>{l=c})),!r.isEqual(j.min())){const c=n.fs.getLastRemoteSnapshotVersion(i).next(d=>n.fs.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(c)}return C.waitFor(o).next(()=>a.apply(i)).next(()=>n.fi.Gs(i,l)).next(()=>l)}).then(i=>(n.ui=s,i))}function Zw(t,e,n){let r=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let i=gn();return n.forEach((a,o)=>{const l=s.get(a);o.isNoDocument()&&o.version.isEqual(j.min())?(e.removeEntry(a,o.readTime),i=i.insert(a,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||o.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(o),i=i.insert(a,o)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",o.version)}),i})}function Jw(t,e){const n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function ex(t,e){const n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.fs.getTargetData(r,e).next(i=>i?(s=i,C.resolve(s)):n.fs.allocateTargetId(r).next(a=>(s=new an(e,a,0,r.currentSequenceNumber),n.fs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ui.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}async function to(t,e,n){const r=B(t),s=r.ui.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ns(a))throw a;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ui=r.ui.remove(e),r.ai.delete(s.target)}function au(t,e,n){const r=B(t);let s=j.min(),i=re();return r.persistence.runTransaction("Execute query","readonly",a=>function(o,l,c){const d=B(o),h=d.ai.get(c);return h!==void 0?C.resolve(d.ui.get(h)):d.fs.getTargetData(l,c)}(r,a,pn(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.oi.Qs(a,e,n?s:j.min(),n?i:re())).next(o=>(tx(r,tw(e),o),{documents:o,_i:i})))}function tx(t,e,n){let r=j.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ci.set(e,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return C.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:Et(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,function(r){return{name:r.name,query:zw(r.bundledQuery),readTime:Et(r.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.overlays=new _e(L.comparator),this.Ii=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Xt(e,n,i)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ii.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ii.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const s=ma(),i=n.length+1,a=new L(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return C.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new _e((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=ma(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const o=ma(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>o.set(c,d)),!(o.size()>=s)););return C.resolve(o)}Xt(e,n,r){if(r===null)return;const s=this.overlays.get(r.key);if(s!==null){const a=this.Ii.get(s.largestBatchId).delete(r.key);this.Ii.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new $w(n,r));let i=this.Ii.get(n);i===void 0&&(i=re(),this.Ii.set(n,i)),this.Ii.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.Ti=new Ee(xe.Ei),this.Ai=new Ee(xe.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new xe(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new xe(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new L(new ue([])),r=new xe(n,e),s=new xe(n,e+1),i=[];return this.Ai.forEachInRange([r,s],a=>{this.Pi(a),i.push(a.key)}),i}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new L(new ue([])),r=new xe(n,e),s=new xe(n,e+1);let i=re();return this.Ai.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new xe(e,0),r=this.Ti.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xe{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return L.comparator(e.key,n.key)||J(e.Ci,n.Ci)}static Ri(e,n){return J(e.Ci,n.Ci)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Ee(xe.Ei)}checkEmpty(e){return C.resolve(this.Bs.length===0)}addMutationBatch(e,n,r,s){const i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const a=new Vw(i,n,r,s);this.Bs.push(a);for(const o of s)this.Ni=this.Ni.add(new xe(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return C.resolve(a)}lookupMutationBatch(e,n){return C.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Mi(r),i=s<0?0:s;return C.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.Bs.length===0?-1:this.xi-1)}getAllMutationBatches(e){return C.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xe(n,0),s=new xe(n,Number.POSITIVE_INFINITY),i=[];return this.Ni.forEachInRange([r,s],a=>{const o=this.ki(a.Ci);i.push(o)}),C.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ee(J);return n.forEach(s=>{const i=new xe(s,0),a=new xe(s,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([i,a],o=>{r=r.add(o.Ci)})}),C.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;L.isDocumentKey(i)||(i=i.child(""));const a=new xe(new L(i),0);let o=new Ee(J);return this.Ni.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.Ci)),!0)},a),C.resolve(this.Oi(o))}Oi(e){const n=[];return e.forEach(r=>{const s=this.ki(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ne(this.Fi(n.batchId,"removed")===0),this.Bs.shift();let r=this.Ni;return C.forEach(n.mutations,s=>{const i=new xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new xe(n,0),s=this.Ni.firstAfterOrEqual(r);return C.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.Bs.length,C.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.$i=e,this.docs=new _e(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():De.newInvalidDocument(n))}getEntries(e,n){let r=gn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():De.newInvalidDocument(s))}),C.resolve(r)}getAllFromCollection(e,n,r){let s=gn();const i=new L(n.child("")),a=this.docs.getIteratorFrom(i);for(;a.hasNext();){const{key:o,value:{document:l}}=a.getNext();if(!n.isPrefixOf(o.path))break;o.path.length>n.length+1||Uv(Fv(l),r)<=0||(s=s.insert(l.key,l.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,r,s){$()}Bi(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ax(this)}getSize(e){return C.resolve(this.size)}}class ax extends Yw{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Kn.addEntry(e,s)):this.Kn.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.persistence=e,this.Li=new nr(n=>al(n),ol),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ui=0,this.qi=new fl,this.targetCount=0,this.Ki=Hn.gn()}forEachTarget(e,n){return this.Li.forEach((r,s)=>n(s)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),C.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new Hn(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.Tn(n),C.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Li.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Li.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),C.waitFor(i).next(()=>s)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),C.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.qi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.Gi={},this.overlays={},this.es=new sl(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new ox(this),this.indexManager=new jw,this.ds=function(r){return new ix(r)}(r=>this.referenceDelegate.Qi(r)),this.M=new Bw(n),this._s=new nx(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new sx(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const s=new cx(this.es.next());return this.referenceDelegate.ji(),r(s).next(i=>this.referenceDelegate.Wi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}zi(e,n){return C.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class cx extends Uw{constructor(e){super(),this.currentSequenceNumber=e}}class ml{constructor(e){this.persistence=e,this.Hi=new fl,this.Ji=null}static Yi(e){return new ml(e)}get Xi(){if(this.Ji)return this.Ji;throw $()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),C.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(s=>this.Xi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Xi,r=>{const s=L.fromPath(r);return this.Zi(e,s).next(i=>{i||n.removeEntry(s,j.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return C.or([()=>C.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class ou{constructor(){this.activeTargetIds=Zd()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ux{constructor(){this.Ur=new ou,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new ou,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{Kr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.uo=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,s,i){const a=this.ho(e,n);P("RestConnection","Sending: ",a,r);const o={};return this.lo(o,s,i),this.fo(e,a,o,r).then(l=>(P("RestConnection","Received: ",l),l),l=>{throw zc("RestConnection",`${e} failed with error: `,l,"url: ",a,"request:",r),l})}_o(e,n,r,s,i){return this.co(e,n,r,s,i)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+er,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}ho(e,n){const r=dx[e];return`${this.uo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,s){return new Promise((i,a)=>{const o=new _v;o.listenOnce(wv.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case fa.NO_ERROR:const c=o.getResponseJson();P("Connection","XHR received:",JSON.stringify(c)),i(c);break;case fa.TIMEOUT:P("Connection",'RPC "'+e+'" timed out'),a(new F(S.DEADLINE_EXCEEDED,"Request time out"));break;case fa.HTTP_ERROR:const d=o.getStatus();if(P("Connection",'RPC "'+e+'" failed with status:',d,"response text:",o.getResponseText()),d>0){const h=o.getResponseJson().error;if(h&&h.status&&h.message){const f=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(g)>=0?g:S.UNKNOWN}(h.status);a(new F(f,h.message))}else a(new F(S.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new F(S.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{P("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(s);o.send(n,"POST",l,r,15)})}wo(e,n,r){const s=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yv(),a=vv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bv({})),this.lo(o.initMessageHeaders,n,r),jg()||Yg()||Wg()||qg()||Gg()||Hg()||(o.httpHeadersOverwriteParam="$httpHeaders");const l=s.join("");P("Connection","Creating WebChannel: "+l,o);const c=i.createWebChannel(l,o);let d=!1,h=!1;const f=new fx({Jr:g=>{h?P("Connection","Not sending because WebChannel is closed:",g):(d||(P("Connection","Opening WebChannel transport."),c.open(),d=!0),P("Connection","WebChannel sending:",g),c.send(g))},Yr:()=>c.close()}),y=(g,v,b)=>{g.listen(v,R=>{try{b(R)}catch(_){setTimeout(()=>{throw _},0)}})};return y(c,ps.EventType.OPEN,()=>{h||P("Connection","WebChannel transport opened.")}),y(c,ps.EventType.CLOSE,()=>{h||(h=!0,P("Connection","WebChannel transport closed"),f.ro())}),y(c,ps.EventType.ERROR,g=>{h||(h=!0,zc("Connection","WebChannel transport errored:",g),f.ro(new F(S.UNAVAILABLE,"The operation could not be completed")))}),y(c,ps.EventType.MESSAGE,g=>{var v;if(!h){const b=g.data[0];ne(!!b);const R=b,_=R.error||((v=R[0])===null||v===void 0?void 0:v.error);if(_){P("Connection","WebChannel received error:",_);const k=_.status;let M=function(I){const w=me[I];if(w!==void 0)return Qd(w)}(k),E=_.message;M===void 0&&(M=S.INTERNAL,E="Unknown error status: "+k+" with message "+_.message),h=!0,f.ro(new F(M,E)),c.close()}else P("Connection","WebChannel received:",b),f.oo(b)}}),y(a,xv.STAT_EVENT,g=>{g.stat===Vc.PROXY?P("Connection","Detected buffering proxy"):g.stat===Vc.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.io()},0),f}}function ga(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){return new _w(t,!0)}class cf{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=s,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,n-r);s>0&&P("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,s,i,a,o,l){this.Yn=e,this.Vo=r,this.vo=s,this.So=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new cf(e,n)}ko(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&this.Co===null&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Mo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.eo(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Do===n&&this.Qo(r,s)},r=>{e(()=>{const s=new F(S.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(s)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(s=>{r(()=>this.jo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class px extends uf{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.M=i}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=Nw(this.M,e),r=function(s){if(!("targetChange"in s))return j.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?j.min():i.readTime?Et(i.readTime):j.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=eo(this.M),n.addTarget=function(s,i){let a;const o=i.target;return a=Ga(o)?{documents:Tw(s,o)}:{query:Iw(s,o)},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?a.resumeToken=tf(s,i.resumeToken):i.snapshotVersion.compareTo(j.min())>0&&(a.readTime=Js(s,i.snapshotVersion.toTimestamp())),a}(this.M,e);const r=Aw(this.M,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=eo(this.M),n.removeTarget=e,this.Lo(n)}}class gx extends uf{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.M=i,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=kw(e.writeResults,e.commitTime),r=Et(e.commitTime);return this.listener.tu(r,n)}return ne(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=eo(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ew(this.M,r))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=s,this.su=!1}iu(){if(this.su)throw new F(S.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.So.co(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(S.UNKNOWN,s.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.So._o(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(S.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class vx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){this.ru===0&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Yt(n),this.uu=!1):P("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=i,this.gu.Kr(a=>{r.enqueueAndForget(async()=>{bn(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=B(o);l.wu.add(4),await ss(l),l.yu.set("Unknown"),l.wu.delete(4),await Pi(l)}(this))})}),this.yu=new vx(r,s)}}async function Pi(t){if(bn(t))for(const e of t.mu)await e(!0)}async function ss(t){for(const e of t.mu)await e(!1)}function hf(t,e){const n=B(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),yl(n)?gl(n):rr(n).Mo()&&pl(n,e))}function df(t,e){const n=B(t),r=rr(n);n._u.delete(e),r.Mo()&&ff(n,e),n._u.size===0&&(r.Mo()?r.$o():bn(n)&&n.yu.set("Unknown"))}function pl(t,e){t.pu.Z(e.targetId),rr(t).Ho(e)}function ff(t,e){t.pu.Z(e),rr(t).Jo(e)}function gl(t){t.pu=new ww({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),rr(t).start(),t.yu.au()}function yl(t){return bn(t)&&!rr(t).ko()&&t._u.size>0}function bn(t){return B(t).wu.size===0}function mf(t){t.pu=void 0}async function xx(t){t._u.forEach((e,n)=>{pl(t,e)})}async function bx(t,e){mf(t),yl(t)?(t.yu.lu(e),gl(t)):t.yu.set("Unknown")}async function _x(t,e,n){if(t.yu.set("Online"),e instanceof ef&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const a of s.targetIds)r._u.has(a)&&(await r.remoteSyncer.rejectListen(a,i),r._u.delete(a),r.pu.removeTarget(a))}(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ei(t,r)}else if(e instanceof Ns?t.pu.ut(e):e instanceof Jd?t.pu._t(e):t.pu.ht(e),!n.isEqual(j.min()))try{const r=await lf(t.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.pu.yt(i);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const c=s._u.get(l);c&&s._u.set(l,c.withResumeToken(o.resumeToken,i))}}),a.targetMismatches.forEach(o=>{const l=s._u.get(o);if(!l)return;s._u.set(o,l.withResumeToken(ke.EMPTY_BYTE_STRING,l.snapshotVersion)),ff(s,o);const c=new an(l.target,o,1,l.sequenceNumber);pl(s,c)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){P("RemoteStore","Failed to raise snapshot:",r),await ei(t,r)}}async function ei(t,e,n){if(!ns(e))throw e;t.wu.add(1),await ss(t),t.yu.set("Offline"),n||(n=()=>lf(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await Pi(t)})}function pf(t,e){return e().catch(n=>ei(t,n,e))}async function Oi(t){const e=B(t),n=qt(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Sx(e);)try{const s=await Jw(e.localStore,r);if(s===null){e.du.length===0&&n.$o();break}r=s.batchId,Cx(e,s)}catch(s){await ei(e,s)}gf(e)&&yf(e)}function Sx(t){return bn(t)&&t.du.length<10}function Cx(t,e){t.du.push(e);const n=qt(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function gf(t){return bn(t)&&!qt(t).ko()&&t.du.length>0}function yf(t){qt(t).start()}async function Nx(t){qt(t).nu()}async function Ex(t){const e=qt(t);for(const n of t.du)e.Zo(n.mutations)}async function kx(t,e,n){const r=t.du.shift(),s=hl.from(r,e,n);await pf(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Oi(t)}async function Tx(t,e){e&&qt(t).Xo&&await async function(n,r){if(s=r.code,fw(s)&&s!==S.ABORTED){const i=n.du.shift();qt(n).Fo(),await pf(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Oi(n)}var s}(t,e),gf(t)&&yf(t)}async function cu(t,e){const n=B(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=bn(n);n.wu.add(3),await ss(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await Pi(n)}async function Ix(t,e){const n=B(t);e?(n.wu.delete(2),await Pi(n)):e||(n.wu.add(2),await ss(n),n.yu.set("Unknown"))}function rr(t){return t.Iu||(t.Iu=function(e,n,r){const s=B(e);return s.iu(),new px(n,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(t.datastore,t.asyncQueue,{Xr:xx.bind(null,t),eo:bx.bind(null,t),zo:_x.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),yl(t)?gl(t):t.yu.set("Unknown")):(await t.Iu.stop(),mf(t))})),t.Iu}function qt(t){return t.Tu||(t.Tu=function(e,n,r){const s=B(e);return s.iu(),new gx(n,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(t.datastore,t.asyncQueue,{Xr:Nx.bind(null,t),eo:Tx.bind(null,t),eu:Ex.bind(null,t),tu:kx.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await Oi(t)):(await t.Tu.stop(),t.du.length>0&&(P("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new vl(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wl(t,e){if(Yt("AsyncQueue",`${e}: ${t}`),ns(t))return new F(S.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new Pn(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pn;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.Eu=new _e(L.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?e.type!==0&&r.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&r.type!==1?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Eu=this.Eu.remove(n):e.type===1&&r.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):$():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yn{constructor(e,n,r,s,i,a,o,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Yn(e,n,Pn.emptySet(n),i,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ti(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.Ru=void 0,this.listeners=[]}}class Ax{constructor(){this.queries=new nr(e=>zd(e),Ti),this.onlineState="Unknown",this.bu=new Set}}async function Rx(t,e){const n=B(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Dx),s)try{i.Ru=await n.onListen(r)}catch(a){const o=wl(a,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(o)}n.queries.set(r,i),i.listeners.push(e),e.Pu(n.onlineState),i.Ru&&e.Vu(i.Ru)&&xl(n)}async function Mx(t,e){const n=B(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const a=i.listeners.indexOf(e);a>=0&&(i.listeners.splice(a,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Px(t,e){const n=B(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.listeners)o.Vu(s)&&(r=!0);a.Ru=s}}r&&xl(n)}function Ox(t,e,n){const r=B(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function xl(t){t.bu.forEach(e=>{e.next()})}class Lx{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yn(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.ku||!r)&&(!e.docs.isEmpty()||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=Yn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.key=e}}class wf{constructor(e){this.key=e}}class Fx{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=re(),this.mutatedKeys=re(),this.Gu=jd(e),this.Qu=new Pn(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new uu,s=n?n.Qu:this.Qu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),y=cl(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;f&&y?f.data.isEqual(y.data)?g!==v&&(r.track({type:3,doc:y}),b=!0):this.Hu(f,y)||(r.track({type:2,doc:y}),b=!0,(l&&this.Gu(y,l)>0||c&&this.Gu(y,c)<0)&&(o=!0)):!f&&y?(r.track({type:0,doc:y}),b=!0):f&&!y&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(o=!0)),b&&(y?(a=a.add(y),i=v?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Qu:a,zu:r,ii:o,mutatedKeys:i}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Au();i.sort((c,d)=>function(h,f){const y=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return y(h)-y(f)}(c.type,d.type)||this.Gu(c.doc,d.doc)),this.Ju(r);const a=n?this.Yu():[],o=this.Ku.size===0&&this.current?1:0,l=o!==this.qu;return this.qu=o,i.length!==0||l?{snapshot:new Yn(this.query,e.Qu,s,i,e.mutatedKeys,o===0,l,!1),Xu:a}:{Xu:a}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new uu,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=re(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new wf(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new vf(r))}),n}ta(e){this.Uu=e._i,this.Ku=re();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Yn.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0)}}class Ux{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vx{constructor(e){this.key=e,this.na=!1}}class $x{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.sa={},this.ia=new nr(o=>zd(o),Ti),this.ra=new Map,this.oa=new Set,this.ua=new _e(L.comparator),this.aa=new Map,this.ca=new fl,this.ha={},this.la=new Map,this.fa=Hn.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return this.da===!0}}async function Bx(t,e){const n=Qx(t);let r,s;const i=n.ia.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.ea();else{const a=await ex(n.localStore,pn(e));n.isPrimaryClient&&hf(n.remoteStore,a);const o=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await zx(n,e,r,o==="current")}return s}async function zx(t,e,n,r){t._a=(d,h,f)=>async function(y,g,v,b){let R=g.view.Wu(v);R.ii&&(R=await au(y.localStore,g.query,!1).then(({documents:M})=>g.view.Wu(M,R)));const _=b&&b.targetChanges.get(g.targetId),k=g.view.applyChanges(R,y.isPrimaryClient,_);return du(y,g.targetId,k.Xu),k.snapshot}(t,d,h,f);const s=await au(t.localStore,e,!0),i=new Fx(e,s._i),a=i.Wu(s.documents),o=ts.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=i.applyChanges(a,t.isPrimaryClient,o);du(t,n,l.Xu);const c=new Ux(e,n,i);return t.ia.set(e,c),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),l.snapshot}async function jx(t,e){const n=B(t),r=n.ia.get(e),s=n.ra.get(r.targetId);if(s.length>1)return n.ra.set(r.targetId,s.filter(i=>!Ti(i,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await to(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),df(n.remoteStore,r.targetId),no(n,r.targetId)}).catch(rs)):(no(n,r.targetId),await to(n.localStore,r.targetId,!0))}async function Hx(t,e,n){const r=Zx(t);try{const s=await function(i,a){const o=B(i),l=Re.now(),c=a.reduce((h,f)=>h.add(f.key),re());let d;return o.persistence.runTransaction("Locally write mutations","readwrite",h=>o.fi.Ks(h,c).next(f=>{d=f;const y=[];for(const g of a){const v=cw(g,d.get(g.key));v!=null&&y.push(new es(g.key,v,$d(v.value.mapValue),Mn.exists(!0)))}return o.Bs.addMutationBatch(h,l,y,a)})).then(h=>(h.applyToLocalDocumentSet(d),{batchId:h.batchId,changes:d}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,o){let l=i.ha[i.currentUser.toKey()];l||(l=new _e(J)),l=l.insert(a,o),i.ha[i.currentUser.toKey()]=l}(r,s.batchId,n),await is(r,s.changes),await Oi(r.remoteStore)}catch(s){const i=wl(s,"Failed to persist write");n.reject(i)}}async function xf(t,e){const n=B(t);try{const r=await Qw(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.aa.get(i);a&&(ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.na=!0:s.modifiedDocuments.size>0?ne(a.na):s.removedDocuments.size>0&&(ne(a.na),a.na=!1))}),await is(n,r,e)}catch(r){await rs(r)}}function hu(t,e,n){const r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ia.forEach((i,a)=>{const o=a.view.Pu(e);o.snapshot&&s.push(o.snapshot)}),function(i,a){const o=B(i);o.onlineState=a;let l=!1;o.queries.forEach((c,d)=>{for(const h of d.listeners)h.Pu(a)&&(l=!0)}),l&&xl(o)}(r.eventManager,e),s.length&&r.sa.zo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yx(t,e,n){const r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.aa.get(e),i=s&&s.key;if(i){let a=new _e(L.comparator);a=a.insert(i,De.newNoDocument(i,j.min()));const o=re().add(i),l=new Ri(j.min(),new Map,new Ee(J),a,o);await xf(r,l),r.ua=r.ua.remove(i),r.aa.delete(e),bl(r)}else await to(r.localStore,e,!1).then(()=>no(r,e,n)).catch(rs)}async function Wx(t,e){const n=B(t),r=e.batch.batchId;try{const s=await Xw(n.localStore,e);_f(n,r,null),bf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await is(n,s)}catch(s){await rs(s)}}async function qx(t,e,n){const r=B(t);try{const s=await function(i,a){const o=B(i);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return o.Bs.lookupMutationBatch(l,a).next(d=>(ne(d!==null),c=d.keys(),o.Bs.removeMutationBatch(l,d))).next(()=>o.Bs.performConsistencyCheck(l)).next(()=>o.fi.Ks(l,c))})}(r.localStore,e);_f(r,e,n),bf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await is(r,s)}catch(s){await rs(s)}}function bf(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function _f(t,e,n){const r=B(t);let s=r.ha[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ha[r.currentUser.toKey()]=s}}function no(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||Sf(t,r)})}function Sf(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);n!==null&&(df(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),bl(t))}function du(t,e,n){for(const r of n)r instanceof vf?(t.ca.addReference(r.key,e),Gx(t,r)):r instanceof wf?(P("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||Sf(t,r.key)):$()}function Gx(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(P("SyncEngine","New document in limbo: "+n),t.oa.add(r),bl(t))}function bl(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new L(ue.fromString(e)),r=t.fa.next();t.aa.set(r,new Vx(n)),t.ua=t.ua.insert(n,r),hf(t.remoteStore,new an(pn(ll(n.path)),r,2,sl.A))}}async function is(t,e,n){const r=B(t),s=[],i=[],a=[];r.ia.isEmpty()||(r.ia.forEach((o,l)=>{a.push(r._a(l,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),s.push(c);const d=dl.Ys(l.targetId,c);i.push(d)}}))}),await Promise.all(a),r.sa.zo(s),await async function(o,l){const c=B(o);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(l,h=>C.forEach(h.Hs,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Js,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ns(d))throw d;P("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.ui.get(h),y=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(y);c.ui=c.ui.insert(h,g)}}}(r.localStore,i))}async function Kx(t,e){const n=B(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=await of(n.localStore,e);n.currentUser=e,function(s,i){s.la.forEach(a=>{a.forEach(o=>{o.reject(new F(S.CANCELLED,i))})}),s.la.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await is(n,r.di)}}function Xx(t,e){const n=B(t),r=n.aa.get(e);if(r&&r.na)return re().add(r.key);{let s=re();const i=n.ra.get(e);if(!i)return s;for(const a of i){const o=n.ia.get(a);s=s.unionWith(o.view.ju)}return s}}function Qx(t){const e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yx.bind(null,e),e.sa.zo=Px.bind(null,e.eventManager),e.sa.wa=Ox.bind(null,e.eventManager),e}function Zx(t){const e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qx.bind(null,e),e}class Jx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Mi(e.databaseInfo.databaseId),this.sharedClientState=this.ga(e),this.persistence=this.ya(e),await this.persistence.start(),this.gcScheduler=this.pa(e),this.localStore=this.Ia(e)}pa(e){return null}Ia(e){return Kw(this.persistence,new qw,e.initialUser,this.M)}ya(e){return new lx(ml.Yi,this.M)}ga(e){return new ux}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class e2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hu(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kx.bind(null,this.syncEngine),await Ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ax}createDatastore(e){const n=Mi(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new mx(s));var s;return function(i,a,o,l){return new yx(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=o=>hu(this.syncEngine,o,0),a=lu.vt()?new lu:new hx,new wx(n,r,s,i,a);var n,r,s,i,a}createSyncEngine(e,n){return function(r,s,i,a,o,l,c){const d=new $x(r,s,i,a,o,l);return c&&(d.da=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=B(e);P("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await ss(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ye.UNAUTHENTICATED,this.clientId=Ld.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{P("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(P("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function r2(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await of(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function s2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i2(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>cu(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>cu(e.remoteStore,i)),t.onlineComponents=e}async function i2(t){return t.offlineComponents||(P("FirestoreClient","Using default OfflineComponentProvider"),await r2(t,new Jx)),t.offlineComponents}async function Cf(t){return t.onlineComponents||(P("FirestoreClient","Using default OnlineComponentProvider"),await s2(t,new e2)),t.onlineComponents}function a2(t){return Cf(t).then(e=>e.syncEngine)}async function fu(t){const e=await Cf(t),n=e.eventManager;return n.onListen=Bx.bind(null,e.syncEngine),n.onUnlisten=jx.bind(null,e.syncEngine),n}const mu=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,n){if(!n)throw new F(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o2(t,e,n,r){if(e===!0&&r===!0)throw new F(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pu(t){if(!L.isDocumentKey(t))throw new F(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gu(t){if(L.isDocumentKey(t))throw new F(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _l(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_l(t);throw new F(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new F(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,o2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yu({}),this._settingsFrozen=!1,e instanceof zn?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new F(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zn(s.options.projectId)}(e))}get app(){if(!this._app)throw new F(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yu(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Cv;switch(n.type){case"gapi":const r=n.client;return ne(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new kv(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new F(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mu.get(e);n&&(P("ComponentProvider","Removing Datastore"),mu.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jt(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}}class Li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class jt extends Li{constructor(e,n,r){super(e,n,ll(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new L(e))}withConverter(e){return new jt(this.firestore,e,this._path)}}function l2(t,e,...n){if(t=mt(t),Nf("collection","path",e),t instanceof Sl){const r=ue.fromString(e,...n);return gu(r),new jt(t,null,r)}{if(!(t instanceof Xe||t instanceof jt))throw new F(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return gu(r),new jt(t.firestore,null,r)}}function c2(t,e,...n){if(t=mt(t),arguments.length===1&&(e=Ld.R()),Nf("doc","path",e),t instanceof Sl){const r=ue.fromString(e,...n);return pu(r),new Xe(t,null,new L(r))}{if(!(t instanceof Xe||t instanceof jt))throw new F(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return pu(r),new Xe(t.firestore,t instanceof jt?t.converter:null,new L(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new cf(this,"async_queue_retry"),this.Qa=()=>{const n=ga();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=ga();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=ga();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new sn;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}async za(){if(this.$a.length!==0){try{await this.$a[0](),this.$a.shift(),this.No.reset()}catch(e){if(!ns(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.$a.length>0&&this.No.Ro(()=>this.za())}}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{this.Ua=r,this.qa=!1;const s=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw Yt("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const s=vl.createAndSchedule(this,e,n,r,i=>this.Ha(i));return this.La.push(s),s}ja(){this.Ua&&$()}verifyOperationInProgress(){}async Ja(){let e;do e=this.Fa,await e;while(e!==this.Fa)}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function vu(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ti extends Sl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new u2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||kf(this),this._firestoreClient.terminate()}}function h2(t=dh()){return uh(t,"firestore").getImmediate()}function Ef(t){return t._firestoreClient||kf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kf(t){var e;const n=t._freezeSettings(),r=function(s,i,a,o){return new Mv(s,i,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new n2(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(ke.fromBase64String(e))}catch(n){throw new F(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=/^__.*__$/;class f2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ai(e,this.data,n,this.fieldTransforms)}}function If(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class El{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=s,i===void 0&&this.tc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new El(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.nc({path:r,ic:!1});return s.rc(e),s}oc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.nc({path:r,ic:!1});return s.tc(),s}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return ni(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(e.length===0)throw this.ac("Document fields must not be empty");if(If(this.ec)&&d2.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class m2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||Mi(e)}lc(e,n,r,s=!1){return new El({ec:e,methodName:n,hc:r,path:We.emptyPath(),ic:!1,cc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function p2(t){const e=t._freezeSettings(),n=Mi(t._databaseId);return new m2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g2(t,e,n,r,s,i={}){const a=t.lc(i.merge||i.mergeFields?2:0,e,n,s);Mf("Data must be an object, but it was:",a,r);const o=Af(r,a);let l,c;if(i.merge)l=new Ya(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=y2(e,h,n);if(!a.contains(f))throw new F(S.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);w2(d,f)||d.push(f)}l=new Ya(d),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new f2(new st(o),l,c)}function Df(t,e){if(Rf(t=mt(t)))return Mf("Unsupported field value:",e,t),Af(t,e);if(t instanceof Tf)return function(n,r){if(!If(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&e.ec!==4)throw e.ac("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const a of n){let o=Df(a,r.uc(i));o==null&&(o={nullValue:"NULL_VALUE"}),s.push(o),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rw(r.M,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Re.fromDate(n);return{timestampValue:Js(r.M,s)}}if(n instanceof Re){const s=new Re(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Js(r.M,s)}}if(n instanceof Nl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wn)return{bytesValue:tf(r.M,n._byteString)};if(n instanceof Xe){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.ac(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ul(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${_l(n)}`)}(t,e)}function Af(t,e){const n={};return Fd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tr(t,(r,s)=>{const i=Df(s,e.sc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Rf(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Nl||t instanceof Wn||t instanceof Xe||t instanceof Tf)}function Mf(t,e,n){if(!Rf(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=_l(n);throw r==="an object"?e.ac(t+" a custom object"):e.ac(t+" "+r)}}function y2(t,e,n){if((e=mt(e))instanceof Cl)return e._internalPath;if(typeof e=="string")return Pf(t,e);throw ni("Field path arguments must be of type string or ",t,!1,void 0,n)}const v2=new RegExp("[~\\*/\\[\\]]");function Pf(t,e,n){if(e.search(v2)>=0)throw ni(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cl(...e.split("."))._internalPath}catch{throw ni(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ni(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new F(S.INVALID_ARGUMENT,o+t+l)}function w2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x2 extends Of{data(){return super.data()}}function Lf(t,e){return typeof e=="string"?Pf(t,e):e instanceof Cl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ff extends Of{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Es extends Ff{data(e={}){return super.data(e)}}class b2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dr(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Es(this._firestore,this._userDataWriter,r.key,r,new dr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Es(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:i++}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const o=new Es(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return a.type!==0&&(l=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),c=i.indexOf(a.doc.key)),{type:_2(a.type),doc:o,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function C2(t,...e){for(const n of e)t=n._apply(t);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{convertValue(e,n="none"){switch(fn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){const r={};return tr(e.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Nl(pe(e.latitude),pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dr(e));default:return null}}convertTimestamp(e){const n=Wt(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);ne(af(r));const s=new zn(r.get(1),r.get(3)),i=new L(r.popFirst(5));return s.isEqual(n)||Yt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Uf extends N2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function k2(t,e,n){t=vr(t,Xe);const r=vr(t.firestore,ti),s=E2(t.converter,e,n);return I2(r,[g2(p2(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Mn.none())])}function T2(t,...e){var n,r,s;t=mt(t);let i={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||vu(e[a])||(i=e[a],a++);const o={includeMetadataChanges:i.includeMetadataChanges};if(vu(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[a+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(t instanceof Xe)c=vr(t.firestore,ti),d=ll(t._key.path),l={next:h=>{e[a]&&e[a](D2(c,t,h))},error:e[a+1],complete:e[a+2]};else{const h=vr(t,Li);c=vr(h.firestore,ti),d=h._query;const f=new Uf(c);l={next:y=>{e[a]&&e[a](new b2(c,f,h,y))},error:e[a+1],complete:e[a+2]},S2(t._query)}return function(h,f,y,g){const v=new t2(g),b=new Lx(f,v,y);return h.asyncQueue.enqueueAndForget(async()=>Rx(await fu(h),b)),()=>{v.Aa(),h.asyncQueue.enqueueAndForget(async()=>Mx(await fu(h),b))}}(Ef(c),d,o,l)}function I2(t,e){return function(n,r){const s=new sn;return n.asyncQueue.enqueueAndForget(async()=>Hx(await a2(n),r,s)),s.promise}(Ef(t),e)}function D2(t,e,n){const r=n.docs.get(e._key),s=new Uf(t);return new Ff(t,s,e._key,r,new dr(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){er=n})(hh),_r(new Un("firestore",(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),i=new ti(s,new Nv(n.getProvider("auth-internal")),new Iv(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),i._setSettings(r),i},"PUBLIC")),zt($c,"3.4.9",t),zt($c,"3.4.9","esm2017")})();const A2={apiKey:"AIzaSyDIBOqYj9HbLlcDbTqz597eSG9I81GmTG4",authDomain:"tokshop-33509.firebaseapp.com",projectId:"tokshop-33509",storageBucket:"tokshop-33509.appspot.com",messagingSenderId:"65319097700",appId:"1:65319097700:web:381829cf95f8ac35f69671"},Vf=X0(A2),$f=m1(Vf),wu=h2(Vf);//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Bf;function N(){return Bf.apply(null,arguments)}function R2(t){Bf=t}function lt(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function on(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function X(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kl(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(X(t,e))return!1;return!0}function je(t){return t===void 0}function It(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function as(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function zf(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function Ut(t,e){for(var n in e)X(e,n)&&(t[n]=e[n]);return X(e,"toString")&&(t.toString=e.toString),X(e,"valueOf")&&(t.valueOf=e.valueOf),t}function yt(t,e,n,r){return dm(t,e,n,r,!0).utc()}function M2(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function z(t){return t._pf==null&&(t._pf=M2()),t._pf}var ro;Array.prototype.some?ro=Array.prototype.some:ro=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function Tl(t){if(t._isValid==null){var e=z(t),n=ro.call(e.parsedDateParts,function(s){return s!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Fi(t){var e=yt(NaN);return t!=null?Ut(z(e),t):z(e).userInvalidated=!0,e}var xu=N.momentProperties=[],ya=!1;function Il(t,e){var n,r,s,i=xu.length;if(je(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),je(e._i)||(t._i=e._i),je(e._f)||(t._f=e._f),je(e._l)||(t._l=e._l),je(e._strict)||(t._strict=e._strict),je(e._tzm)||(t._tzm=e._tzm),je(e._isUTC)||(t._isUTC=e._isUTC),je(e._offset)||(t._offset=e._offset),je(e._pf)||(t._pf=z(e)),je(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=xu[n],s=e[r],je(s)||(t[r]=s);return t}function os(t){Il(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ya===!1&&(ya=!0,N.updateOffset(this),ya=!1)}function ct(t){return t instanceof os||t!=null&&t._isAMomentObject!=null}function jf(t){N.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+t)}function nt(t,e){var n=!0;return Ut(function(){if(N.deprecationHandler!=null&&N.deprecationHandler(null,t),n){var r=[],s,i,a,o=arguments.length;for(i=0;i<o;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(a in arguments[0])X(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}jf(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var bu={};function Hf(t,e){N.deprecationHandler!=null&&N.deprecationHandler(t,e),bu[t]||(jf(e),bu[t]=!0)}N.suppressDeprecationWarnings=!1;N.deprecationHandler=null;function vt(t){return typeof Function!="undefined"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function P2(t){var e,n;for(n in t)X(t,n)&&(e=t[n],vt(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function so(t,e){var n=Ut({},t),r;for(r in e)X(e,r)&&(on(t[r])&&on(e[r])?(n[r]={},Ut(n[r],t[r]),Ut(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)X(t,r)&&!X(e,r)&&on(t[r])&&(n[r]=Ut({},n[r]));return n}function Dl(t){t!=null&&this.set(t)}var io;Object.keys?io=Object.keys:io=function(t){var e,n=[];for(e in t)X(t,e)&&n.push(e);return n};var O2={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function L2(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return vt(r)?r.call(e,n):r}function gt(t,e,n){var r=""+Math.abs(t),s=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Al=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vs=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,va={},On={};function O(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(On[t]=s),e&&(On[e[0]]=function(){return gt(s.apply(this,arguments),e[1],e[2])}),n&&(On[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function F2(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U2(t){var e=t.match(Al),n,r;for(n=0,r=e.length;n<r;n++)On[e[n]]?e[n]=On[e[n]]:e[n]=F2(e[n]);return function(s){var i="",a;for(a=0;a<r;a++)i+=vt(e[a])?e[a].call(s,t):e[a];return i}}function ks(t,e){return t.isValid()?(e=Yf(e,t.localeData()),va[e]=va[e]||U2(e),va[e](t)):t.localeData().invalidDate()}function Yf(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(vs.lastIndex=0;n>=0&&vs.test(t);)t=t.replace(vs,r),vs.lastIndex=0,n-=1;return t}var V2={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $2(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Al).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var B2="Invalid date";function z2(){return this._invalidDate}var j2="%d",H2=/\d{1,2}/;function Y2(t){return this._ordinal.replace("%d",t)}var W2={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function q2(t,e,n,r){var s=this._relativeTime[n];return vt(s)?s(t,e,n,r):s.replace(/%d/i,t)}function G2(t,e){var n=this._relativeTime[t>0?"future":"past"];return vt(n)?n(e):n.replace(/%s/i,e)}var wr={};function Pe(t,e){var n=t.toLowerCase();wr[n]=wr[n+"s"]=wr[e]=t}function rt(t){return typeof t=="string"?wr[t]||wr[t.toLowerCase()]:void 0}function Rl(t){var e={},n,r;for(r in t)X(t,r)&&(n=rt(r),n&&(e[n]=t[r]));return e}var Wf={};function Oe(t,e){Wf[t]=e}function K2(t){var e=[],n;for(n in t)X(t,n)&&e.push({unit:n,priority:Wf[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}function Ui(t){return t%4===0&&t%100!==0||t%400===0}function et(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function H(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=et(e)),n}function sr(t,e){return function(n){return n!=null?(qf(this,t,n),N.updateOffset(this,e),this):ri(this,t)}}function ri(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function qf(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Ui(t.year())&&t.month()===1&&t.date()===29?(n=H(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Hi(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function X2(t){return t=rt(t),vt(this[t])?this[t]():this}function Q2(t,e){if(typeof t=="object"){t=Rl(t);var n=K2(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=rt(t),vt(this[t]))return this[t](e);return this}var Gf=/\d/,Je=/\d\d/,Kf=/\d{3}/,Ml=/\d{4}/,Vi=/[+-]?\d{6}/,ae=/\d\d?/,Xf=/\d\d\d\d?/,Qf=/\d\d\d\d\d\d?/,$i=/\d{1,3}/,Pl=/\d{1,4}/,Bi=/[+-]?\d{1,6}/,ir=/\d+/,zi=/[+-]?\d+/,Z2=/Z|[+-]\d\d:?\d\d/gi,ji=/Z|[+-]\d\d(?::?\d\d)?/gi,J2=/[+-]?\d+(\.\d{1,3})?/,ls=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,si;si={};function T(t,e,n){si[t]=vt(e)?e:function(r,s){return r&&n?n:e}}function eb(t,e){return X(si,t)?si[t](e._strict,e._locale):new RegExp(tb(t))}function tb(t){return Ge(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,i){return n||r||s||i}))}function Ge(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ao={};function te(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),It(e)&&(r=function(i,a){a[e]=H(i)}),s=t.length,n=0;n<s;n++)ao[t[n]]=r}function cs(t,e){te(t,function(n,r,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function nb(t,e,n){e!=null&&X(ao,t)&&ao[t](e,n._a,n,t)}var Me=0,_t=1,dt=2,ve=3,it=4,St=5,nn=6,rb=7,sb=8;function ib(t,e){return(t%e+e)%e}var de;Array.prototype.indexOf?de=Array.prototype.indexOf:de=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Hi(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ib(e,12);return t+=(e-n)/12,n===1?Ui(t)?29:28:31-n%7%2}O("M",["MM",2],"Mo",function(){return this.month()+1});O("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});O("MMMM",0,0,function(t){return this.localeData().months(this,t)});Pe("month","M");Oe("month",8);T("M",ae);T("MM",ae,Je);T("MMM",function(t,e){return e.monthsShortRegex(t)});T("MMMM",function(t,e){return e.monthsRegex(t)});te(["M","MM"],function(t,e){e[_t]=H(t)-1});te(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[_t]=s:z(n).invalidMonth=t});var ab="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Zf="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Jf=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ob=ls,lb=ls;function cb(t,e){return t?lt(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Jf).test(e)?"format":"standalone"][t.month()]:lt(this._months)?this._months:this._months.standalone}function ub(t,e){return t?lt(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Jf.test(e)?"format":"standalone"][t.month()]:lt(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hb(t,e,n){var r,s,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=yt([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=de.call(this._shortMonthsParse,a),s!==-1?s:null):(s=de.call(this._longMonthsParse,a),s!==-1?s:null):e==="MMM"?(s=de.call(this._shortMonthsParse,a),s!==-1?s:(s=de.call(this._longMonthsParse,a),s!==-1?s:null)):(s=de.call(this._longMonthsParse,a),s!==-1?s:(s=de.call(this._shortMonthsParse,a),s!==-1?s:null))}function db(t,e,n){var r,s,i;if(this._monthsParseExact)return hb.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=yt([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function em(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=H(e);else if(e=t.localeData().monthsParse(e),!It(e))return t}return n=Math.min(t.date(),Hi(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function tm(t){return t!=null?(em(this,t),N.updateOffset(this,!0),this):ri(this,"Month")}function fb(){return Hi(this.year(),this.month())}function mb(t){return this._monthsParseExact?(X(this,"_monthsRegex")||nm.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(X(this,"_monthsShortRegex")||(this._monthsShortRegex=ob),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pb(t){return this._monthsParseExact?(X(this,"_monthsRegex")||nm.call(this),t?this._monthsStrictRegex:this._monthsRegex):(X(this,"_monthsRegex")||(this._monthsRegex=lb),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function nm(){function t(a,o){return o.length-a.length}var e=[],n=[],r=[],s,i;for(s=0;s<12;s++)i=yt([2e3,s]),e.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(t),n.sort(t),r.sort(t),s=0;s<12;s++)e[s]=Ge(e[s]),n[s]=Ge(n[s]);for(s=0;s<24;s++)r[s]=Ge(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}O("Y",0,0,function(){var t=this.year();return t<=9999?gt(t,4):"+"+t});O(0,["YY",2],0,function(){return this.year()%100});O(0,["YYYY",4],0,"year");O(0,["YYYYY",5],0,"year");O(0,["YYYYYY",6,!0],0,"year");Pe("year","y");Oe("year",1);T("Y",zi);T("YY",ae,Je);T("YYYY",Pl,Ml);T("YYYYY",Bi,Vi);T("YYYYYY",Bi,Vi);te(["YYYYY","YYYYYY"],Me);te("YYYY",function(t,e){e[Me]=t.length===2?N.parseTwoDigitYear(t):H(t)});te("YY",function(t,e){e[Me]=N.parseTwoDigitYear(t)});te("Y",function(t,e){e[Me]=parseInt(t,10)});function xr(t){return Ui(t)?366:365}N.parseTwoDigitYear=function(t){return H(t)+(H(t)>68?1900:2e3)};var rm=sr("FullYear",!0);function gb(){return Ui(this.year())}function yb(t,e,n,r,s,i,a){var o;return t<100&&t>=0?(o=new Date(t+400,e,n,r,s,i,a),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,n,r,s,i,a),o}function Or(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function ii(t,e,n){var r=7+e-n,s=(7+Or(t,0,r).getUTCDay()-e)%7;return-s+r-1}function sm(t,e,n,r,s){var i=(7+n-r)%7,a=ii(t,r,s),o=1+7*(e-1)+i+a,l,c;return o<=0?(l=t-1,c=xr(l)+o):o>xr(t)?(l=t+1,c=o-xr(t)):(l=t,c=o),{year:l,dayOfYear:c}}function Lr(t,e,n){var r=ii(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,i,a;return s<1?(a=t.year()-1,i=s+kt(a,e,n)):s>kt(t.year(),e,n)?(i=s-kt(t.year(),e,n),a=t.year()+1):(a=t.year(),i=s),{week:i,year:a}}function kt(t,e,n){var r=ii(t,e,n),s=ii(t+1,e,n);return(xr(t)-r+s)/7}O("w",["ww",2],"wo","week");O("W",["WW",2],"Wo","isoWeek");Pe("week","w");Pe("isoWeek","W");Oe("week",5);Oe("isoWeek",5);T("w",ae);T("ww",ae,Je);T("W",ae);T("WW",ae,Je);cs(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=H(t)});function vb(t){return Lr(t,this._week.dow,this._week.doy).week}var wb={dow:0,doy:6};function xb(){return this._week.dow}function bb(){return this._week.doy}function _b(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Sb(t){var e=Lr(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}O("d",0,"do","day");O("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});O("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});O("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});O("e",0,0,"weekday");O("E",0,0,"isoWeekday");Pe("day","d");Pe("weekday","e");Pe("isoWeekday","E");Oe("day",11);Oe("weekday",11);Oe("isoWeekday",11);T("d",ae);T("e",ae);T("E",ae);T("dd",function(t,e){return e.weekdaysMinRegex(t)});T("ddd",function(t,e){return e.weekdaysShortRegex(t)});T("dddd",function(t,e){return e.weekdaysRegex(t)});cs(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:z(n).invalidWeekday=t});cs(["d","e","E"],function(t,e,n,r){e[r]=H(t)});function Cb(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Nb(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ol(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Eb="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),im="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kb="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Tb=ls,Ib=ls,Db=ls;function Ab(t,e){var n=lt(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Ol(n,this._week.dow):t?n[t.day()]:n}function Rb(t){return t===!0?Ol(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Mb(t){return t===!0?Ol(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Pb(t,e,n){var r,s,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=yt([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=de.call(this._weekdaysParse,a),s!==-1?s:null):e==="ddd"?(s=de.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=de.call(this._minWeekdaysParse,a),s!==-1?s:null):e==="dddd"?(s=de.call(this._weekdaysParse,a),s!==-1||(s=de.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=de.call(this._minWeekdaysParse,a),s!==-1?s:null)):e==="ddd"?(s=de.call(this._shortWeekdaysParse,a),s!==-1||(s=de.call(this._weekdaysParse,a),s!==-1)?s:(s=de.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=de.call(this._minWeekdaysParse,a),s!==-1||(s=de.call(this._weekdaysParse,a),s!==-1)?s:(s=de.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function Ob(t,e,n){var r,s,i;if(this._weekdaysParseExact)return Pb.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=yt([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Lb(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=Cb(t,this.localeData()),this.add(t-e,"d")):e}function Fb(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Ub(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Nb(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Vb(t){return this._weekdaysParseExact?(X(this,"_weekdaysRegex")||Ll.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(X(this,"_weekdaysRegex")||(this._weekdaysRegex=Tb),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function $b(t){return this._weekdaysParseExact?(X(this,"_weekdaysRegex")||Ll.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(X(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ib),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bb(t){return this._weekdaysParseExact?(X(this,"_weekdaysRegex")||Ll.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(X(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Db),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ll(){function t(d,h){return h.length-d.length}var e=[],n=[],r=[],s=[],i,a,o,l,c;for(i=0;i<7;i++)a=yt([2e3,1]).day(i),o=Ge(this.weekdaysMin(a,"")),l=Ge(this.weekdaysShort(a,"")),c=Ge(this.weekdays(a,"")),e.push(o),n.push(l),r.push(c),s.push(o),s.push(l),s.push(c);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Fl(){return this.hours()%12||12}function zb(){return this.hours()||24}O("H",["HH",2],0,"hour");O("h",["hh",2],0,Fl);O("k",["kk",2],0,zb);O("hmm",0,0,function(){return""+Fl.apply(this)+gt(this.minutes(),2)});O("hmmss",0,0,function(){return""+Fl.apply(this)+gt(this.minutes(),2)+gt(this.seconds(),2)});O("Hmm",0,0,function(){return""+this.hours()+gt(this.minutes(),2)});O("Hmmss",0,0,function(){return""+this.hours()+gt(this.minutes(),2)+gt(this.seconds(),2)});function am(t,e){O(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}am("a",!0);am("A",!1);Pe("hour","h");Oe("hour",13);function om(t,e){return e._meridiemParse}T("a",om);T("A",om);T("H",ae);T("h",ae);T("k",ae);T("HH",ae,Je);T("hh",ae,Je);T("kk",ae,Je);T("hmm",Xf);T("hmmss",Qf);T("Hmm",Xf);T("Hmmss",Qf);te(["H","HH"],ve);te(["k","kk"],function(t,e,n){var r=H(t);e[ve]=r===24?0:r});te(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});te(["h","hh"],function(t,e,n){e[ve]=H(t),z(n).bigHour=!0});te("hmm",function(t,e,n){var r=t.length-2;e[ve]=H(t.substr(0,r)),e[it]=H(t.substr(r)),z(n).bigHour=!0});te("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[ve]=H(t.substr(0,r)),e[it]=H(t.substr(r,2)),e[St]=H(t.substr(s)),z(n).bigHour=!0});te("Hmm",function(t,e,n){var r=t.length-2;e[ve]=H(t.substr(0,r)),e[it]=H(t.substr(r))});te("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[ve]=H(t.substr(0,r)),e[it]=H(t.substr(r,2)),e[St]=H(t.substr(s))});function jb(t){return(t+"").toLowerCase().charAt(0)==="p"}var Hb=/[ap]\.?m?\.?/i,Yb=sr("Hours",!0);function Wb(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var lm={calendar:O2,longDateFormat:V2,invalidDate:B2,ordinal:j2,dayOfMonthOrdinalParse:H2,relativeTime:W2,months:ab,monthsShort:Zf,week:wb,weekdays:Eb,weekdaysMin:kb,weekdaysShort:im,meridiemParse:Hb},le={},lr={},Fr;function qb(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function _u(t){return t&&t.toLowerCase().replace("_","-")}function Gb(t){for(var e=0,n,r,s,i;e<t.length;){for(i=_u(t[e]).split("-"),n=i.length,r=_u(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=Yi(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&qb(i,r)>=n-1)break;n--}e++}return Fr}function Kb(t){return t.match("^[^/\\\\]*$")!=null}function Yi(t){var e=null,n;if(le[t]===void 0&&typeof module!="undefined"&&module&&module.exports&&Kb(t))try{e=Fr._abbr,n=require,n("./locale/"+t),Ht(e)}catch{le[t]=null}return le[t]}function Ht(t,e){var n;return t&&(je(e)?n=At(t):n=Ul(t,e),n?Fr=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Fr._abbr}function Ul(t,e){if(e!==null){var n,r=lm;if(e.abbr=t,le[t]!=null)Hf("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=le[t]._config;else if(e.parentLocale!=null)if(le[e.parentLocale]!=null)r=le[e.parentLocale]._config;else if(n=Yi(e.parentLocale),n!=null)r=n._config;else return lr[e.parentLocale]||(lr[e.parentLocale]=[]),lr[e.parentLocale].push({name:t,config:e}),null;return le[t]=new Dl(so(r,e)),lr[t]&&lr[t].forEach(function(s){Ul(s.name,s.config)}),Ht(t),le[t]}else return delete le[t],null}function Xb(t,e){if(e!=null){var n,r,s=lm;le[t]!=null&&le[t].parentLocale!=null?le[t].set(so(le[t]._config,e)):(r=Yi(t),r!=null&&(s=r._config),e=so(s,e),r==null&&(e.abbr=t),n=new Dl(e),n.parentLocale=le[t],le[t]=n),Ht(t)}else le[t]!=null&&(le[t].parentLocale!=null?(le[t]=le[t].parentLocale,t===Ht()&&Ht(t)):le[t]!=null&&delete le[t]);return le[t]}function At(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Fr;if(!lt(t)){if(e=Yi(t),e)return e;t=[t]}return Gb(t)}function Qb(){return io(le)}function Vl(t){var e,n=t._a;return n&&z(t).overflow===-2&&(e=n[_t]<0||n[_t]>11?_t:n[dt]<1||n[dt]>Hi(n[Me],n[_t])?dt:n[ve]<0||n[ve]>24||n[ve]===24&&(n[it]!==0||n[St]!==0||n[nn]!==0)?ve:n[it]<0||n[it]>59?it:n[St]<0||n[St]>59?St:n[nn]<0||n[nn]>999?nn:-1,z(t)._overflowDayOfYear&&(e<Me||e>dt)&&(e=dt),z(t)._overflowWeeks&&e===-1&&(e=rb),z(t)._overflowWeekday&&e===-1&&(e=sb),z(t).overflow=e),t}var Zb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jb=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e_=/Z|[+-]\d\d(?::?\d\d)?/,ws=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],wa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],t_=/^\/?Date\((-?\d+)/i,n_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,r_={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function cm(t){var e,n,r=t._i,s=Zb.exec(r)||Jb.exec(r),i,a,o,l,c=ws.length,d=wa.length;if(s){for(z(t).iso=!0,e=0,n=c;e<n;e++)if(ws[e][1].exec(s[1])){a=ws[e][0],i=ws[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(s[3]){for(e=0,n=d;e<n;e++)if(wa[e][1].exec(s[3])){o=(s[2]||" ")+wa[e][0];break}if(o==null){t._isValid=!1;return}}if(!i&&o!=null){t._isValid=!1;return}if(s[4])if(e_.exec(s[4]))l="Z";else{t._isValid=!1;return}t._f=a+(o||"")+(l||""),Bl(t)}else t._isValid=!1}function s_(t,e,n,r,s,i){var a=[i_(t),Zf.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&a.push(parseInt(i,10)),a}function i_(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function a_(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o_(t,e,n){if(t){var r=im.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return z(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function l_(t,e,n){if(t)return r_[t];if(e)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function um(t){var e=n_.exec(a_(t._i)),n;if(e){if(n=s_(e[4],e[3],e[2],e[5],e[6],e[7]),!o_(e[1],n,t))return;t._a=n,t._tzm=l_(e[8],e[9],e[10]),t._d=Or.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),z(t).rfc2822=!0}else t._isValid=!1}function c_(t){var e=t_.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(cm(t),t._isValid===!1)delete t._isValid;else return;if(um(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:N.createFromInputFallback(t)}N.createFromInputFallback=nt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function kn(t,e,n){return t!=null?t:e!=null?e:n}function u_(t){var e=new Date(N.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function $l(t){var e,n,r=[],s,i,a;if(!t._d){for(s=u_(t),t._w&&t._a[dt]==null&&t._a[_t]==null&&h_(t),t._dayOfYear!=null&&(a=kn(t._a[Me],s[Me]),(t._dayOfYear>xr(a)||t._dayOfYear===0)&&(z(t)._overflowDayOfYear=!0),n=Or(a,0,t._dayOfYear),t._a[_t]=n.getUTCMonth(),t._a[dt]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[ve]===24&&t._a[it]===0&&t._a[St]===0&&t._a[nn]===0&&(t._nextDay=!0,t._a[ve]=0),t._d=(t._useUTC?Or:yb).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ve]=24),t._w&&typeof t._w.d!="undefined"&&t._w.d!==i&&(z(t).weekdayMismatch=!0)}}function h_(t){var e,n,r,s,i,a,o,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,a=4,n=kn(e.GG,t._a[Me],Lr(ie(),1,4).year),r=kn(e.W,1),s=kn(e.E,1),(s<1||s>7)&&(l=!0)):(i=t._locale._week.dow,a=t._locale._week.doy,c=Lr(ie(),i,a),n=kn(e.gg,t._a[Me],c.year),r=kn(e.w,c.week),e.d!=null?(s=e.d,(s<0||s>6)&&(l=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(l=!0)):s=i),r<1||r>kt(n,i,a)?z(t)._overflowWeeks=!0:l!=null?z(t)._overflowWeekday=!0:(o=sm(n,r,s,i,a),t._a[Me]=o.year,t._dayOfYear=o.dayOfYear)}N.ISO_8601=function(){};N.RFC_2822=function(){};function Bl(t){if(t._f===N.ISO_8601){cm(t);return}if(t._f===N.RFC_2822){um(t);return}t._a=[],z(t).empty=!0;var e=""+t._i,n,r,s,i,a,o=e.length,l=0,c,d;for(s=Yf(t._f,t._locale).match(Al)||[],d=s.length,n=0;n<d;n++)i=s[n],r=(e.match(eb(i,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&z(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),l+=r.length),On[i]?(r?z(t).empty=!1:z(t).unusedTokens.push(i),nb(i,r,t)):t._strict&&!r&&z(t).unusedTokens.push(i);z(t).charsLeftOver=o-l,e.length>0&&z(t).unusedInput.push(e),t._a[ve]<=12&&z(t).bigHour===!0&&t._a[ve]>0&&(z(t).bigHour=void 0),z(t).parsedDateParts=t._a.slice(0),z(t).meridiem=t._meridiem,t._a[ve]=d_(t._locale,t._a[ve],t._meridiem),c=z(t).era,c!==null&&(t._a[Me]=t._locale.erasConvertYear(c,t._a[Me])),$l(t),Vl(t)}function d_(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function f_(t){var e,n,r,s,i,a,o=!1,l=t._f.length;if(l===0){z(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<l;s++)i=0,a=!1,e=Il({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],Bl(e),Tl(e)&&(a=!0),i+=z(e).charsLeftOver,i+=z(e).unusedTokens.length*10,z(e).score=i,o?i<r&&(r=i,n=e):(r==null||i<r||a)&&(r=i,n=e,a&&(o=!0));Ut(t,n||e)}function m_(t){if(!t._d){var e=Rl(t._i),n=e.day===void 0?e.date:e.day;t._a=zf([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),$l(t)}}function p_(t){var e=new os(Vl(hm(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function hm(t){var e=t._i,n=t._f;return t._locale=t._locale||At(t._l),e===null||n===void 0&&e===""?Fi({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ct(e)?new os(Vl(e)):(as(e)?t._d=e:lt(n)?f_(t):n?Bl(t):g_(t),Tl(t)||(t._d=null),t))}function g_(t){var e=t._i;je(e)?t._d=new Date(N.now()):as(e)?t._d=new Date(e.valueOf()):typeof e=="string"?c_(t):lt(e)?(t._a=zf(e.slice(0),function(n){return parseInt(n,10)}),$l(t)):on(e)?m_(t):It(e)?t._d=new Date(e):N.createFromInputFallback(t)}function dm(t,e,n,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(on(t)&&kl(t)||lt(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=t,i._f=e,i._strict=r,p_(i)}function ie(t,e,n,r){return dm(t,e,n,r,!1)}var y_=nt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ie.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Fi()}),v_=nt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ie.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Fi()});function fm(t,e){var n,r;if(e.length===1&&lt(e[0])&&(e=e[0]),!e.length)return ie();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function w_(){var t=[].slice.call(arguments,0);return fm("isBefore",t)}function x_(){var t=[].slice.call(arguments,0);return fm("isAfter",t)}var b_=function(){return Date.now?Date.now():+new Date},cr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function __(t){var e,n=!1,r,s=cr.length;for(e in t)if(X(t,e)&&!(de.call(cr,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[cr[r]]){if(n)return!1;parseFloat(t[cr[r]])!==H(t[cr[r]])&&(n=!0)}return!0}function S_(){return this._isValid}function C_(){return ut(NaN)}function Wi(t){var e=Rl(t),n=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,a=e.day||0,o=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._isValid=__(e),this._milliseconds=+d+c*1e3+l*6e4+o*1e3*60*60,this._days=+a+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=At(),this._bubble()}function Ts(t){return t instanceof Wi}function oo(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function N_(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),i=0,a;for(a=0;a<r;a++)(n&&t[a]!==e[a]||!n&&H(t[a])!==H(e[a]))&&i++;return i+s}function mm(t,e){O(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+gt(~~(n/60),2)+e+gt(~~n%60,2)})}mm("Z",":");mm("ZZ","");T("Z",ji);T("ZZ",ji);te(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=zl(ji,t)});var E_=/([\+\-]|\d\d)/gi;function zl(t,e){var n=(e||"").match(t),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(E_)||["-",0,0],i=+(s[1]*60)+H(s[2]),i===0?0:s[0]==="+"?i:-i)}function jl(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(ct(t)||as(t)?t.valueOf():ie(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),N.updateOffset(n,!1),n):ie(t).local()}function lo(t){return-Math.round(t._d.getTimezoneOffset())}N.updateOffset=function(){};function k_(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=zl(ji,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=lo(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?ym(this,ut(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,N.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:lo(this)}function T_(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function I_(t){return this.utcOffset(0,t)}function D_(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(lo(this),"m")),this}function A_(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=zl(Z2,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function R_(t){return this.isValid()?(t=t?ie(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function M_(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function P_(){if(!je(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Il(t,this),t=hm(t),t._a?(e=t._isUTC?yt(t._a):ie(t._a),this._isDSTShifted=this.isValid()&&N_(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function O_(){return this.isValid()?!this._isUTC:!1}function L_(){return this.isValid()?this._isUTC:!1}function pm(){return this.isValid()?this._isUTC&&this._offset===0:!1}var F_=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,U_=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ut(t,e){var n=t,r=null,s,i,a;return Ts(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:It(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=F_.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:H(r[dt])*s,h:H(r[ve])*s,m:H(r[it])*s,s:H(r[St])*s,ms:H(oo(r[nn]*1e3))*s}):(r=U_.exec(t))?(s=r[1]==="-"?-1:1,n={y:Xt(r[2],s),M:Xt(r[3],s),w:Xt(r[4],s),d:Xt(r[5],s),h:Xt(r[6],s),m:Xt(r[7],s),s:Xt(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=V_(ie(n.from),ie(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),i=new Wi(n),Ts(t)&&X(t,"_locale")&&(i._locale=t._locale),Ts(t)&&X(t,"_isValid")&&(i._isValid=t._isValid),i}ut.fn=Wi.prototype;ut.invalid=C_;function Xt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Su(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function V_(t,e){var n;return t.isValid()&&e.isValid()?(e=jl(e,t),t.isBefore(e)?n=Su(t,e):(n=Su(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function gm(t,e){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(Hf(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=ut(n,r),ym(this,s,t),this}}function ym(t,e,n,r){var s=e._milliseconds,i=oo(e._days),a=oo(e._months);!t.isValid()||(r=r==null?!0:r,a&&em(t,ri(t,"Month")+a*n),i&&qf(t,"Date",ri(t,"Date")+i*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&N.updateOffset(t,i||a))}var $_=gm(1,"add"),B_=gm(-1,"subtract");function vm(t){return typeof t=="string"||t instanceof String}function z_(t){return ct(t)||as(t)||vm(t)||It(t)||H_(t)||j_(t)||t===null||t===void 0}function j_(t){var e=on(t)&&!kl(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,a=r.length;for(s=0;s<a;s+=1)i=r[s],n=n||X(t,i);return e&&n}function H_(t){var e=lt(t),n=!1;return e&&(n=t.filter(function(r){return!It(r)&&vm(t)}).length===0),e&&n}function Y_(t){var e=on(t)&&!kl(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||X(t,i);return e&&n}function W_(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function q_(t,e){arguments.length===1&&(arguments[0]?z_(arguments[0])?(t=arguments[0],e=void 0):Y_(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||ie(),r=jl(n,this).startOf("day"),s=N.calendarFormat(this,r)||"sameElse",i=e&&(vt(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,ie(n)))}function G_(){return new os(this)}function K_(t,e){var n=ct(t)?t:ie(t);return this.isValid()&&n.isValid()?(e=rt(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function X_(t,e){var n=ct(t)?t:ie(t);return this.isValid()&&n.isValid()?(e=rt(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Q_(t,e,n,r){var s=ct(t)?t:ie(t),i=ct(e)?e:ie(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function Z_(t,e){var n=ct(t)?t:ie(t),r;return this.isValid()&&n.isValid()?(e=rt(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function J_(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function e4(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function t4(t,e,n){var r,s,i;if(!this.isValid())return NaN;if(r=jl(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=rt(e),e){case"year":i=Is(this,r)/12;break;case"month":i=Is(this,r);break;case"quarter":i=Is(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:et(i)}function Is(t,e){if(t.date()<e.date())return-Is(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,i;return e-r<0?(s=t.clone().add(n-1,"months"),i=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),i=(e-r)/(s-r)),-(n+i)||0}N.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";N.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function n4(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function r4(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?ks(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):vt(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ks(n,"Z")):ks(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function s4(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+s+i)}function i4(t){t||(t=this.isUtc()?N.defaultFormatUtc:N.defaultFormat);var e=ks(this,t);return this.localeData().postformat(e)}function a4(t,e){return this.isValid()&&(ct(t)&&t.isValid()||ie(t).isValid())?ut({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function o4(t){return this.from(ie(),t)}function l4(t,e){return this.isValid()&&(ct(t)&&t.isValid()||ie(t).isValid())?ut({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function c4(t){return this.to(ie(),t)}function wm(t){var e;return t===void 0?this._locale._abbr:(e=At(t),e!=null&&(this._locale=e),this)}var xm=nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function bm(){return this._locale}var ai=1e3,Ln=60*ai,oi=60*Ln,_m=(365*400+97)*24*oi;function Fn(t,e){return(t%e+e)%e}function Sm(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-_m:new Date(t,e,n).valueOf()}function Cm(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-_m:Date.UTC(t,e,n)}function u4(t){var e,n;if(t=rt(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Cm:Sm,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Fn(e+(this._isUTC?0:this.utcOffset()*Ln),oi);break;case"minute":e=this._d.valueOf(),e-=Fn(e,Ln);break;case"second":e=this._d.valueOf(),e-=Fn(e,ai);break}return this._d.setTime(e),N.updateOffset(this,!0),this}function h4(t){var e,n;if(t=rt(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Cm:Sm,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=oi-Fn(e+(this._isUTC?0:this.utcOffset()*Ln),oi)-1;break;case"minute":e=this._d.valueOf(),e+=Ln-Fn(e,Ln)-1;break;case"second":e=this._d.valueOf(),e+=ai-Fn(e,ai)-1;break}return this._d.setTime(e),N.updateOffset(this,!0),this}function d4(){return this._d.valueOf()-(this._offset||0)*6e4}function f4(){return Math.floor(this.valueOf()/1e3)}function m4(){return new Date(this.valueOf())}function p4(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function g4(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function y4(){return this.isValid()?this.toISOString():null}function v4(){return Tl(this)}function w4(){return Ut({},z(this))}function x4(){return z(this).overflow}function b4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}O("N",0,0,"eraAbbr");O("NN",0,0,"eraAbbr");O("NNN",0,0,"eraAbbr");O("NNNN",0,0,"eraName");O("NNNNN",0,0,"eraNarrow");O("y",["y",1],"yo","eraYear");O("y",["yy",2],0,"eraYear");O("y",["yyy",3],0,"eraYear");O("y",["yyyy",4],0,"eraYear");T("N",Hl);T("NN",Hl);T("NNN",Hl);T("NNNN",R4);T("NNNNN",M4);te(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?z(n).era=s:z(n).invalidEra=t});T("y",ir);T("yy",ir);T("yyy",ir);T("yyyy",ir);T("yo",P4);te(["y","yy","yyy","yyyy"],Me);te(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Me]=n._locale.eraYearOrdinalParse(t,s):e[Me]=parseInt(t,10)});function _4(t,e){var n,r,s,i=this._eras||At("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=N(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=N(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function S4(t,e,n){var r,s,i=this.eras(),a,o,l;for(t=t.toUpperCase(),r=0,s=i.length;r<s;++r)if(a=i[r].name.toUpperCase(),o=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return i[r];break;case"NNNN":if(a===t)return i[r];break;case"NNNNN":if(l===t)return i[r];break}else if([a,o,l].indexOf(t)>=0)return i[r]}function C4(t,e){var n=t.since<=t.until?1:-1;return e===void 0?N(t.since).year():N(t.since).year()+(e-t.offset)*n}function N4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function E4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function k4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function T4(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-N(s[t].since).year())*n+s[t].offset;return this.year()}function I4(t){return X(this,"_erasNameRegex")||Yl.call(this),t?this._erasNameRegex:this._erasRegex}function D4(t){return X(this,"_erasAbbrRegex")||Yl.call(this),t?this._erasAbbrRegex:this._erasRegex}function A4(t){return X(this,"_erasNarrowRegex")||Yl.call(this),t?this._erasNarrowRegex:this._erasRegex}function Hl(t,e){return e.erasAbbrRegex(t)}function R4(t,e){return e.erasNameRegex(t)}function M4(t,e){return e.erasNarrowRegex(t)}function P4(t,e){return e._eraYearOrdinalRegex||ir}function Yl(){var t=[],e=[],n=[],r=[],s,i,a=this.eras();for(s=0,i=a.length;s<i;++s)e.push(Ge(a[s].name)),t.push(Ge(a[s].abbr)),n.push(Ge(a[s].narrow)),r.push(Ge(a[s].name)),r.push(Ge(a[s].abbr)),r.push(Ge(a[s].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}O(0,["gg",2],0,function(){return this.weekYear()%100});O(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qi(t,e){O(0,[t,t.length],0,e)}qi("gggg","weekYear");qi("ggggg","weekYear");qi("GGGG","isoWeekYear");qi("GGGGG","isoWeekYear");Pe("weekYear","gg");Pe("isoWeekYear","GG");Oe("weekYear",1);Oe("isoWeekYear",1);T("G",zi);T("g",zi);T("GG",ae,Je);T("gg",ae,Je);T("GGGG",Pl,Ml);T("gggg",Pl,Ml);T("GGGGG",Bi,Vi);T("ggggg",Bi,Vi);cs(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=H(t)});cs(["gg","GG"],function(t,e,n,r){e[r]=N.parseTwoDigitYear(t)});function O4(t){return Nm.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function L4(t){return Nm.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function F4(){return kt(this.year(),1,4)}function U4(){return kt(this.isoWeekYear(),1,4)}function V4(){var t=this.localeData()._week;return kt(this.year(),t.dow,t.doy)}function $4(){var t=this.localeData()._week;return kt(this.weekYear(),t.dow,t.doy)}function Nm(t,e,n,r,s){var i;return t==null?Lr(this,r,s).year:(i=kt(t,r,s),e>i&&(e=i),B4.call(this,t,e,n,r,s))}function B4(t,e,n,r,s){var i=sm(t,e,n,r,s),a=Or(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}O("Q",0,"Qo","quarter");Pe("quarter","Q");Oe("quarter",7);T("Q",Gf);te("Q",function(t,e){e[_t]=(H(t)-1)*3});function z4(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}O("D",["DD",2],"Do","date");Pe("date","D");Oe("date",9);T("D",ae);T("DD",ae,Je);T("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});te(["D","DD"],dt);te("Do",function(t,e){e[dt]=H(t.match(ae)[0])});var Em=sr("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear");Pe("dayOfYear","DDD");Oe("dayOfYear",4);T("DDD",$i);T("DDDD",Kf);te(["DDD","DDDD"],function(t,e,n){n._dayOfYear=H(t)});function j4(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}O("m",["mm",2],0,"minute");Pe("minute","m");Oe("minute",14);T("m",ae);T("mm",ae,Je);te(["m","mm"],it);var H4=sr("Minutes",!1);O("s",["ss",2],0,"second");Pe("second","s");Oe("second",15);T("s",ae);T("ss",ae,Je);te(["s","ss"],St);var Y4=sr("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)});O(0,["SS",2],0,function(){return~~(this.millisecond()/10)});O(0,["SSS",3],0,"millisecond");O(0,["SSSS",4],0,function(){return this.millisecond()*10});O(0,["SSSSS",5],0,function(){return this.millisecond()*100});O(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});O(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});O(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});O(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Pe("millisecond","ms");Oe("millisecond",16);T("S",$i,Gf);T("SS",$i,Je);T("SSS",$i,Kf);var Vt,km;for(Vt="SSSS";Vt.length<=9;Vt+="S")T(Vt,ir);function W4(t,e){e[nn]=H(("0."+t)*1e3)}for(Vt="S";Vt.length<=9;Vt+="S")te(Vt,W4);km=sr("Milliseconds",!1);O("z",0,0,"zoneAbbr");O("zz",0,0,"zoneName");function q4(){return this._isUTC?"UTC":""}function G4(){return this._isUTC?"Coordinated Universal Time":""}var x=os.prototype;x.add=$_;x.calendar=q_;x.clone=G_;x.diff=t4;x.endOf=h4;x.format=i4;x.from=a4;x.fromNow=o4;x.to=l4;x.toNow=c4;x.get=X2;x.invalidAt=x4;x.isAfter=K_;x.isBefore=X_;x.isBetween=Q_;x.isSame=Z_;x.isSameOrAfter=J_;x.isSameOrBefore=e4;x.isValid=v4;x.lang=xm;x.locale=wm;x.localeData=bm;x.max=v_;x.min=y_;x.parsingFlags=w4;x.set=Q2;x.startOf=u4;x.subtract=B_;x.toArray=p4;x.toObject=g4;x.toDate=m4;x.toISOString=r4;x.inspect=s4;typeof Symbol!="undefined"&&Symbol.for!=null&&(x[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});x.toJSON=y4;x.toString=n4;x.unix=f4;x.valueOf=d4;x.creationData=b4;x.eraName=N4;x.eraNarrow=E4;x.eraAbbr=k4;x.eraYear=T4;x.year=rm;x.isLeapYear=gb;x.weekYear=O4;x.isoWeekYear=L4;x.quarter=x.quarters=z4;x.month=tm;x.daysInMonth=fb;x.week=x.weeks=_b;x.isoWeek=x.isoWeeks=Sb;x.weeksInYear=V4;x.weeksInWeekYear=$4;x.isoWeeksInYear=F4;x.isoWeeksInISOWeekYear=U4;x.date=Em;x.day=x.days=Lb;x.weekday=Fb;x.isoWeekday=Ub;x.dayOfYear=j4;x.hour=x.hours=Yb;x.minute=x.minutes=H4;x.second=x.seconds=Y4;x.millisecond=x.milliseconds=km;x.utcOffset=k_;x.utc=I_;x.local=D_;x.parseZone=A_;x.hasAlignedHourOffset=R_;x.isDST=M_;x.isLocal=O_;x.isUtcOffset=L_;x.isUtc=pm;x.isUTC=pm;x.zoneAbbr=q4;x.zoneName=G4;x.dates=nt("dates accessor is deprecated. Use date instead.",Em);x.months=nt("months accessor is deprecated. Use month instead",tm);x.years=nt("years accessor is deprecated. Use year instead",rm);x.zone=nt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",T_);x.isDSTShifted=nt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",P_);function K4(t){return ie(t*1e3)}function X4(){return ie.apply(null,arguments).parseZone()}function Tm(t){return t}var Q=Dl.prototype;Q.calendar=L2;Q.longDateFormat=$2;Q.invalidDate=z2;Q.ordinal=Y2;Q.preparse=Tm;Q.postformat=Tm;Q.relativeTime=q2;Q.pastFuture=G2;Q.set=P2;Q.eras=_4;Q.erasParse=S4;Q.erasConvertYear=C4;Q.erasAbbrRegex=D4;Q.erasNameRegex=I4;Q.erasNarrowRegex=A4;Q.months=cb;Q.monthsShort=ub;Q.monthsParse=db;Q.monthsRegex=pb;Q.monthsShortRegex=mb;Q.week=vb;Q.firstDayOfYear=bb;Q.firstDayOfWeek=xb;Q.weekdays=Ab;Q.weekdaysMin=Mb;Q.weekdaysShort=Rb;Q.weekdaysParse=Ob;Q.weekdaysRegex=Vb;Q.weekdaysShortRegex=$b;Q.weekdaysMinRegex=Bb;Q.isPM=jb;Q.meridiem=Wb;function li(t,e,n,r){var s=At(),i=yt().set(r,e);return s[n](i,t)}function Im(t,e,n){if(It(t)&&(e=t,t=void 0),t=t||"",e!=null)return li(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=li(t,r,n,"month");return s}function Wl(t,e,n,r){typeof t=="boolean"?(It(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,It(e)&&(n=e,e=void 0),e=e||"");var s=At(),i=t?s._week.dow:0,a,o=[];if(n!=null)return li(e,(n+i)%7,r,"day");for(a=0;a<7;a++)o[a]=li(e,(a+i)%7,r,"day");return o}function Q4(t,e){return Im(t,e,"months")}function Z4(t,e){return Im(t,e,"monthsShort")}function J4(t,e,n){return Wl(t,e,n,"weekdays")}function eS(t,e,n){return Wl(t,e,n,"weekdaysShort")}function tS(t,e,n){return Wl(t,e,n,"weekdaysMin")}Ht("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=H(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});N.lang=nt("moment.lang is deprecated. Use moment.locale instead.",Ht);N.langData=nt("moment.langData is deprecated. Use moment.localeData instead.",At);var wt=Math.abs;function nS(){var t=this._data;return this._milliseconds=wt(this._milliseconds),this._days=wt(this._days),this._months=wt(this._months),t.milliseconds=wt(t.milliseconds),t.seconds=wt(t.seconds),t.minutes=wt(t.minutes),t.hours=wt(t.hours),t.months=wt(t.months),t.years=wt(t.years),this}function Dm(t,e,n,r){var s=ut(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function rS(t,e){return Dm(this,t,e,1)}function sS(t,e){return Dm(this,t,e,-1)}function Cu(t){return t<0?Math.floor(t):Math.ceil(t)}function iS(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,i,a,o,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Cu(co(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=et(t/1e3),r.seconds=s%60,i=et(s/60),r.minutes=i%60,a=et(i/60),r.hours=a%24,e+=et(a/24),l=et(Am(e)),n+=l,e-=Cu(co(l)),o=et(n/12),n%=12,r.days=e,r.months=n,r.years=o,this}function Am(t){return t*4800/146097}function co(t){return t*146097/4800}function aS(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=rt(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+Am(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(co(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function oS(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+H(this._months/12)*31536e6:NaN}function Rt(t){return function(){return this.as(t)}}var lS=Rt("ms"),cS=Rt("s"),uS=Rt("m"),hS=Rt("h"),dS=Rt("d"),fS=Rt("w"),mS=Rt("M"),pS=Rt("Q"),gS=Rt("y");function yS(){return ut(this)}function vS(t){return t=rt(t),this.isValid()?this[t+"s"]():NaN}function _n(t){return function(){return this.isValid()?this._data[t]:NaN}}var wS=_n("milliseconds"),xS=_n("seconds"),bS=_n("minutes"),_S=_n("hours"),SS=_n("days"),CS=_n("months"),NS=_n("years");function ES(){return et(this.days()/7)}var xt=Math.round,An={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kS(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function TS(t,e,n,r){var s=ut(t).abs(),i=xt(s.as("s")),a=xt(s.as("m")),o=xt(s.as("h")),l=xt(s.as("d")),c=xt(s.as("M")),d=xt(s.as("w")),h=xt(s.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||d<=1&&["w"]||d<n.w&&["ww",d]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=r,kS.apply(null,f)}function IS(t){return t===void 0?xt:typeof t=="function"?(xt=t,!0):!1}function DS(t,e){return An[t]===void 0?!1:e===void 0?An[t]:(An[t]=e,t==="s"&&(An.ss=e-1),!0)}function AS(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=An,s,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},An,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=TS(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var xa=Math.abs;function Nn(t){return(t>0)-(t<0)||+t}function Gi(){if(!this.isValid())return this.localeData().invalidDate();var t=xa(this._milliseconds)/1e3,e=xa(this._days),n=xa(this._months),r,s,i,a,o=this.asSeconds(),l,c,d,h;return o?(r=et(t/60),s=et(r/60),t%=60,r%=60,i=et(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",c=Nn(this._months)!==Nn(o)?"-":"",d=Nn(this._days)!==Nn(o)?"-":"",h=Nn(this._milliseconds)!==Nn(o)?"-":"",l+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(e?d+e+"D":"")+(s||r||t?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(t?h+a+"S":"")):"P0D"}var q=Wi.prototype;q.isValid=S_;q.abs=nS;q.add=rS;q.subtract=sS;q.as=aS;q.asMilliseconds=lS;q.asSeconds=cS;q.asMinutes=uS;q.asHours=hS;q.asDays=dS;q.asWeeks=fS;q.asMonths=mS;q.asQuarters=pS;q.asYears=gS;q.valueOf=oS;q._bubble=iS;q.clone=yS;q.get=vS;q.milliseconds=wS;q.seconds=xS;q.minutes=bS;q.hours=_S;q.days=SS;q.weeks=ES;q.months=CS;q.years=NS;q.humanize=AS;q.toISOString=Gi;q.toString=Gi;q.toJSON=Gi;q.locale=wm;q.localeData=bm;q.toIsoString=nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gi);q.lang=xm;O("X",0,0,"unix");O("x",0,0,"valueOf");T("x",zi);T("X",J2);te("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});te("x",function(t,e,n){n._d=new Date(H(t))});//! moment.js
N.version="2.29.3";R2(ie);N.fn=x;N.min=w_;N.max=x_;N.now=b_;N.utc=yt;N.unix=K4;N.months=Q4;N.isDate=as;N.locale=Ht;N.invalid=Fi;N.duration=ut;N.isMoment=ct;N.weekdays=J4;N.parseZone=X4;N.localeData=At;N.isDuration=Ts;N.monthsShort=Z4;N.weekdaysMin=tS;N.defineLocale=Ul;N.updateLocale=Xb;N.locales=Qb;N.weekdaysShort=eS;N.normalizeUnits=rt;N.relativeTimeRounding=IS;N.relativeTimeThreshold=DS;N.calendarFormat=W_;N.prototype=x;N.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const RS=({id:t})=>{const{_id:e,userName:n,profilePhoto:r}=se(ge),[s,i]=p.exports.useState(""),[a,o]=p.exports.useState([]),l=p.exports.useRef(null),c=async()=>{var h;var d=c2(wu,`chats/${t}/messages/${Date.now()}`);await k2(d,{date:Date.now(),id:t,message:s,seen:!1,sender:e,senderName:n!=null?n:"",senderProfileUrl:r!=null?r:""}),(h=l.current)==null||h.scrollIntoView({behavior:"smooth"})};return p.exports.useEffect(()=>{const d=C2(l2(wu,`chats/${t}/messages`));T2(d,h=>{var y;const f=[];h.forEach(g=>{f.push(g.data())}),o([...f]),(y=l.current)==null||y.scrollIntoView({behavior:"smooth"})})},[]),m("div",{className:"flex flex-col lg:min-w-[25rem] h-[40vh] lg:h-[80vh] relative",children:[m("div",{className:"flex flex-col gap-4  mt-4 overflow-y-auto py-8",children:[a.map((d,h)=>m("div",{className:`${d.sender===e?"self-start":"self-end"} flex flex-col relative w-full`,children:[d.sender!==e&&u("p",{className:"text-xs self-end",children:d.senderName}),u("p",{className:`${d.sender===e?"bg-gray-400 self-start":"bg-blue-40 self-end"}
                py-1 px-4 rounded-lg text-white text-xl flex flex-wrap  break-all w-2/3`,children:d.message},h),d.sender!==e&&u("p",{className:"text-xs self-end",children:N(d.date).fromNow()})]})),u("div",{ref:l,className:""})]}),m("div",{className:"flex gap-4 mt-6 absolute bottom-0 z-10 bg-white w-full",children:[u("textarea",{value:s,onChange:d=>i(d.target.value),placeholder:"Type something",id:"",className:"inputs justify-end lg:w-[20rem] scroller border-blue-30 focus:border-blue-30"}),u(V,{onClick:()=>{s.length>0&&c(),i("")},className:"text-3xl text-white rotate-45 w-7 h-7 rounded-full border-[1px] border-blue-40 p-1 bg-blue-40",icon:ng})]})]})},MS=({title:t,host:e,desc:n,img:r})=>m("div",{className:"flex flex-col gap-4 w-full px-4 py-8 lg:min-w-[25rem]",children:[m("div",{className:"flex gap-4",children:[u("img",{src:r,alt:"",className:"h-20 w-20  p-2 rounded-full"})," ",m("div",{className:"flex flex-col gap-2 ",children:[u("p",{className:"text-black-40  text-lg md:text-2xl font-semibold",children:t}),m("p",{className:"text-black-40 text-sm",children:["by ",e]})]})]}),u("hr",{className:"h-[1px] bg-gray-400"}),u("div",{className:"flex",children:u("p",{className:"text-black-40 text-sm tracking-wide",children:n})})]}),PS=({img:t,price:e,title:n,productID:r})=>{const s=ee();return m("div",{className:"flex flex-col gap-4  py-8 lg:min-w-[25rem]",children:[m("div",{className:"flex flex-col",children:[u("p",{className:"text-black-40 text-lg",children:"Products"}),u("p",{className:"text-black-70 text-xs",children:"Products available for purchase"})]}),m("div",{className:"flex  w-full border-[1.2px] px-4 py-2 rounded-md gap-2 items-center",children:[u("img",{src:t,alt:"",className:"h-20 w-20  p-2 rounded-md"}),m("div",{className:"flex flex-col gap-2",children:[u("p",{className:"text-black-70  text-xs md:text-md font-semibold",children:n}),m("p",{className:"text-red-20 ",children:["$",e]})]}),u("button",{onClick:()=>s(`/product/${r}`),className:"border-black-70 border-[1px] text-black-70 hover:bg-black-70 \r hover:text-white  w-44 px-4 py-2 h-10 rounded-lg",children:"Add to cart"})]})]})},OS=({room:t})=>{var a,o,l;const[e,n]=p.exports.useState(0),[r,s]=p.exports.useState(!0),{_id:i}=se(ge);return m("div",{className:"overflow-clip ",children:[u(V,{icon:r?Gu:qp,onClick:()=>s(c=>!c),className:`${r?"text-red-500":"text-blue-40"}  z-50 fixed hidden
        lg:block right-4 text-4xl top-16`}),r&&m("div",{className:"flex flex-col  lg:w-[700px]  lg:max-w-md lg:min-h-[90vh] bg-white py-4 px-8 z-10",children:[m("div",{className:"flex w-full sticky top-16 z-20",children:[u("div",{onClick:()=>n(0),className:`${e===0?"border-b-2 border-blue-40":""}
          flex w-1/3 items-center justify-center py-2 cursor-pointer`,children:"Chat"}),u("div",{onClick:()=>n(1),className:`${e===1?"border-b-2 border-blue-40":""}
          flex w-1/3 items-center justify-center py-2 cursor-pointer`,children:"Details"}),((a=t==null?void 0:t.ownerId)==null?void 0:a._id)!==i&&u("div",{onClick:()=>n(2),className:`${e===2?"border-b-2 border-blue-40":""}
                flex w-1/3 items-center justify-center py-2 cursor-pointer`,children:"Shop"})]}),t!==void 0&&u("div",{className:"flex flex-col",children:e===0?u(RS,{id:t==null?void 0:t._id}):e===1?u(MS,{title:t==null?void 0:t.title,host:(o=t==null?void 0:t.ownerId)==null?void 0:o.userName,desc:t==null?void 0:t.description,img:t==null?void 0:t.productImages[0]}):u(at,{children:((l=t==null?void 0:t.ownerId)==null?void 0:l._id)!==i&&u(PS,{productID:t.productIds[0]._id,img:t==null?void 0:t.productImages[0],title:t==null?void 0:t.title,price:t==null?void 0:t.productPrice})})})]})]})},LS=({room:t,userData:e})=>{var g,v,b,R;const n="eb2b573198f24c98a285c82094696299",[r,s]=p.exports.useState(!1),i=async _=>{var M,E,I;var k={rtcProps:{appId:n,channel:_==null?void 0:_._id,role:((M=_==null?void 0:_.ownerId)==null?void 0:M._id)==e._id?"host":"audience",layout:0,uid:e.agorauid,token:_==null?void 0:_.token,enableAudio:((E=_==null?void 0:_.ownerId)==null?void 0:E._id)==e._id,enableVideo:((I=_==null?void 0:_.ownerId)==null?void 0:I._id)==e._id},callbacks:{EndCall:()=>o(!1),"user-joined":w=>{c(l++)},"user-left":w=>{},"network-quality":w=>{}},styleProps:{localBtnContainer:{backgroundColor:"blueviolet"}}};h(k),s(!0)},[a,o]=p.exports.useState(!0);var[l,c]=p.exports.useState(0);const[d,h]=p.exports.useState(),{renderSpinner:f}=fe(),y=ee();return p.exports.useEffect(()=>{var _,k;((_=t==null?void 0:t._id)==null?void 0:_.length)>0&&((k=t==null?void 0:t.token)==null?void 0:k.length)>0&&i(t)},[t]),m("div",{className:"flex flex-col lg:flex-row w-full gap px-2 lg:-mt-10",children:[u("div",{className:"absolute top-1/4 left-1/2",children:f(!r)}),m("div",{className:"flex min-h-[70vh] lg:min-h-[90vh] w-full relative",children:[d&&r&&u(np,{rtcProps:d.rtcProps,callbacks:d.callbacks,styleProps:d.styleProps}),u("div",{className:"flex flex-col absolute z-20 top-5 left-5 ",children:m("div",{className:"flex items-center gap-4",children:[u("img",{src:(g=t==null?void 0:t.shopId)==null?void 0:g.image,alt:"",className:"w-20 h-20 lg:w-32 lg:h-32 object-scale-down rounded-full"}),m("div",{className:"flex flex-col",children:[u("p",{className:"text-lg font-semibold",children:t==null?void 0:t.title}),m("p",{className:" font-semibold",children:[u("span",{className:"font-light",children:"by"}),"   ",(v=t==null?void 0:t.ownerId)==null?void 0:v.firstName,"  ",(b=t==null?void 0:t.ownerId)==null?void 0:b.lastName]})]})]})}),((R=t==null?void 0:t.ownerId)==null?void 0:R._id)!==e._id&&u("div",{className:"absolute flex left-5 bottom-32",children:m("button",{onClick:()=>{var _;return y(`/product/${(_=t==null?void 0:t.productIds[0])==null?void 0:_._id}`)},className:"red-btn",children:["From","    ","$",t==null?void 0:t.productPrice,"    "," buy"]})})]}),u("div",{className:"",children:r&&u(OS,{room:t})})]})},FS=()=>{let t=se(ge);const{getObject:e}=Ze(),[n,r]=p.exports.useState({}),{roomId:s}=tt(),i=async()=>{let a=await e(`/rooms/rooms/${s}`,"GET",{});r(a)};return p.exports.useEffect(()=>{i()},[]),u(LS,{room:n,userData:t})};const US=()=>{const{data:t,getObject:e}=Ze();let{roomId:n}=tt();return p.exports.useEffect(()=>{e(`/rooms/rooms/${n}`,"GET",{})},[]),u(at,{children:t.event?u("p",{className:"text-blue-40 text-lg mx-auto w-80",children:"Waiting for the host to start the event"}):u(FS,{})})},Rm=()=>{const[t,e]=p.exports.useState([]),[n,r]=p.exports.useState({}),[s,i]=p.exports.useState(""),[a,o]=p.exports.useState(!1);return{getProducts:async()=>{o(!0);try{let{data:d}=await Fs.get("/products");e(d),o(!1)}catch(d){o(!1),i(d)}},products:t,errors:s,load:a,getProductById:async d=>{o(!0);try{let{data:h}=await Fs.get(`/products/products/${d}`);r(h),o(!1)}catch(h){o(!1),i(h)}},product:n}},VS=()=>{const[t,e]=p.exports.useState([]),[n,r]=p.exports.useState(""),[s,i]=p.exports.useState(!1);return{shops:t,getShops:async()=>{i(!0);try{let{data:o}=await Fs.get("/shop");e(o),i(!1)}catch(o){i(!1),r(o)}},errors:n,load:s}},$S=({name:t,img:e,price:n,userName:r,id:s})=>{let i=ee();return m("div",{onClick:()=>i(`/product/${s}`),className:"flex flex-col rounded-lg shadow-lg pt-[0.2rem] px-[0.2rem]\r pb-[0.8rem] flex-shrink-0",children:[u("div",{className:"flex gradient rounded-t-md mb-4 justify-center",children:(e==null?void 0:e.length)>0?u("img",{src:e,className:"w-[60vw] md:w-[30vw] lg:w-[20vw] h-[12rem] \r self-center  object-cover rounded-md",onError:({currentTarget:a})=>{a.onerror=null,a.src="/img/picture.png"}}):u("img",{src:"/img/picture.png",className:"w-[60vw] md:w-[30vw] lg:w-[20vw] h-[12rem] \r self-center  object-cover rounded-md"})}),m("div",{className:"flex flex-col space-y-2 px-2",children:[u("p",{className:"text-blue-40 font-[600] text-[1rem] ",children:t}),m("p",{className:"text-gray-10 font-[300] text-[1rem] ",children:["by\xA0\xA0\xA0",u("span",{className:"font-[400]",children:r||"Pius"})]}),m("p",{className:"text-red-20 font-[400] text-[1rem] ",children:["$.\xA0\xA0\xA0",n]})]})]})};const BS=({name:t,img:e,userName:n,id:r})=>{let s=ee();return m("div",{className:"flex flex-col rounded-lg shadow-lg pt-[0.2rem] px-[0.2rem]\r pb-[0.8rem] flex-shrink-0",onClick:()=>s(`/shop/${r}`,{replace:!0}),children:[u("div",{className:"flex gradient rounded-t-lg mb-4 justify-center",children:(e==null?void 0:e.length)>0?u("img",{src:e,className:"w-[60vw] md:w-[30vw] lg:w-[20vw] h-[12rem] \r self-center  object-cover rounded-md",onError:({currentTarget:i})=>{i.onerror=null,i.src="/img/picture.png"}}):u("img",{src:"/img/picture.png",className:"w-[60vw] md:w-[30vw] lg:w-[20vw] h-[12rem] \r self-center  object-cover rounded-md"})}),m("div",{className:"flex flex-col space-y-2 px-2",children:[u("p",{className:"text-blue-40 font-[400] text-[1.2rem] ",children:t}),m("p",{className:"text-black-40 font-[500] text-[1rem]",children:["by\xA0\xA0\xA0",n]})]})]})},zS=()=>{const[t,e]=p.exports.useState([]),[n,r]=p.exports.useState([]),s=se(No),{getProducts:i,products:a,load:o}=Rm(),{renderSpinner:l}=fe(),{shops:c,getShops:d}=VS();let h=ee();return p.exports.useEffect(()=>{d(),i()},[]),p.exports.useEffect(()=>{a.length>0&&e(a.filter(f=>f.name.toLowerCase().includes(s.toLowerCase()))),c.length>0&&r(c.filter(f=>f.name.toLowerCase().includes(s.toLowerCase())))},[s,o]),p.exports.useEffect(()=>{s.length<1&&h("/")},[]),m("div",{className:"flex flex-col px-[2rem] md:px-[3rem] w-full",children:[l(o),t.length>0?u("div",{className:"flex  w-full mb-4  pl-8",children:u("p",{className:"text-gray-20 font-[800] text-[2rem] md:text-[2rem]",children:"Products"})}):o?null:m("div",{className:"flex  flex-row w-[15rem] md:w-[20rem] px-[1.2rem] md:px-[2rem] py-[0.5rem] \r shadow-xl self-center md:self-start rounded-xl text-blue-30 space-x-3  \r items-center cursor-pointer",children:[u(V,{icon:Jp,size:"2x"}),u("p",{className:"text-blue-30 text-[0.9rem] md:text-[1.1rem] font-[700]",children:"Sorry no products match this criteria"})]}),u("div",{className:"flex flex-col md:flex-row flex-wrap gap-x-[2rem] w-full\r justify-start gap-y-[2rem] pb-[4rem]",children:t.length>0&&t.map((f,y)=>{var g;return u($S,{price:f==null?void 0:f.price,img:f==null?void 0:f.images[0],userName:(g=f==null?void 0:f.ownerId)==null?void 0:g.userName,name:f==null?void 0:f.name,id:f==null?void 0:f._id},y)})}),n.length>0?u("div",{className:"flex  w-fullpy-8 mb-4 pl-4",children:u("p",{className:"text-gray-20 font-[800] text-[2rem] md:text-[2rem]",children:"Shops"})}):null,u("div",{className:"flex flex-col md:flex-row flex-wrap gap-x-[2rem] \r justify-start gap-y-[2rem] pb-[4rem]",children:n.length>0&&n.map((f,y)=>{var g;return u(BS,{img:f==null?void 0:f.image,name:f==null?void 0:f.name,userName:(g=f==null?void 0:f.userId)==null?void 0:g.userName,id:f._id},y)})})]})},jS=()=>{const{Axios:t}=Dt(),{_id:e}=se(ge),[n,r]=p.exports.useState(),[s,i]=p.exports.useState(!1);return{getTransactionsByUserID:async()=>{i(!0);try{let{data:l}=await t.get(`/transactions/${e}`);r(l),i(!1)}catch{i(!1),we.fire({icon:"error",text:"Failed to get your transactions"})}},load:s,transactions:n,columns:[{name:"Date",selector:l=>new Date(l.createdAt).toLocaleString()},{name:"Reason",selector:l=>l.reason},{name:"Amount",selector:l=>"$."+l.amount}]}};Ou("light",{text:{fontSize:"2rem",fontWeight:"2px",primary:"#000000"},background:{default:"inherit"}});const HS={cells:{style:{minHeight:"72px",fontSize:"1rem",fontWeight:"500"}},headCells:{style:{fontSize:"1.5rem",fontWeight:"600"}}},YS=()=>{const{wallet:t}=se(ge),{getTransactionsByUserID:e,load:n,transactions:r,columns:s}=jS(),{renderSpinner:i}=fe();return p.exports.useEffect(()=>{e()},[]),m("div",{className:"flex flex-col px-[2rem] py-[3rem] space-y-10 md:px-[6.5rem]",children:[m("div",{className:"flex flex-col bg-gray-20 text-white rounded-2xl space-y-3 items-center \r w-full md:w-[30vw] py-[0.5rem] md:ml-8 ",children:[u("p",{className:"text-[1.2rem] md:text-[1.4rem] font-[500]",children:"Wallet balance"}),m("p",{className:"text-[1rem] md:text-[1.2rem] font-[700]",children:["$. ",t||0]})]}),i(n),u("div",{className:"flex flex-col md:flex-row flex-wrap gap-y-10 gap-x-10 items-center \r ",children:u(Lu,{columns:s,data:r,responsive:!0,pagination:!0,customStyles:HS,subHeaderWrap:!0,striped:!0,title:"Transactions",theme:"light",fixedHeader:!0,fixedHeaderScrollHeight:"500px",pointerOnHover:!0,className:"bg text-color"})})]})},WS=()=>{let t=ee();const{token:e}=se(ge);return m("div",{className:"flex flex-col md:flex-row py-[2.5rem] px-[2rem] md:px-20   space-y-10 md:space-y-0 \r md:space-x-8 lg:space-x-[5rem] ",children:[m("div",{className:"flex flex-col order-2 md:order-1 self-center",children:[m("p",{className:"uppercase font-[900] text-[2rem] text-[#00bcd7]",children:["The shopping ",u("br",{})," experience.",u("span",{className:"text-black-40",children:" Everyone is talking about!"})]}),u("p",{className:"text-[1rem] mt-[1.5rem]",children:"An always live social-shopping network, with your favorite brands, artists, celebrities and useful products."}),(e==null?void 0:e.length)<5?u("button",{onClick:()=>t("/login"),className:"bg-red-20 w-[9rem] rounded-md py-[1rem] px-[1rem] text-white\r font-[900]  mt-[1.4rem] hover:bg-red-600 hover:scale-110 trasition\r ease-in-out\r duration-300",children:"Join For Free"}):null]}),u("iframe",{className:"flex w-[80vw] h-[30vh] border-1 md:order-2 md:min-w-[55vw]\r md:h-[45vh] lg:h-[55vh] self-center rounded-md object-scale-down",src:"https://www.youtube.com/embed/wq1GDVwWz3g?autoplay=0&controls=0"})]})},qS=({name:t,price:e,userName:n,id:r,image:s,shopImage:i})=>{let a=ee();return m("div",{className:"flex flex-col px-[0.5rem]  py-[0.6rem] bg-white card-border\r hover:card-border rounded-md  hover:shadow-2xl relative",onClick:()=>a(`/product/${r}`),children:[m("div",{className:"flex flex-row gap-x-[1rem]",children:[u("div",{className:"flex gradient rounded-full h-8 w-8 border-[.1rem] border-gray-300 \r self-center",children:u("img",{src:i,alt:"",className:"w-8 h-8 rounded-full self-center object-cover",onError:({currentTarget:o})=>{o.onerror=null,o.src="/img/picture.png"}})}),u("div",{className:"flex flex-col w-[16rem]",children:m("p",{className:"text-black-40 font-[700] text-[1rem] mb-[1rem]",children:[t,u("br",{}),u("span",{className:"font-[400]",children:(n==null?void 0:n.length)>0?n:"unknown"})]})})]}),m("div",{className:"flex relative gradient border-[0.0625rem] rounded-md\r bg-cover bg-center bg-no-repeat",children:[(s==null?void 0:s.length)>0?u("img",{src:s,alt:"",className:"flex h-[40vh] w-[25rem] md:w-[25rem]  3xl:w-[52rem] 3xl:h-[20vh]\r object-cover z-10",onError:({currentTarget:o})=>{o.currentSrc===void 0&&(o.src="/img/picture.png"),o.onerror=null}}):u("img",{src:"/img/picture.png",alt:"",className:"flex h-[40vh] w-[25rem] md:w-[25rem]  3xl:w-[52rem] 3xl:h-[20vh]\r object-cover z-10",onError:({currentTarget:o})=>{o.onerror=null,o.src="/img/picture.png"}}),m("p",{className:"absolute bottom-[4%] right-[5%] text-white font-[600] text-[1rem]\r bg-gray-20 px-[1rem] opacity-100 rounded-xl z-20",children:["$. ",e==null?void 0:e.toLocaleString()]})]})]})},GS=()=>{const{data:t,getObject:e,load:n}=Ze();p.exports.useEffect(()=>{e("/products","GET",{})},[]);const{scrollRight:r,scrollLeft:s}=Br(),i=p.exports.useRef(null),{renderSpinner:a}=fe();return m("div",{className:"flex flex-col py-[3rem] pl-6 md:pl-16 h-full  relative",children:[u("p",{className:"text-black-40 text-[1.2rem] md:text-[1.6rem] font-[700] mb-[2rem]",children:"Recommended products"}),a(n),u("div",{ref:i,className:"scroller flex flex-row  overflow-x-scroll gap-x-8 md:flex-row ",children:(t==null?void 0:t.length)>0&&t.map((o,l)=>{var c,d,h;return u(qS,{name:o==null?void 0:o.name,userName:(c=o==null?void 0:o.ownerId)==null?void 0:c.userName,price:o==null?void 0:o.price,id:o==null?void 0:o._id,image:((d=o==null?void 0:o.images)==null?void 0:d.length)>0&&(o==null?void 0:o.images[0]),shopImage:(h=o==null?void 0:o.shopId)==null?void 0:h.image},l)})}),(t==null?void 0:t.length)&&(t==null?void 0:t.length)>5?m(at,{children:[" ",u("div",{className:" bg-[rgba(0,0,0,.3)]  hover:bg-[rgba(0,0,0,.6)]  w-[3.125rem]\r h-[3.125rem] rounded-full\r z-10 hidden lg:flex lg:absolute  left-10 top-[50%] \r ",children:u(V,{onClick:()=>s(i),icon:Vr,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7]"})}),u("div",{className:"bg-[rgba(0,0,0,.3)]  hover:bg-[rgba(0,0,0,.6)]  z-10 hidden\r lg:flex lg:absolute text-[2rem]\r w-[3.125rem] h-[3.125rem] rounded-full right-10 top-[50%]",children:u(V,{onClick:()=>r(i),icon:$r,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7]"})})]}):null]})},KS=({roomId:t,title:e,userName:n,price:r,shopImage:s,userImage:i,productImage:a})=>{let o=ee();return m("div",{className:"flex flex-col px-[0.5rem] py-[0.3rem] bg-white card-border\r rounded-lg hover:shadow-2xl relative",onClick:()=>o(`/rooms/${t}`),children:[m("div",{className:"flex flex-row gap-x-[1rem]",children:[u("div",{className:"flex gradient rounded-full h-8 w-8 border-[.1rem] border-gray-300\r self-center",children:u("img",{src:i,alt:"",className:"w-8 h-8 rounded-full self-center object-cover",onError:({currentTarget:l})=>{l.onerror=null,l.src="/img/picture.png"}})}),u("div",{className:"flex flex-col w-[16rem]",children:m("p",{className:"text-black-40 font-[500] text-[1rem] mb-[1rem]",children:[e,u("br",{}),u("span",{className:"font-[300]",children:n})]})})]}),u("div",{className:"flex relative gradient border-[0.0625rem] rounded-md",children:(a==null?void 0:a.length)>0?u("img",{src:a,alt:"",className:"flex h-[40vh] w-[25rem] md:w-[25rem]  3xl:w-[52rem] 3xl:h-[20vh]\r object-cover z-10 rounded-lg",onError:({currentTarget:l})=>{l.onerror=null,l.src="/img/picture.png"}}):u("img",{src:"/img/picture.png",alt:"",className:"flex h-[40vh] w-[25rem] md:w-[25rem]  3xl:w-[52rem] 3xl:h-[20vh]\r object-cover z-10",onError:({currentTarget:l})=>{l.onerror=null,l.src="/img/picture.png"}})})]})},XS=()=>{const{renderSpinner:t}=fe(),{data:e,getObject:n,load:r}=Ze();p.exports.useEffect(()=>{n("/rooms","GET",{})},[]);const{scrollRight:s,scrollLeft:i}=Br(),a=p.exports.useRef(null);return m("div",{className:"flex flex-col py-[3rem] pl-6 md:pl-16 h-full  relative ",children:[u("p",{className:"text-black-40 text-[1.2rem] md:text-[1.6rem] font-[700] mb-[2rem]",children:"Live Events"}),(e==null?void 0:e.length)>0?m(at,{children:[t(r),u("div",{ref:a,className:"scroller flex flex-row gap-x-8 overflow-x-scroll w-screen",children:e.map((o,l)=>{var c,d,h;return u(KS,{title:o==null?void 0:o.title,userName:(c=o==null?void 0:o.ownerId)==null?void 0:c.userName,price:o==null?void 0:o.productPrice,shopImage:(d=o==null?void 0:o.shopId)==null?void 0:d.image,userImage:((h=o==null?void 0:o.ownerId)==null?void 0:h._id)+".png",productImage:(o==null?void 0:o.productIds)!=null?o==null?void 0:o.productIds[0].images[0]:"",roomId:o==null?void 0:o._id},l)})}),(e==null?void 0:e.length)&&e.length>3?m(at,{children:[u("div",{className:" bg-[rgba(0,0,0,.3)]  hover:bg-[rgba(0,0,0,.6)]   w-[3.125rem]\r h-[3.125rem] rounded-full\r z-10 hidden lg:flex lg:absolute  left-10 top-[50%] \r ",children:u(V,{onClick:()=>i(a),icon:Vr,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7]"})}),u("div",{className:"bg-[rgba(0,0,0,.3)]  hover:bg-[rgba(0,0,0,.6)]  z-10 hidden\r lg:flex lg:absolute text-[2rem]\r w-[3.125rem] h-[3.125rem] rounded-full right-10 top-[50%]",children:u(V,{onClick:()=>s(a),icon:$r,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7]"})})]}):null]}):u("p",{className:"text-black-40 text-[1rem] md:text-[1.6rem] font-[500] mb-[2rem]",children:"No live events right now."})]})},QS=({name:t,img:e,id:n})=>{let r=ee();return m("div",{className:"flex relative flex-shrink-0  card-border rounded-lg hover:shadow-2xl\r bg-white gradient",onClick:()=>r(`/shop/${n}`),children:[u("img",{src:e,alt:"",className:"object-cover w-[18rem] h-[40vh] 3xl:w-[48rem] 3xl:h-[30vh] \r object-center z-10 rounded-lg",onError:({currentTarget:s})=>{s.onerror=null,s.src="/img/picture.png"}}),u("p",{className:"absolute bottom-[4%] right-[5%] text-white font-[900] text-[1rem]\r bg-gray-20 opacity-100 px-2 rounded-md z-10",children:t})]})},ZS=()=>{const{data:t,getObject:e,load:n}=Ze();p.exports.useEffect(()=>{e("/shop","GET",{})},[]);const{scrollRight:r,scrollLeft:s}=Br(),{renderSpinner:i}=fe(),a=p.exports.useRef(null);return m("div",{className:"flex flex-col py-[3rem] pl-6 md:pl-16 relative",children:[u("p",{className:"text-black-40 text-[1.2rem] md:text-[1.6rem] font-[700] mb-[2rem]",children:"Popular shops"}),i(n),m("div",{ref:a,className:"scroller flex flex-row gap-x-8 overflow-x-scroll",children:[t.length>0&&(t==null?void 0:t.map((o,l)=>u(QS,{name:o==null?void 0:o.name,img:o==null?void 0:o.image,id:o==null?void 0:o._id},l))),(t==null?void 0:t.length)&&t.length>5?m(at,{children:[u("div",{className:" bg-[rgba(0,0,0,.3)]  hover:bg-[rgba(0,0,0,.6)]  w-[3.125rem] \r h-[3.125rem] rounded-full z-10 hidden lg:flex lg:absolute  left-10 top-[50%] \r ",children:u(V,{onClick:()=>s(a),icon:Vr,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7]"})}),u("div",{className:"bg-[rgba(0,0,0,.3)] hover:bg-[rgba(0,0,0,.6)] z-10 hidden lg:flex \r lg:absolute text-[2rem] w-[3.125rem] h-[3.125rem] rounded-full right-10 top-[50%]",children:u(V,{onClick:()=>r(a),icon:$r,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7]"})})]}):null]})]})},JS=({date:t})=>{const[e,n]=p.exports.useState(""),[r,s]=p.exports.useState("");return p.exports.useEffect(()=>{n(N(t).calendar().split(" at").length>1?N(t).calendar().split(" at")[0]+" at":N(t).format("MMM Do, YYYY")+" at"),s(N(t).format("LT"))},[t]),u("div",{className:"absolute  w-full top-0  z-20 left-0 bottom-0 bg-[rgba(0,0,0,.3)]\r px-4 pt-2 rounded-b-md",children:m("p",{className:" font-black text-blue-20 ",children:[u("span",{className:"text-lg text-white",children:t>0&&e}),u("br",{}),m("span",{className:"text-3xl text-white",children:["\xA0",t>0&&r]})]})})},eC=({roomId:t,title:e,userName:n,shopImage:r,userImage:s,eventDate:i,productImage:a})=>{let o=ee();return m("div",{className:"flex flex-col bg-white card-border flex-shrink-0 \r rounded-lg hover:shadow-2xl relative",onClick:()=>o(`/rooms/${t}`),children:[u(JS,{date:i}),m("div",{className:"flex flex-row gap-x-[1rem] absolute left-0 bottom-0 z-20 \r w-full px-4 pt-2 rounded-b-md",children:[u("div",{className:"flex gradient rounded-full h-8 w-8 border-[.1rem] border-gray-300\r self-center",children:u("img",{src:r,alt:"",className:"w-8 h-8 rounded-full self-center object-cover",onError:({currentTarget:l})=>{l.onerror=null,l.src="/img/picture.png"}})}),u("div",{className:"flex flex-col w-[16rem]",children:m("p",{className:"font-[500] text-[1rem] mb-[1rem]  text-white",children:[e,u("br",{}),u("span",{className:"font-[300]  text-white",children:n})]})})]}),u("div",{className:"flex relative gradient border-[0.0625rem] rounded-md",children:(a==null?void 0:a.length)>0?u("img",{src:a,alt:"",className:"flex h-[40vh] w-[25rem] md:w-[25rem]  3xl:w-[52rem] 3xl:h-[20vh]\r object-cover z-10 rounded-lg",onError:({currentTarget:l})=>{l.onerror=null,l.src="/img/picture.png"}}):u("img",{src:"/img/picture.png",alt:"",className:"flex h-[40vh] w-[25rem] md:w-[25rem]  3xl:w-[52rem] 3xl:h-[20vh]\r object-cover z-10",onError:({currentTarget:l})=>{l.onerror=null,l.src="/img/picture.png"}})})]})},tC=()=>{const{renderSpinner:t}=fe(),{data:e,getObject:n,load:r}=Ze();p.exports.useEffect(()=>{n("/rooms/events","GET",{})},[]);const{scrollRight:s,scrollLeft:i}=Br(),a=p.exports.useRef(null);return m("div",{className:"flex flex-col py-[3rem] h-full  relative pl-6 md:pl-16",children:[u("p",{className:"text-black-40 text-[1.2rem] md:text-[1.6rem] font-[700] mb-[2rem] ",children:"Upcoming Events"}),(e==null?void 0:e.length)>0?m(at,{children:[t(r),u("div",{ref:a,className:"scroller flex flex-row space-x-8 overflow-x-scroll w-screen",children:e.map((o,l)=>{var c,d,h;return u(eC,{title:o==null?void 0:o.title,userName:(c=o==null?void 0:o.ownerId)==null?void 0:c.userName,price:o==null?void 0:o.productPrice,shopImage:(d=o==null?void 0:o.shopId)==null?void 0:d.image,userImage:((h=o==null?void 0:o.ownerId)==null?void 0:h._id)+".png",productImage:(o==null?void 0:o.productIds)!=null?o==null?void 0:o.productIds[0].images[0]:"",roomId:o==null?void 0:o._id,eventDate:o==null?void 0:o.eventDate},l)})}),(e==null?void 0:e.length)&&e.length>3?m(at,{children:[u("div",{className:" bg-[rgba(0,0,0,.3)]  hover:bg-[rgba(0,0,0,.6)]   w-[3.125rem]\r h-[3.125rem] rounded-full\r z-40 hidden lg:flex lg:absolute  left-10 top-[50%]\r ",children:u(V,{onClick:()=>i(a),icon:Vr,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7]"})}),u("div",{className:"bg-[rgba(0,0,0,.3)]  hover:bg-[rgba(0,0,0,.6)]  z-40 hidden\r lg:flex lg:absolute text-[2rem]\r w-[3.125rem] h-[3.125rem] rounded-full right-10 top-[50%]",children:u(V,{onClick:()=>s(a),icon:$r,className:"flex text-[1.25rem] self-center mx-auto text-[#00bcd7] hey"})})]}):null]}):u("p",{className:"text-black-40 text-[1rem] md:text-[1.6rem] font-[500] mb-[2rem]",children:"No rooms available."})]})},nC=()=>m(at,{children:[u(WS,{}),u(tC,{}),u(ZS,{}),u(GS,{}),u(XS,{})]}),rC=()=>{var i,a;const{data:t,getObject:e,load:n}=Ze();let{shopId:r}=tt();const{renderSpinner:s}=fe();return p.exports.useEffect(()=>{e(`/products/${r}`,"GET",{})},[]),u("div",{className:"flex w-screen flex-col gap-y-4 px-4 md:px-[6rem]",children:n?s(n):t&&t.length?m("div",{className:"flex flex-col w-full",children:[m("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r border-b-4 ",children:[(a=(i=t[0])==null?void 0:i.shopId)==null?void 0:a.name,u("span",{className:"font-[500] text-[1.5rem] md:text-[2rem]",children:"\xA0\xA0product's"})]}),u("div",{className:"flex flex-row flex-wrap w-full justify-items-start gap-y-4 gap-x-8 \r mt-8",children:t==null?void 0:t.map((o,l)=>{var c,d,h,f;return u(nh,{image:((c=o==null?void 0:o.images)==null?void 0:c.length)>0&&(o==null?void 0:o.images[0])?o==null?void 0:o.images[0]:void 0,name:o==null?void 0:o.name,price:o==null?void 0:o.price,id:o==null?void 0:o._id,userName:(d=o==null?void 0:o.ownerId)==null?void 0:d.userName,shopId:(f=(h=t[0])==null?void 0:h.shopId)==null?void 0:f._id},l)})})]}):u("p",{className:"text-2xl md:text-3xl text-black-40",children:"This shop has no products."})})},ur=({children:t})=>{const{token:e,shopId:n,_id:r}=se(ge);let s=wn();return(e==null?void 0:e.length)<1||e===void 0?u(Bu,{to:"/login",state:{from:s},replace:!0}):t},Nu=({children:t})=>{var r;const e=se(ge);let n=wn();return((r=e==null?void 0:e.token)==null?void 0:r.length)>1?(we.fire({icon:"info",title:"you are logged in\u{1F601}",timer:1500}),u(Bu,{to:"/",state:{from:n},replace:!0})):t},ql=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,sC=/^[a-zA-Z0-9]{6,}$/,Mm=(t,e)=>{const n=t.split(","),r=n[0].match(/:(.*?);/)[1],s=atob(n[1]);let i=s.length;const a=new Uint8Array(i);for(;i--;)a[i]=s.charCodeAt(i);return new File([a],e,{type:r})},iC=()=>{const[t,e]=Zm(ge),[n,r]=p.exports.useState(""),[s,i]=p.exports.useState(""),[a,o]=p.exports.useState(t==null?void 0:t.email),[l,c]=p.exports.useState(""),[d,h]=p.exports.useState(""),[f,y]=p.exports.useState(t==null?void 0:t.firstName),[g,v]=p.exports.useState(t==null?void 0:t.lastName),[b,R]=p.exports.useState(t==null?void 0:t.userName),[_,k]=p.exports.useState(t==null?void 0:t.phoneNumber),[M,E]=p.exports.useState(!1),[I,w]=p.exports.useState(t==null?void 0:t.profilePhoto),{getObject:A,data:K}=Ze(),Le=G=>{k(G)},Fe=G=>{switch(G.target.id){case"email":o(G.target.value),G.target.value.toLowerCase().match(ql)?r(""):r("Invalid email");break;case"pass":c(G.target.value),G.target.value.match(sC)?i(""):i("Password should be atleast six characters long");break;case"confirm":h(G.target.value);break;case"fname":y(G.target.value);break;case"lname":v(G.target.value);break;case"userName":R(G.target.value);break}},ht=async G=>{if(G.preventDefault(),(I==null?void 0:I.length)>250){E(!0);const Pt=Oh($f,"/rooms/avatar");let jm=(I==null?void 0:I.length)>0&&Mm(I,"profilePic");const Ql=Mh(Pt,jm);Ql.on("state_changed",Xi=>{},Xi=>{we.fire({icon:"error",text:"Storage error"})},async()=>{let Xi=await Ph(Ql.snapshot.ref),Zl=await A(`/users/${t==null?void 0:t._id}`,"PUT",{firstName:f,lastName:g,email:a,userName:b,profilePhoto:Xi,phonenumber:_});Mt(Zl),Zl.success&&E(!1)})}else if(I.length>0&&I.length<250){E(!0);let Pt=await A(`/users/${t==null?void 0:t._id}`,"PUT",{firstName:f,lastName:g,email:a,userName:b,phonenumber:_});Pt.success&&E(!1),Mt(Pt)}},Mt=G=>{let Pt={token:G==null?void 0:G.token,_id:G.user._id,userName:G.user.userName,profilePhoto:G.user.profilePhoto,phoneNumber:G.user.phonenumber,email:G.user.email,firstName:G.user.firstName,lastName:G.user.lastName,wallet:G.user.wallet,roomuid:G.user.roomuid};e(Pt),E(!1)};return{mailError:n,passError:s,email:a,password:l,fname:f,lname:g,userName:b,handleChange:Fe,load:M,phone:_,handlePhoneChange:Le,handleSubmit:ht,confirmPassword:d,img:I,setImg:w,setPhone:k}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uo=function(t,e){return uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},uo(t,e)};function aC(t,e){uo(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ie=function(){return Ie=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ie.apply(this,arguments)},Eu=!1,Zt,ho,fo,Ds,As,Pm,Rs,mo,po,go,Om,yo,vo,Lm,Fm;function ze(){if(!Eu){Eu=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(yo=/\b(iPhone|iP[ao]d)/.exec(t),vo=/\b(iP[ao]d)/.exec(t),go=/Android/i.exec(t),Lm=/FBAN\/\w+;/i.exec(t),Fm=/Mobile/i.exec(t),Om=!!/Win64/.exec(t),e){Zt=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Zt&&document&&document.documentMode&&(Zt=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);Pm=r?parseFloat(r[1])+4:Zt,ho=e[2]?parseFloat(e[2]):NaN,fo=e[3]?parseFloat(e[3]):NaN,Ds=e[4]?parseFloat(e[4]):NaN,Ds?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),As=e&&e[1]?parseFloat(e[1]):NaN):As=NaN}else Zt=ho=fo=As=Ds=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Rs=s?parseFloat(s[1].replace("_",".")):!0}else Rs=!1;mo=!!n[2],po=!!n[3]}else Rs=mo=po=!1}}var wo={ie:function(){return ze()||Zt},ieCompatibilityMode:function(){return ze()||Pm>Zt},ie64:function(){return wo.ie()&&Om},firefox:function(){return ze()||ho},opera:function(){return ze()||fo},webkit:function(){return ze()||Ds},safari:function(){return wo.webkit()},chrome:function(){return ze()||As},windows:function(){return ze()||mo},osx:function(){return ze()||Rs},linux:function(){return ze()||po},iphone:function(){return ze()||yo},mobile:function(){return ze()||yo||vo||go||Fm},nativeApp:function(){return ze()||Lm},android:function(){return ze()||go},ipad:function(){return ze()||vo}},oC=wo,xs=!!(typeof window!="undefined"&&window.document&&window.document.createElement),lC={canUseDOM:xs,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:xs&&!!(window.addEventListener||window.attachEvent),canUseViewport:xs&&!!window.screen,isInWorker:!xs},cC=lC,Um=cC,Vm;Um.canUseDOM&&(Vm=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function uC(t,e){if(!Um.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&Vm&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var hC=uC,dC=oC,fC=hC,ku=10,Tu=40,Iu=800;function $m(t){var e=0,n=0,r=0,s=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*ku,s=n*ku,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=Tu,s*=Tu):(r*=Iu,s*=Iu)),r&&!e&&(e=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:s}}$m.getEventType=function(){return dC.firefox()?"DOMMouseScroll":fC("wheel")?"wheel":"mousewheel"};var mC=$m,pC=mC;function gC(t,e,n,r,s,i){i===void 0&&(i=0);var a=qn(t,e,i),o=a.width,l=a.height,c=Math.min(o,n),d=Math.min(l,r);return c>d*s?{width:d*s,height:d}:{width:c,height:c/s}}function yC(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function bs(t,e,n,r,s){s===void 0&&(s=0);var i=qn(e.width,e.height,s),a=i.width,o=i.height;return{x:Du(t.x,a,n.width,r),y:Du(t.y,o,n.height,r)}}function Du(t,e,n,r){var s=e*r/2-n/2;return Ki(t,-s,s)}function Au(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function Ru(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function vC(t,e,n,r,s,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var o=a?wC:xC,l=qn(e.width,e.height,i),c=qn(e.naturalWidth,e.naturalHeight,i),d={x:o(100,((l.width-n.width/s)/2-t.x/s)/l.width*100),y:o(100,((l.height-n.height/s)/2-t.y/s)/l.height*100),width:o(100,n.width/l.width*100/s),height:o(100,n.height/l.height*100/s)},h=Math.round(o(c.width,d.width*c.width/100)),f=Math.round(o(c.height,d.height*c.height/100)),y=c.width>=c.height*r,g=y?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},v=Ie(Ie({},g),{x:Math.round(o(c.width-g.width,d.x*c.width/100)),y:Math.round(o(c.height-g.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:v}}function wC(t,e){return Math.min(t,Math.max(0,e))}function xC(t,e){return e}function bC(t,e,n,r,s,i){var a=qn(e.width,e.height,n),o=Ki(r.width/a.width*(100/t.width),s,i),l={x:o*a.width/2-r.width/2-a.width*o*(t.x/100),y:o*a.height/2-r.height/2-a.height*o*(t.y/100)};return{crop:l,zoom:o}}function _C(t,e,n){var r=yC(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function SC(t,e,n,r,s,i){n===void 0&&(n=0);var a=qn(e.naturalWidth,e.naturalHeight,n),o=Ki(_C(t,e,r),s,i),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((a.width-t.width)/2-t.x)*l,y:((a.height-t.height)/2-t.y)*l};return{crop:c,zoom:o}}function Mu(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function CC(t){return t*Math.PI/180}function qn(t,e,n){var r=CC(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Ki(t,e,n){return Math.min(Math.max(t,e),n)}function _s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var NC=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,EC=1,kC=3,TC=function(t){aC(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.imageRef=null,n.videoRef=null,n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.state={cropSize:null,hasWheelJustStarted:!1},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){document.removeEventListener("mousemove",n.onMouseMove),document.removeEventListener("mouseup",n.onDragStopped),document.removeEventListener("touchmove",n.onTouchMove),document.removeEventListener("touchend",n.onDragStopped)},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=bC(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=s.crop,a=s.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}else if(n.props.initialCroppedAreaPixels){var o=SC(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=o.crop,a=o.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}},n.computeSizes=function(){var r,s,i,a,o,l,c=n.imageRef||n.videoRef;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef)===null||s===void 0?void 0:s.videoWidth)||0,f=((i=n.imageRef)===null||i===void 0?void 0:i.naturalHeight)||((a=n.videoRef)===null||a===void 0?void 0:a.videoHeight)||0,y=c.offsetWidth<h||c.offsetHeight<f,g=h/f,v=void 0;if(y)switch(n.props.objectFit){default:case"contain":v=d>g?{width:n.containerRect.height*g,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/g};break;case"horizontal-cover":v={width:n.containerRect.width,height:n.containerRect.width/g};break;case"vertical-cover":v={width:n.containerRect.height*g,height:n.containerRect.height};break;case"auto-cover":v=h>f?{width:n.containerRect.width,height:n.containerRect.width/g}:{width:n.containerRect.height*g,height:n.containerRect.height};break}else v={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=Ie(Ie({},v),{naturalWidth:h,naturalHeight:f});var b=n.props.cropSize?n.props.cropSize:gC(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((o=n.state.cropSize)===null||o===void 0?void 0:o.height)!==b.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==b.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(b),n.setState({cropSize:b},n.recomputeCropPosition),b}},n.onMouseDown=function(r){r.preventDefault(),document.addEventListener("mousemove",n.onMouseMove),document.addEventListener("mouseup",n.onDragStopped),n.onDragStart(e.getMousePoint(r))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onTouchStart=function(r){n.props.onTouchRequest&&!n.props.onTouchRequest(r)||(document.addEventListener("touchmove",n.onTouchMove,{passive:!1}),document.addEventListener("touchend",n.onDragStopped),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0])))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onDragStart=function(r){var s,i,a=r.x,o=r.y;n.dragStartPosition={x:a,y:o},n.dragStartCrop=Ie({},n.props.crop),(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s)},n.onDrag=function(r){var s=r.x,i=r.y;n.rafDragTimeout&&window.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=window.requestAnimationFrame(function(){if(!!n.state.cropSize&&!(s===void 0||i===void 0)){var a=s-n.dragStartPosition.x,o=i-n.dragStartPosition.y,l={x:n.dragStartCrop.x+a,y:n.dragStartCrop.y+o},c=n.props.restrictPosition?bs(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}})},n.onDragStopped=function(){var r,s;n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),i=pC(r).pixelY,a=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(a,s),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var o,l;return(l=(o=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(o)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=window.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var o,l;return(l=(o=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(o)})},250)}},n.getPointOnContainer=function(r){var s=r.x,i=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-n.containerRect.left),y:n.containerRect.height/2-(i-n.containerRect.top)}},n.getPointOnMedia=function(r){var s=r.x,i=r.y,a=n.props,o=a.crop,l=a.zoom;return{x:(s+o.x)/l,y:(i+o.y)/l}},n.setNewZoom=function(r,s){if(!(!n.state.cropSize||!n.props.onZoomChange)){var i=n.getPointOnContainer(s),a=n.getPointOnMedia(i),o=Ki(r,n.props.minZoom,n.props.maxZoom),l={x:a.x*o-i.x,y:a.y*o-i.y},c=n.props.restrictPosition?bs(l,n.mediaSize,n.state.cropSize,o,n.props.rotation):l;n.props.onCropChange(c),n.props.onZoomChange(o)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?bs(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return vC(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(!!r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(!!r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.recomputeCropPosition=function(){if(!!n.state.cropSize){var r=n.props.restrictPosition?bs(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n}return e.prototype.componentDidMount=function(){window.addEventListener("resize",this.computeSizes),this.containerRef&&(this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.props.disableAutomaticStylesInjection||(this.styleRef=document.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.styleRef.innerHTML=NC,document.head.appendChild(this.styleRef)),this.imageRef&&this.imageRef.complete&&this.onMediaLoad()},e.prototype.componentWillUnmount=function(){var n;window.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},e.prototype.componentDidUpdate=function(n){var r,s,i,a,o,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((o=n.crop)===null||o===void 0?void 0:o.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef)===null||h===void 0||h.load())},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=Au(r,s),this.lastPinchRotation=Ru(r,s),this.onDragStart(Mu(r,s))},e.prototype.onPinchMove=function(n){var r=this,s=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]),a=Mu(s,i);this.onDrag(a),this.rafPinchTimeout&&window.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=window.requestAnimationFrame(function(){var o=Au(s,i),l=r.props.zoom*(o/r.lastPinchDistance);r.setNewZoom(l,a),r.lastPinchDistance=o;var c=Ru(s,i),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})},e.prototype.render=function(){var n=this,r=this.props,s=r.image,i=r.video,a=r.mediaProps,o=r.transform,l=r.crop,c=l.x,d=l.y,h=r.rotation,f=r.zoom,y=r.cropShape,g=r.showGrid,v=r.style,b=v.containerStyle,R=v.cropAreaStyle,_=v.mediaStyle,k=r.classes,M=k.containerClassName,E=k.cropAreaClassName,I=k.mediaClassName,w=r.objectFit;return Ot.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(K){return n.containerRef=K},"data-testid":"container",style:b,className:_s("reactEasyCrop_Container",M)},s?Ot.createElement("img",Ie({alt:"",className:_s("reactEasyCrop_Image",w==="contain"&&"reactEasyCrop_Contain",w==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",w==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",w==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),I)},a,{src:s,ref:function(K){return n.imageRef=K},style:Ie(Ie({},_),{transform:o||"translate("+c+"px, "+d+"px) rotate("+h+"deg) scale("+f+")"}),onLoad:this.onMediaLoad})):i&&Ot.createElement("video",Ie({autoPlay:!0,loop:!0,muted:!0,className:_s("reactEasyCrop_Video",w==="contain"&&"reactEasyCrop_Contain",w==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",w==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",w==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),I)},a,{ref:function(K){return n.videoRef=K},onLoadedMetadata:this.onMediaLoad,style:Ie(Ie({},_),{transform:o||"translate("+c+"px, "+d+"px) rotate("+h+"deg) scale("+f+")"}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(A){return Ot.createElement("source",Ie({key:A.src},A))})),this.state.cropSize&&Ot.createElement("div",{style:Ie(Ie({},R),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:_s("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",g&&"reactEasyCrop_CropAreaGrid",E)}))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:kC,minZoom:EC,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(Ot.Component),IC=TC;const DC=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",s=>n(s)),r.setAttribute("crossOrigin","anonymous"),r.src=t});function AC(t){return t*Math.PI/180}async function RC(t,e,n=0){const r=await DC(t),s=document.createElement("canvas"),i=s.getContext("2d"),a=Math.max(r.width,r.height),o=2*(a/2*Math.sqrt(2));s.width=o,s.height=o,i.translate(o/2,o/2),i.rotate(AC(n)),i.translate(-o/2,-o/2),i.drawImage(r,o/2-r.width*.5,o/2-r.height*.5);const l=i.getImageData(0,0,o,o);return s.width=e.width,s.height=e.height,i.putImageData(l,0-o/2+r.width*.5-e.x,0-o/2+r.height*.5-e.y),s}const MC=async(t,e)=>!e||!t?void 0:(await RC(t,e)).toDataURL(),PC=({setOpen:t,file:e,setAvatar:n})=>{const[r,s]=p.exports.useState({x:20,y:0}),[i,a]=p.exports.useState(1),[o,l]=p.exports.useState();return u("div",{className:"dialog-wrapper",children:m("div",{className:"flex flex-col relative bg-white w-[90vw] max-w-md lg:max-w-[600px] m-auto\r shadow-lg min-h-[75vh] items-center overflow-y-auto",children:[m("div",{className:"flex bg-blue-40 w-full justify-between items-center text-white \r px-4 py-4",children:[u("p",{className:"text-white text-xl",children:"Crop Image"}),u(V,{onClick:()=>t(!1),icon:ug})]}),m("div",{className:"flex flex-col w-full mt-8 p-4",children:[u("p",{className:"text-black-70 text-sm text-center",children:'Drag the crop area until satisfied then click "upload" to save'}),u("div",{className:"flex w-full relative h-[400px]  mt-4 rounded-md p-5 border-[1px] border-gray-400",children:u(IC,{image:e,crop:r,zoom:i,aspect:1,onCropChange:s,onCropComplete:(h,f)=>{l(f)},onZoomChange:a})}),u("img",{src:"",alt:""}),u("button",{type:"button",onClick:async()=>{let h=await MC(e,o);n(h),t(!1)},className:"bg-blue-40 px-4 py-1 rounded-md text-white font-semibold\r text-lg tracking-wider max-w-sm self-center mt-4 hover:rounded-xl transition-all ease-in-out duration-75 delay-75",children:"upload"})]})]})})},Bm=t=>new Promise((e,n)=>{let r="",s=new Image;s.onload=()=>{(s==null?void 0:s.width)<1e4&&(s==null?void 0:s.height)<1e4?e(r):n("Image size is too large")};let i=new FileReader;i.readAsDataURL(t),i.onload=()=>{r=i==null?void 0:i.result,s.src=r}}),Gl=({setImg:t,oldImg:e})=>{const[n,r]=p.exports.useState(!1),[s,i]=p.exports.useState(""),[a,o]=p.exports.useState(0),l=p.exports.useRef(null),c=()=>{l.current.click()},d=async h=>{let f=await Bm(h.target.files[0]);i(f),r(!0),o(y=>++y)};return p.exports.useEffect(()=>{t(s)},[n,r]),m("div",{className:"flex flex-col w-full md:pr-4",children:[n&&u(PC,{file:s,setOpen:r,setAvatar:i}),u("input",{onChange:h=>d(h),type:"file",accept:"img/*",className:"hidden",id:"img",ref:l},a),m("div",{onClick:c,className:"flex flex-col w-full  h-60 md:w-1/2 lg:w-80 lg:h-60 items-center p-1 border-[1px] border-blue-40  bg-white rounded-xl relative",children:[u("img",{src:s||e,alt:"",className:"object-contain h-[80%] max-w-full z-10"}),u(V,{icon:Wp,className:"w-12 h-12 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0"})]})]})},OC=()=>{const{mailError:t,passError:e,email:n,password:r,fname:s,lname:i,userName:a,handleChange:o,load:l,phone:c,handlePhoneChange:d,handleSubmit:h,confirmPassword:f,img:y,setImg:g,setPhone:v}=iC(),{renderSpinner:b}=fe(),{profilePhoto:R,phoneNumber:_}=se(ge);return p.exports.useEffect(()=>{g(R),v(_)},[]),m("form",{className:"flex flex-col  gap-y-[0.1rem] w-full py-[5rem] px-[2rem] lg:px-[4rem]\r justify-around relative",autoComplete:"off",onSubmit:h,children:[u("div",{className:"invisible md:visible absolute w-[40rem] h-[40rem] top-0 left-0 \r bg-gray-100 -z-10 rounded-br-full"}),u("p",{className:"text-black-80 text-[1.4rem] md:text-[2rem] font-[700]",children:"Edit profile"}),m("div",{className:"flex flex-col w-screen ",children:[m("div",{className:"flex flex-col lg:flex-row  gap-[0rem] md:gap-[2rem] items-start",children:[m("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[u("label",{htmlFor:"fname",className:"labels",children:"First Name"}),u("input",{autoComplete:"off",onChange:o,value:s,required:!0,type:"text",id:"fname",name:"fname",className:"inputs"})]}),m("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[u("label",{htmlFor:"lname",className:"labels",children:"Last Name"}),u("input",{autoComplete:"off",onChange:o,value:i,required:!0,type:"text",id:"lname",name:"lname",className:"inputs"})]})]}),m("div",{className:"flex flex-col lg:flex-row gap-[0rem] md:gap-[2rem] items-start",children:[m("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[u("label",{htmlFor:"userName",className:"labels",children:"Username"}),u("input",{autoComplete:"off",onChange:o,value:a,required:!0,type:"text",id:"userName",className:"inputs"})]}),u("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]"})]}),m("div",{className:"flex flex-col lg:flex-row gap-[0rem] md:gap-[2rem] items-start",children:[m("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[u("label",{htmlFor:"email",className:"labels",children:"Email Address"}),u("input",{autoComplete:"off",onChange:o,value:n,required:!0,type:"text",id:"email",name:"email",className:"inputs"})]}),m("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[u("label",{htmlFor:"phone",className:"labels",children:"Phone Number"}),u(xo,{autoComplete:"off",country:"ke",value:c,onChange:d,className:"inputs"})]})]}),u("div",{className:"flex flex-col my-[2rem] w-[80vw] md:w-[80%] lg:w-[40%]",children:u(Gl,{setImg:g,oldImg:y})})]}),u("div",{className:"mt-[1rem]",children:b(l)}),u("button",{disabled:e.length>1||t.length>1||l||(c==null?void 0:c.length)<4||f!==r,type:"submit",className:"bg-blue-20 py-[0.2rem] mt-[3rem]  text-white text-[1.4rem] rounded-lg\r font-bold w-[14rem] hover:bg-blue-600 self-start disabled:bg-gray-400",children:"Update"})]})},LC=()=>{const[t,e]=p.exports.useState("");return{populate:(r,s,i)=>r.map(a=>Object.assign(a,{actions:s.map((o,l)=>u("button",{id:a.name,value:a._id,onClick:c=>{e(a._id),i(o,a._id)},className:"blue-btn mx-4 my-4 flex-shrink-0",children:o},l))})),target:t}},zm=()=>{const{Axios:t}=Dt(),[e,n]=p.exports.useState([]),[r,s]=p.exports.useState(!1),{_id:i}=se(ge),[a,o]=p.exports.useState(""),[l,c]=p.exports.useState(""),[d,h]=p.exports.useState(!1),[f,y]=p.exports.useState("pending");let g=ee();const v=[{name:"Date Placed",selector:E=>new Date(E.date).toLocaleDateString()},{name:"Product",selector:E=>E.itemId.productId.name},{name:"Qty",selector:E=>E.itemId.productId.quantity},{name:"variations",selector:E=>E.itemId.productId.variations},{name:"Status",selector:E=>E.status},{name:"actions",selector:E=>E.actions}],b=async()=>{s(!0);try{let{data:E}=await t.get(`/shop/${i}`);o(E._id),s(!1),await R(E==null?void 0:E._id)}catch{s(!1),we.fire({icon:"error",title:"Failed to get your orders"})}},R=async E=>{s(!0);try{let{data:I}=await t.get(`/orders/all/shop/${E}`);n(I),s(!1)}catch{s(!1)}};return{getOrderByShopID:R,getOrdersByUserID:async()=>{s(!0);try{let{data:E}=await t.get(`/orders/${i}`);n(E),s(!1)}catch{s(!1)}},columns:v,load:r,getMyShop:b,open:d,setOpen:h,orderId:l,shopId:a,editOrder:async(E,I,w)=>{E.preventDefault(),s(!0);try{await t.put(`/orders/orders/${I}`,{status:f}),await R(w),s(!1),h(!1),we.fire({icon:"success",title:"Your order has been updated"})}catch{we.fire({icon:"error",title:"Error updating order",timer:1500}),s(!1)}},setStatus:y,orders:e,getOrderById:async E=>{var I,w;s(!0);try{let{data:A}=await t.get(`/orders/orders/${E}`);s(!1),g(`/product/${(w=(I=A==null?void 0:A.itemId)==null?void 0:I.productId)==null?void 0:w._id}`)}catch{s(!1)}},setOrderId:c}},FC=({setOpen:t,orderId:e,shopId:n})=>{const{editOrder:r,setStatus:s}=zm();return u("div",{className:"dialog-wrapper",children:m("div",{className:"dialog",children:[u(V,{icon:ci,color:"red",className:"absolute right-[5%] top-[4%] text-[1.6rem]",onClick:()=>t(!1)}),m("form",{className:"flex flex-col justify-around gap-y-[2rem]",onSubmit:i=>{r(i,e,n),t(!1)},children:[m("div",{className:"flex flex-col space-y-4",children:[u("p",{className:"text-blue-40 text-[1.1rem] font-[700]",children:"Status"}),m("select",{onChange:i=>s(i.target.value),required:!0,id:"billing",className:"h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-semibold px-[1rem] form-ring",children:[m("option",{disabled:!0,defaultValue:"true",value:"",children:[" ","-- select an option --"," "]}),u("option",{value:"pending",className:"text-[1.2rem] font-[500]",children:"Pending"}),u("option",{value:"cancelled",className:"text-[1.2rem] font-[500]",children:"Cancelled"}),u("option",{value:"shipped",className:"text-[1.2rem] font-[500]",children:"Shipped"}),u("option",{value:"delivered",className:"text-[1.2rem] font-[500]",children:"Delivered"})]})]}),u("button",{type:"submit",className:"bg-gray-20 text-white px-[1rem] py-[0.2rem]  rounded-md \r hover:bg-blue-40 font-[700]",children:"Update"})]})]})})},UC=({shippingId:t,setOpen:e})=>u("div",{className:"dialog-wrapper",children:m("div",{className:"dialog  font-[600] text-xl gap-y-4",children:[m("p",{className:"text-gray-20  justify-self-start",children:["Shipping Name:",m("span",{className:"text-blue-30",children:["\xA0\xA0",t.name]})]}),m("p",{className:"text-gray-20  justify-self-start",children:["Shipping address 1:",m("span",{className:"text-blue-30",children:["\xA0\xA0",t.addrress1]})]}),m("p",{className:"text-gray-20  justify-self-start",children:["Shipping address 2:",m("span",{className:"text-blue-30",children:["\xA0\xA0",t.addrress2]})]}),m("p",{className:"text-gray-20  justify-self-start",children:["State:",m("span",{className:"text-blue-30",children:["\xA0\xA0",t.state]})]}),m("p",{className:"text-gray-20  justify-self-start",children:["City:",m("span",{className:"text-blue-30",children:["\xA0\xA0",t.city]})]}),m("p",{className:"text-gray-20  justify-self-start",children:["Phone:",m("span",{className:"text-blue-30",children:["\xA0\xA0",t.phone]})]}),u("button",{onClick:()=>e(!1),className:"red-outline-btn absolute right-5 bottom-5",children:"Close"})]})});Ou("light",{text:{fontSize:"2rem",fontWeight:"2px",primary:"#000000"},background:{default:"inherit"}});const VC={cells:{style:{minHeight:"72px",fontSize:"1rem",fontWeight:"500"}},headCells:{style:{fontSize:"1.5rem",fontWeight:"600"}}},$C=()=>{const{getOrderByShopID:t,load:e,getMyShop:n,open:r,setOpen:s,orderId:i,shopId:a,getOrdersByUserID:o,orders:l,getOrderById:c,setOrderId:d}=zm(),{renderSpinner:h}=fe(),f=p.exports.useRef(),[y,g]=p.exports.useState(["view","edit"]),[v,b]=p.exports.useState(!1),[R,_]=p.exports.useState({}),{populate:k}=LC();p.exports.useEffect(()=>{t(a)},[r]),p.exports.useEffect(()=>{n()},[]);const M=async(I,w)=>{switch(I){case"view":await c(w),s(!1);break;case"edit":d(w),s(!0);break}},E=[{name:"Date Placed",selector:I=>new Date(I.date).toLocaleDateString()},{name:"Product",selector:I=>{var w,A;return(A=(w=I==null?void 0:I.itemId)==null?void 0:w.productId)==null?void 0:A.name}},{name:"Qty",selector:I=>{var w;return(w=I==null?void 0:I.itemId)==null?void 0:w.quantity}},{name:"variations",selector:I=>{var w,A;return(A=(w=I==null?void 0:I.itemId)==null?void 0:w.productId)==null?void 0:A.variations}},{name:"Status",selector:I=>I==null?void 0:I.status},{name:"Shipping Info",selector:I=>u("button",{onClick:()=>{b(!0),_(I.shippingId)},className:"blue-btn mx-4 my-4 flex-shrink-0",children:"Info"})},{name:"actions",selector:I=>I.actions}];return m("div",{className:"flex flex-col px-[2rem] py-[3rem]  gap-[2rem] min",children:[m("div",{ref:f,className:"flex flex-col gap-y-[0.1rem]  px-[1rem]",children:[m("div",{className:"inline-flex gap-x-4 items-center",children:[u("button",{disabled:y.length>1,onClick:async()=>{await t(a),g(["view","edit"])},className:"text-gray-20  disabled:text-blue-40 font-semibold self-start  py-2",children:"My shop orders"}),u("p",{className:"text-gray-20 font-semibold",children:"/"}),u("button",{disabled:y.length<2,onClick:async()=>{g(["view"]),await o()},className:"text-gray-20  disabled:text-blue-40 font-semibold self-start  py-2",children:"My orders"})]}),u("div",{className:"absolute top-48 left-[48%] mt-[1rem]",children:h(e)})]}),m("div",{className:"flex flex-col w-full border-2 mt-[4rem] relative",children:[u("div",{className:`${r?"fixed z-50 right-[0%] top-[8%]":"hidden"}`,children:u(FC,{setOpen:s,orderId:i,shopId:a})}),v?u(UC,{setOpen:b,shippingId:R}):null,u(Lu,{columns:E,data:k(l,y,M),responsive:!0,pagination:!0,customStyles:VC,subHeaderWrap:!0,striped:!0,title:"Orders",theme:"light",fixedHeader:!0,fixedHeaderScrollHeight:"500px",pointerOnHover:!0,className:"bg text-color"})]})]})},Kl=()=>{const{_id:t}=se(ge),{Axios:e}=Dt(),[n,r]=p.exports.useState({}),[s,i]=p.exports.useState(!1);return{myShop:n,load:s,getShopsByUserId:async()=>{var o,l;i(!0);try{let{data:c}=await e.get(`/shop/${t}`);r(c),i(!1)}catch(c){we.fire({icon:"error",text:(l=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:l.message}),i(!1)}}}},BC=()=>{const[t,e]=p.exports.useState(""),[n,r]=p.exports.useState(""),[s,i]=p.exports.useState(""),[a,o]=p.exports.useState(""),[l,c]=p.exports.useState(""),[d,h]=p.exports.useState("");return{shopName:t,email:a,location:n,desc:s,phone:l,handleChange:g=>{switch(g.target.id){case"shopName":e(g.target.value);break;case"location":r(g.target.value);break;case"desc":i(g.target.value);break;case"email":o(g.target.value),g.target.value.toLowerCase().match(ql)?h(""):h("Invalid email");break}},handlePhoneChange:g=>{c(g)},mailError:d}};const Xl=()=>{const[t,e]=p.exports.useState([]);return{uploadToFirebase:(r,s)=>{e([]),r.forEach(i=>{const a=Oh($f,`/${s}/${i.name}`),o=Mh(a,i);o.on("state_changed",l=>{},l=>{we.fire({icon:"error",text:"Storage error"})},async()=>{let l=await Ph(o.snapshot.ref);e(c=>[...c,l])})})},uris:t}},zC=()=>{const{shopName:t,email:e,location:n,desc:r,phone:s,handleChange:i,handlePhoneChange:a,mailError:o}=BC(),{renderSpinner:l}=fe(),{getObject:c,load:d,mongoErr:h}=Ze(),[f,y]=p.exports.useState(""),{_id:g}=se(ge);let v=ee();const{uploadToFirebase:b,uris:R}=Xl(),[_,k]=p.exports.useState(!1),M=async I=>{I.preventDefault();let w=(f==null?void 0:f.length)>0&&Mm(f,"profile");f.length>0&&b([w],"user/display_picture"),k(!0)},E=async()=>{(await c(`/shop/${g}`,"POST",{name:t,email:e,location:n,phoneNumber:s,description:r,image:R[0]})).success&&(we.fire({icon:"success",timer:1e3}),v("/myAccount/shops/"))};return p.exports.useEffect(()=>(R.length===1&&(k(!1),E()),()=>{}),[R]),m("div",{className:"flex flex-col  w-full",children:[u("p",{className:"text-xl text-black-80 text-center",children:"Create Your Shop"}),m("form",{autoComplete:"off",onSubmit:M,className:"py-8 flex flex-col gap-8 w-full items-center",children:[m("div",{className:"flex w-full flex-col md:flex-row lg:w-1/2 justify-center gap-6 lg:gap-10",children:[u("input",{onChange:i,value:t,required:!0,type:"text",id:"shopName",placeholder:"Name",className:"inputs w-full"}),u("input",{onChange:i,required:!0,value:n,type:"text",id:"location",placeholder:"Location",className:"inputs w-full"})]}),m("div",{className:"flex w-full flex-col md:flex-row md:w-full lg:w-1/2 justify-center \r gap-6 lg:gap-10",children:[m("div",{className:"flex w-full flex-col gap-y-2",children:[u("input",{autoComplete:"off",onChange:i,value:e,required:!0,type:"text",id:"email",placeholder:"Email",className:"inputs w-full"}),u("p",{className:"text-red-20",children:o})]}),u("div",{className:"flex w-full",children:u(xo,{required:!0,country:"us",value:s,onChange:a,className:"inputs w-full",placeholder:"Telephone"})})]}),u("div",{className:"flex w-full flex-col md:flex-row md:w-full lg:w-1/2 justify-center \r gap-6 lg:gap-10",children:u("textarea",{onChange:i,value:r,required:!0,rows:3,cols:50,id:"desc",placeholder:"Description",className:"textarea w-full"})}),u("div",{className:"min-w-full md:min-w-fit",children:u(Gl,{setImg:y,oldImg:void 0})}),m("div",{className:"flex flex-col-reverse w-full lg:w-1/2 gap-4 ",children:[u("button",{type:"submit",disabled:(o==null?void 0:o.length)>0||d||(f==null?void 0:f.length)<1,className:"red-btn",children:"Submit"}),u("p",{className:"text-red-20 text-lg font-medium",children:h}),l(d||_)]})]})]})},jC=()=>{const[t,e]=p.exports.useState(""),[n,r]=p.exports.useState(""),[s,i]=p.exports.useState(""),[a,o]=p.exports.useState(""),[l,c]=p.exports.useState(""),[d,h]=p.exports.useState(""),[f,y]=p.exports.useState(""),{Axios:g}=Dt();let{shopId:v}=tt();return{shopName:t,email:l,location:n,desc:a,img:s,phone:d,handleChange:k=>{switch(k.target.id){case"shopName":e(k.target.value);break;case"location":r(k.target.value);break;case"desc":o(k.target.value);break;case"email":c(k.target.value),y(""),k.target.value.toLowerCase().match(ql)?y(""):y("Invalid email");break}},handlePhoneChange:k=>{h(k)},mailError:f,getShopById:async()=>{try{let{data:{name:k,email:M,location:E,phoneNumber:I,image:w,description:A}}=await g.get(`/shop/shop/${v}`);e(k),r(E),i(w),o(A),h(I),c(M)}catch{}}}},HC=()=>{const{Axios:t}=Dt(),[e,n]=p.exports.useState(!1),[r,s]=p.exports.useState(!1);return{load:e,deleteShop:async(a,o)=>{a.preventDefault(),n(!0),s(!1);try{t.put(`/shop/shop/${o}`,{open:!1}),n(!1),we.fire({icon:"success",title:"Shop closed successfully",timer:1500})}catch{n(!1),we.fire({icon:"error",title:"Sorry the shop was not closed",timer:1500})}},openDelete:r,setOpenDelete:s}},YC=({name:t,shopId:e,setOpenDelete:n})=>{const{load:r,deleteShop:s}=HC(),[i,a]=p.exports.useState(),o=l=>{a(l.target.value)};return u("div",{className:"dialog-wrapper",children:m("div",{className:"dialog",children:[u(V,{icon:ci,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>n(!1)}),m("p",{className:"text-[1rem] md:text-[1.4rem] text-black-40 font-[300]",children:["Please type ",m("span",{className:"font-[700]",children:[" ",t," "]}),"to confirm"]}),m("form",{className:"flex flex-col justify-around gap-y-[4rem]",onSubmit:l=>{s(l,e),n(!1)},children:[u("input",{type:"text",required:!0,className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r form-ring",onChange:l=>o(l)}),u("button",{type:"submit",disabled:i!==t,className:" border-[0.2rem] border-red-20 px-[1rem] py-[0.4rem]\r text-red-20 font-[700] disabled:bg-gray-200 disabled:border-red-300\r disabled:text-red-200",children:"I understand the consequences,close this shop."})]})]})})},WC=()=>{const{shopName:t,email:e,location:n,desc:r,phone:s,handleChange:i,handlePhoneChange:a,mailError:o,getShopById:l}=jC(),{getShopsByUserId:c,myShop:d}=Kl();let{shopId:h}=tt();const[f,y]=p.exports.useState(""),[g,v]=p.exports.useState(!1);let b=ee();const{renderSpinner:R}=fe(),[_,k]=p.exports.useState(!1);p.exports.useEffect(()=>{l(),c()},[]),p.exports.useEffect(()=>{d!==null&&y(d)});const{getObject:M,load:E,mongoErr:I}=Ze();Xl();const w=()=>{};return m("div",{className:"flex flex-col rounded-2xl px-[1rem] py-[3rem]  relative",children:[g&&u(YC,{name:t,shopId:h,setOpenDelete:v}),u(V,{icon:Wu,onClick:()=>b("/myAccount/shops"),className:"back"}),m("form",{autoComplete:"off",className:"flex flex-col md:flex-row gap-8",children:[m("div",{className:" flex flex-col w-full md:w-[45%]",children:[u("label",{htmlFor:"shopName",className:"labels",children:"Shop Name"}),u("input",{autoComplete:"off",onChange:i,value:t,required:!0,type:"text",id:"shopName",className:"inputs"}),u("label",{htmlFor:"location",className:"labels",children:"Location"}),u("input",{autoComplete:"off",onChange:i,required:!0,value:n,type:"text",id:"location",className:"inputs"}),u("label",{htmlFor:"email",className:"labels",children:"Shop email"}),u("input",{autoComplete:"off",onChange:i,value:e,required:!0,type:"text",id:"email",className:"inputs"}),u("p",{className:"text-red-20",children:o}),u("label",{htmlFor:"phone",className:"labels",children:"Shop Telephone"}),u(xo,{autoComplete:"off",country:"us",value:s,required:!0,onChange:a,className:"inputs"}),u("label",{htmlFor:"desc",className:"labels",children:"Description"}),u("textarea",{autoComplete:"off",onChange:i,value:r,required:!0,rows:5,cols:50,id:"desc",className:"textarea"})]}),m("div",{className:"flex flex-col justify-end w-full md:w-[45%] gap-8 ",children:[u(Gl,{setImg:y,oldImg:f}),R(E||_),m("div",{className:"flex w-full flex-row justify-between lg:justify-center lg:gap-24 ",children:[u("button",{onClick:w,type:"button",disabled:E||_||o.length>0,className:"blue-btn",children:"Update"}),u("button",{type:"button",onClick:()=>v(!0),disabled:E,className:"red-outline-btn",children:"Close shop"})]})]})]})]})},qC=({name:t,img:e,id:n})=>{let r=ee();return m("div",{className:"flex flex-col rounded-lg shadow-lg card-border px-[0.5rem] py-[0.8rem]\r flex-shrink-0 relative",children:[u("div",{className:"flex gradient rounded-md  border-[0.1rem] border-gray-300",children:u("img",{src:e,alt:"",className:"object-contain",onError:({currentTarget:s})=>{s.onerror=null,s.src="/img/picture.png"}})}),u("p",{className:"text-blue-20 font-[900] text-[1rem] my-[1rem]",children:t}),u(Co,{to:`/myAccount/shops/products/${n}`,className:"card-link",children:"view products"}),u("button",{onClick:()=>{r(`/myAccount/shops/add/${n}`)},className:" px-[0.8rem] py-[0.1rem] rounded-lg absolute top-[6%]\r left-[5%] bg-white",children:u(V,{icon:ig,className:"self-center text-[0.8rem]",color:"red "})}),u("button",{onClick:()=>{r(`/myAccount/shops/edit/${n}`)},className:"px-[0.8rem] py-[0.1rem] rounded-lg absolute top-[6%]  right-[5%] text-[1rem]\r bg-white",children:u(V,{onClick:()=>{r(`/myAccount/shops/edit/${n}`)},icon:rg,className:"self-center text-gray-20 text-[0.8rem]"})})]})},GC=()=>{var i;const{myShop:t,load:e,getShopsByUserId:n}=Kl();let r=ee();const{renderSpinner:s}=fe();return p.exports.useEffect(()=>{n()},[]),m("div",{className:"flex flex-col md:px-6 py-8 w-full ",children:[s(e),t!==null&&!e&&u("div",{className:"flex flex-col md:flex-row md:justify-self-center gap-8 flex-wrap",children:u("div",{className:"relative",children:u(qC,{img:t==null?void 0:t.image,name:t==null?void 0:t.name,userName:(i=t==null?void 0:t.userId)==null?void 0:i.userName,id:t==null?void 0:t._id})})}),t===null&&!e&&m("button",{onClick:()=>r("/myAccount/shops/create"),className:"flex px-[1rem] py-[0.5rem] bg-blue-20 rounded-md text-white \r text-center  text-[1.4rem] self-start",children:[u(V,{icon:sg,size:"1x",className:"self-center mr-[1rem]"}),"Create Shop"]})]})},KC=()=>{const{_id:t}=se(ge),[e,n]=p.exports.useState(""),[r,s]=p.exports.useState(0),[i,a]=p.exports.useState(""),[o,l]=p.exports.useState(""),[c,d]=p.exports.useState(""),[h,f]=p.exports.useState(!1),{Axios:y}=Dt();let g=ee();const v=()=>{n(""),s(0),a(""),l("")};return{name:e,price:r,quantity:i,handleChange:_=>{switch(_.target.id){case"name":n(_.target.value);break;case"price":s(_.target.value);break;case"quantity":a(_.target.value);break;case"desc":l(_.target.value);break;case"variations":d(_.target.value);break}},addProduct:async(_,k)=>{f(!0),_.preventDefault();try{let{data:M}=await y.post(`/products/${k}`,{name:e,price:r,quantity:i,ownerId:t,description:o,variations:c});g(`/myAccount/shops/add/${k}/images/${M.data._id}`,{replace:!0}),v(),f(!1),we.fire({icon:"success",text:"proceed to add photos to your product"})}catch(M){let E=M.response.data.split(":");f(!1),we.fire({icon:"error",text:M.response.status===409?"Please choose a different shop name":E[2],timer:2e3})}},load:h,desc:o,variations:c}},XC=()=>{const{name:t,price:e,quantity:n,handleChange:r,addProduct:s,load:i,desc:a,variations:o}=KC();let{shopId:l}=tt();const{renderSpinner:c}=fe();let d=ee();return m("form",{autoComplete:"off",name:"addProduct",className:"flex flex-col gap-x-[8rem] px-[1rem] py-[3rem] lg:w-full relative",onSubmit:h=>{s(h,l)},children:[u(V,{icon:Wu,onClick:()=>d("/myAccount/shops"),className:"back"}),u("p",{className:"text-[1.4rem] md:text-[1.8rem] text-gray-20 font-[700]",children:"New Product"}),m("div",{className:"flex flex-col md:flex-row md:space-x-10",children:[m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"name",className:"labels",children:"Product name"}),u("input",{onChange:r,required:!0,autoFocus:!0,value:t,type:"text",id:"name",className:" inputs"})]}),m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"price",className:"labels",children:"Price($)"}),u("input",{min:"0",onChange:r,required:!0,value:e,type:"number",id:"price",className:"inputs"})]})]}),m("div",{className:"flex flex-col md:flex-row md:space-x-10",children:[m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"quantity",className:"labels",children:"Description"}),u("textarea",{onChange:r,required:!0,rows:3,value:a,id:"desc",className:"textarea"})]}),m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"quantity",className:"labels",children:"Quantity"}),u("input",{min:"0",onChange:r,required:!0,value:n,type:"number",id:"quantity",className:"inputs"})]})]}),m("div",{className:"flex flex-col md:flex-row md:space-x-10",children:[m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"variations",className:"labels",children:"Variations"}),u("input",{onChange:r,required:!0,value:o,id:"variations",className:"inputs"})]}),u("div",{className:"flex flex-col w-full"})]}),m("div",{className:"flex flex-row space-x-6  mt-[2rem] text-white text-[1.2rem]",children:[u("button",{disabled:i,type:"submit",className:"blue-btn px-[1rem] py-[0.4rem] bg-blue-20 rounded-md h-12",children:"Continue"}),c(i)]})]})},QC=()=>{const[t,e]=p.exports.useState([]),[n,r]=p.exports.useState(""),[s,i]=p.exports.useState(!1);return{shopDetails:t,getShopDetails:async o=>{i(!0);try{let{data:l}=await Fs.get(`/products/${o}`);e(l),i(!1)}catch(l){r(l),i(!1)}},load:s,errors:n}},ZC=({name:t,price:e,images:n,id:r,setOpenDelete:s})=>{let i=ee();return m("div",{className:"flex flex-col px-[1rem] py-[3rem] lg:py-[4rem] bg-white card-border\r rounded-md border-white shadow-2xl  relative ",children:[u(V,{icon:Ku,color:"",className:" absolute right-5 top-3 font-[300] text-[1rem] text-gray-20",onClick:()=>i(`/myAccount/shops/products/edit/${r}`)}),u(V,{icon:Xu,color:"red",className:" ml-auto mt-[2rem] absolute left-5 -top-5 font-[300] text-[1rem]",onClick:()=>s(!0)}),u("p",{className:"text-blue-20 font-[500] text-[1.4rem] my-[1rem]",children:t}),u("div",{className:"flex gradient card-border rounded-md",children:u("img",{src:n[0],alt:"",className:"h-[35vh] md:h-[25vh] lg:h-[30vh] w-[80vw] md:w-[38vw] \r lg:w-[20rem] 2xl:w-[23rem] 3xl:w-[45rem] object-cover  rounded-md ",onError:({currentTarget:a})=>{a.onerror=null,a.src="/img/picture.png"}})}),u(Co,{to:`/myAccount/shops/products/preview/${r}`,className:"card-link absolute bottom-[2%] left-[10%]",children:"view"}),m("p",{className:"absolute bottom-[2%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem] opacity-80 rounded-md",children:["$ ",e]})]})};yn({key:"productOpen",default:!1});const JC=yn({key:"deleteOpen",default:!1}),e3=()=>{const{Axios:t}=Dt(),[e,n]=p.exports.useState(!1),r=Ct(JC);return{load:e,deleteProduct:async(i,a)=>{i.preventDefault(),n(!0);try{t.delete(`/products/products/${a}`),n(!1),we.fire({icon:"success",title:"Product deleted successfully",timer:1500}),r(!1)}catch{n(!1),we.fire({icon:"error",title:"Sorry the product was not deleted",timer:1500})}}}},t3=({name:t,productId:e,shopId:n,setOpenDelete:r})=>{const[s,i]=p.exports.useState(),a=h=>{i(h.target.value)};let o=ee();const{load:l,deleteProduct:c}=e3(),{renderSpinner:d}=fe();return u("div",{className:"dialog-wrapper",children:m("div",{className:"dialog",children:[u(V,{icon:ci,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>r(!1)}),d(l),m("p",{className:"text-[1rem] md:text-[1.4rem] text-black-40 font-[300]",children:["Please type ",m("span",{className:"font-[700]",children:[" ",t," "]}),"to confirm"]}),m("form",{className:"flex flex-col justify-around gap-y-[4rem]",onSubmit:h=>{c(h,e),r(!1),o(`/myAccount/shops/products/${n}`)},children:[u("input",{type:"text",required:!0,className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r form-ring",onChange:h=>a(h)}),u("button",{type:"submit",disabled:s!==t,className:" border-[0.2rem] border-red-20 px-[1rem] py-[0.4rem]\r text-red-20 text-[700] disabled:bg-gray-200 disabled:border-red-300\r disabled:text-red-200",children:"I understand the consequences, delete this product."})]})]})})},n3=()=>{const{shopDetails:t,getShopDetails:e,load:n}=QC();let{shopId:r}=tt();const{renderSpinner:s}=fe(),[i,a]=p.exports.useState(""),[o,l]=p.exports.useState(""),[c,d]=p.exports.useState(!1);return p.exports.useEffect(()=>{e(r)},[c,d]),m("div",{className:"flex flex-col w-full md:w-screen",children:[u("div",{className:"w-full py-[1rem] bg-white  border-b-4 mb-[2rem]",children:u("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r md:px-[2rem] lg:px-[4.5rem]",children:"My products"})}),n||t.length>0?m("div",{className:`${c?"flex flex-col pb-[2rem] md:px-[2rem] lg:px-[4.5rem] opacity-50":" flex flex-col  pb-[2rem] md:px-[2rem] lg:px-[4.5rem]"}`,children:[s(n),u("div",{className:"flex flex-col",children:u("div",{className:"flex flex-col md:flex-row md:justify-self-center gap-8 flex-wrap",children:t==null?void 0:t.map((h,f)=>{var y;return u("div",{onClick:()=>{a(h==null?void 0:h._id),l(h==null?void 0:h.name)},children:u(ZC,{name:h==null?void 0:h.name,price:h==null?void 0:h.price,images:h==null?void 0:h.images,id:h==null?void 0:h._id,userName:(y=h==null?void 0:h.ownerId)==null?void 0:y.userName,setOpenDelete:d},f)},f)})})})]}):u("div",{className:"flex flex-row self-center items-center py-[10rem] gap-x-[2rem] px-[2rem]",children:u("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"This shop is empty right now."})}),c?u("div",{className:"fixed top-[0%] md:top-[20%] md:right-[33%] z-50 bg-white shadow-xl",children:u(t3,{shopId:r,name:o,productId:i,setOpenDelete:d})}):null]})},r3=()=>{const[t,e]=p.exports.useState(0),n=p.exports.useRef(null),[r,s]=p.exports.useState([]),[i,a]=p.exports.useState([]),o=ee(),{uploadToFirebase:l,uris:c}=Xl(),{renderSpinner:d}=fe(),{productId:h}=tt(),{getObject:f,load:y}=Ze(),[g,v]=p.exports.useState(!1),b=async _=>{s(M=>[...M,_.target.files[0]]);let k=await Bm(_.target.files[0]);a(M=>[...M,k]),e(M=>++M)},R=async()=>{l(r,"/products/images"),v(!0)};return p.exports.useEffect(()=>(c.length===r.length&&r.length>0&&c.length>0&&(f(`/products/products/${h}`,"PUT",{images:c}),we.fire({icon:"success",timer:1e3}),v(!1),s([]),o("/myAccount/shops/",{replace:!0})),()=>{}),[c]),m("div",{className:"flex flex-col px-4 py-8 relative items-center",children:[u("input",{type:"file",onChange:_=>b(_),id:"",className:"hidden",ref:n},t),u(V,{icon:ag,onClick:()=>n.current.click(),className:"text-blue-30 text-6xl absolute top-28 right-5 md:right-4 lg:right-40 2xl:right-1/3"}),u("p",{className:"text-black-70 text-lg md:text-3xl font-medium my-8",children:"Click on the plus button to add images"}),d(y||g),u("div",{className:"flex flex-wrap gap-2 justify-center max-w-md",children:i.map((_,k)=>u("img",{src:_,alt:"",className:"object-contain w-24 h-24 border-[1px] rounded-md"},k))}),u("div",{className:"flex min-h-[20vh]"}),u("div",{className:"flex flex-wrap"}),u("button",{onClick:()=>{R()},disabled:r.length<1||y||g,className:"red-btn w-60",children:"Submit"})]})},s3=()=>{const{_id:t}=se(ge),{Axios:e}=Dt(),[n,r]=p.exports.useState(""),[s,i]=p.exports.useState(0),[a,o]=p.exports.useState(""),[l,c]=p.exports.useState(""),[d,h]=p.exports.useState([]),[f,y]=p.exports.useState(!1),[g,v]=p.exports.useState(""),[b,R]=p.exports.useState(""),_=async w=>{y(!0);try{let{data:{images:A,name:K,price:Le,quantity:Fe,description:ht,shopId:Mt,variations:G}}=await e.get(`/products/products/${w}`);h(A),i(Le),r(K),o(Fe),y(!1),c(ht),v(Mt._id),R(G)}catch{y(!1)}};return{getProductById:_,editProductById:async(w,A)=>{y(!0),w.preventDefault();try{await e.put(`/products/products/${A}`,{name:n,price:s,quantity:a,ownerId:t,description:l,variations:b.toString()}),await _(A),we.fire({icon:"success",text:"Your product has been updated",timer:1e3}),y(!1)}catch(K){let Le=K.response.data.split(":");y(!1),we.fire({icon:"error",text:K.response.status===409?"Please choose a different shop name":Le[2],timer:2e3})}},removeImg:w=>{w>-1&&h(A=>A.filter(K=>A.indexOf(K)!==w))},clearAttributes:()=>{r(""),i(0),o(""),h([""]),c("")},name:n,quantity:a,price:s,displays:d,load:f,handleChange:w=>{switch(w.target.id){case"name":r(w.target.value);break;case"price":i(w.target.value);break;case"quantity":o(w.target.value);break;case"variations":R(w.target.value);break;case"desc":c(w.target.value);break}},description:l,shopId:g,variations:b}},i3=()=>{const{getProductById:t,editProductById:e,name:n,quantity:r,price:s,load:i,handleChange:a,description:o,displays:l,shopId:c,variations:d}=s3(),h=ee();let{productId:f}=tt();const{renderSpinner:y}=fe();return p.exports.useEffect(()=>{t(f)},[]),m("form",{autoComplete:"off",onSubmit:g=>{e(g,f)},className:"flex flex-col w-full px-[0.5rem]  py-[2rem] md:px-[2rem] space-y-5 relative",children:[m("div",{className:"flex flex-col md:flex-row space-y-8 md:space-y-0 md:space-x-10",children:[m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"name",className:"labels",children:"Product name"}),u("input",{onChange:a,required:!0,value:n,type:"text",id:"name",className:"inputs"})]}),m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"price",className:"labels",children:"Price($.)"}),u("input",{onChange:a,required:!0,value:s,type:"number",id:"price",className:"inputs"})]})]}),m("div",{className:"flex flex-col md:flex-row space-y-8 md:space-y-0 md:space-x-10",children:[m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"desc",className:"labels",children:"Description"}),u("textarea",{onChange:a,value:o,id:"desc",rows:3,className:"textarea"})]}),m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"quantity",className:"labels",children:"Quantity"}),u("input",{onChange:a,required:!0,value:r,type:"number",id:"quantity",className:"inputs"})]})]}),m("div",{className:"flex flex-col md:flex-row md:space-x-10",children:[m("div",{className:"flex flex-col w-full",children:[u("label",{htmlFor:"variations",className:"labels",children:"Variations"}),u("input",{onChange:a,value:d,id:"variations",className:"inputs"})]}),u("div",{className:"flex flex-col w-full"})]}),m("div",{className:"flex flex-col md:flex-row  md:space-x-10",children:[i?null:u("div",{className:"flex flex-col w-full",children:u("button",{type:"button",onClick:()=>{h(`/myAccount/shops/add/${c}/images/${f}`,{replace:!0})},className:"red-outline-btn",children:"Upload new images"})}),u("div",{className:"flex flex-row flex-wrap w-full",children:l==null?void 0:l.map((g,v)=>u("div",{className:"relative flex flex-col",children:g.length>60?u("img",{src:g,alt:"",className:"h-[6rem] w-[4rem] lg:w-[8rem] mx-[1.4rem] object-contain\r cursor-pointer"},v):u("img",{src:g,alt:g,className:"h-[6rem] w-[4rem] lg:w-[8rem] mx-[1.4rem] object-contain\r cursor-pointer"},v)},v))})]}),m("div",{className:"flex flex-col w-full md:w-[50%]",children:[y(i),u("button",{type:"submit",className:"blue-btn",children:"Update"})]})]})},a3=()=>{var l,c;const[t,e]=p.exports.useState(0),{getProductById:n,product:r,errors:s,load:i}=Rm(),{renderSpinner:a}=fe(),{productId:o}=tt();return ui(),p.exports.useEffect(()=>{n(o)},[]),u("div",{className:"flex flex-col items-start px-[1rem] md:px-[5rem] xl:px-[10rem] py-[2rem] \r gap-[rem] min-h-screen",children:m("div",{className:"flex flex-col  flex-wrap items-start\r md:justify-center  md:gap-[2rem]",children:[a(i),m("div",{className:"flex flex-col lg:flex-row gap-y-[2rem] lg:gap-x-[10rem] lg:gap-0\r max-w-5xl",children:[m("div",{className:"gap-[2rem] flex flex-col w-full",children:[u("p",{className:"text-black text-[1.2rem] md:text-[2.25rem] font-[800] text-left\r w-[8rem] md:w-[16rem]",children:"Product Details."}),((l=r==null?void 0:r.images)==null?void 0:l.length)>0?m("div",{className:"relative",children:[u("img",{src:r==null?void 0:r.images[t],alt:"productImg",className:" h-[40vh] w-[78vw] md:w-[30rem] md:h-[60vh] 2xl:h-[20vh] \r object-cover rounded-2xl border-2"}),u(V,{onClick:()=>e(d=>{var h;return d===0?((h=r==null?void 0:r.images)==null?void 0:h.length)-1:d-1}),icon:Hu,size:"4x",className:"hidden md:flex absolute  left-[-8%] top-[40%] md:left-[-18%]\r text-gray-300"}),u(V,{onClick:()=>e(d=>{var h;return d===((h=r==null?void 0:r.images)==null?void 0:h.length)-1?0:d+1}),icon:Yu,size:"4x",className:"hidden md:flex absolute right-[-8%] top-[40%] md:right-[-18%]\r text-gray-300"})]}):i?null:u("div",{className:"flex flex-col py-[2rem]",children:u("p",{className:"text-left text-gray-10 font-[500] text-[1rem] \r lg:text-[1rem]",children:"This product has no images"})}),u("div",{className:"flex flex-row gap-[2rem] overflow-x-scroll max-w-[80vw]\r md:max-w-[40vw]",children:(c=r==null?void 0:r.images)==null?void 0:c.map((d,h)=>u("div",{style:{backgroundImage:`url(${d})`},className:"w-[12rem] h-[6rem] rounded-2xl bg-cover bg-center \r bg-no-repeat border-[0.12rem] border-black-40 cursor-pointer flex-shrink-0",onClick:()=>e(h)},h))})]}),m("div",{className:"flex flex-col lg:gap-y-[0.5rem] w-full",children:[u("p",{className:"text-left text-gray-10 font-[600] text-[1.25rem] lg:text-[1.6rem]",children:r==null?void 0:r.name}),m("p",{className:"text-left text-gray-10 font-[400] text-[0.78rem] lg:text-[1rem]",children:["By ",u("span",{className:"text-blue-20",children:"Nike"})]}),u("p",{className:"text-left text-blue-20 font-[600] text-[1.4rem]",children:(r==null?void 0:r.quantity)===0?"$"+r.price:r.price===void 0?"":"$. "+(r==null?void 0:r.price)}),u("p",{className:"text-left text-gray-10 font-[600] text-[1.4rem]",children:(r==null?void 0:r.quantity)===0?null:"Available"}),u("p",{className:"text-left text-gray-10 font-[600] text-[1.4rem] mt-8",children:r==null?void 0:r.description})]})]})]})})},o3=()=>{const{getShopsByUserId:t}=Kl();return p.exports.useEffect(()=>{t()},[]),u("div",{className:"flex flex-col  flex-nowrap  gap-[2rem] \r px-[2rem] py-[4rem] relative",children:m(zu,{children:[u(oe,{path:"/",element:u(GC,{})}),u(oe,{path:"/create",element:u(zC,{})}),u(oe,{path:"/edit/:shopId",element:u(WC,{})}),u(oe,{path:"/add/:shopId",element:u(XC,{})}),u(oe,{path:"/add/:shopId/images/:productId",element:u(r3,{})}),u(oe,{path:"/products/:shopId",element:u(n3,{})}),u(oe,{path:"/products/edit/:productId",element:u(i3,{})}),u(oe,{path:"/products/preview/:productId",element:u(a3,{})})]})})},l3=p.exports.lazy(()=>Ur(()=>import("./Account.6e0c902e.js"),["assets/Account.6e0c902e.js","assets/moreBigLibs.00d880fd.js","assets/bigLibs.c150cb44.js","assets/agora.0fcbc9c9.js","assets/stripe.ab219216.js"])),c3=p.exports.lazy(()=>Ur(()=>import("./Orders.f1e5e3fd.js"),["assets/Orders.f1e5e3fd.js","assets/moreBigLibs.00d880fd.js","assets/bigLibs.c150cb44.js","assets/agora.0fcbc9c9.js","assets/stripe.ab219216.js"])),u3=p.exports.lazy(()=>Ur(()=>import("./Live.b9c89bac.js"),["assets/Live.b9c89bac.js","assets/moreBigLibs.00d880fd.js","assets/bigLibs.c150cb44.js","assets/agora.0fcbc9c9.js","assets/stripe.ab219216.js"])),h3=p.exports.lazy(()=>Ur(()=>import("./Register.7687c6f1.js"),["assets/Register.7687c6f1.js","assets/moreBigLibs.00d880fd.js","assets/bigLibs.c150cb44.js","assets/agora.0fcbc9c9.js","assets/stripe.ab219216.js"])),d3=p.exports.lazy(()=>Ur(()=>import("./Login.3f15cd26.js"),["assets/Login.3f15cd26.js","assets/moreBigLibs.00d880fd.js","assets/bigLibs.c150cb44.js","assets/agora.0fcbc9c9.js","assets/stripe.ab219216.js"])),f3=()=>u(p.exports.Suspense,{fallback:lp,children:m(zu,{children:[m(oe,{path:"/",element:u(Rg,{}),children:[u(oe,{path:"/",element:u(nC,{})}),u(oe,{path:"/searching",element:u(zS,{})}),u(oe,{path:"/wallet",element:u(ur,{children:u(YS,{})})}),u(oe,{path:"/product/:productId",element:u(Ug,{})}),u(oe,{path:"/shop/:shopId",element:u(rC,{})}),u(oe,{path:"/rooms/:roomId",element:u(ur,{children:u(US,{})})}),u(oe,{path:"/orders/*",element:u(ur,{children:u(c3,{})})}),u(oe,{path:"/live/*",element:u(ur,{children:u(u3,{})})})]}),m(oe,{path:"/myAccount",element:u(ur,{children:u(l3,{})}),children:[u(oe,{path:"/myAccount/profile",element:u(OC,{})}),u(oe,{path:"/myAccount/shops/*",element:u(o3,{})}),u(oe,{path:"/myAccount/orders",element:u($C,{})})]}),u(oe,{path:"/login",element:u(Nu,{children:u(d3,{})})}),u(oe,{path:"/register",element:u(Nu,{children:u(h3,{})})})]})}),m3='"pk_test_51L8LWWLgGM1KvZ7gcGqlOziJzd4FAcyVmulQdD1BkP7gW0a8Q7j2RIf7zdTArb2wADAipfyZ4chTCfbLosKHWtgU00YpnOZFRR";;',p3=rp(m3);Jm.render(u(Ot.StrictMode,{children:u(ep,{children:u(sp,{stripe:p3,children:u($p,{children:u(f3,{})})})})}),document.getElementById("root"));export{Fs as A,k3 as B,I3 as C,V as F,Gl as I,Co as L,b3 as N,Lp as O,zu as R,LS as T,og as a,_3 as b,T3 as c,br as d,Dt as e,E3 as f,ee as g,C3 as h,fe as i,Eg as j,tt as k,oe as l,S3 as m,Mm as n,Mh as o,Ph as p,Ze as q,Oh as r,$f as s,N3 as t,ge as u,Xl as v,ag as w,Bm as x,sC as y,ql as z};
